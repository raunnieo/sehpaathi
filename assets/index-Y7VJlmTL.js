var DC=Object.defineProperty;var OC=(t,e,n)=>e in t?DC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Kh=(t,e,n)=>OC(t,typeof e!="symbol"?e+"":e,n);function Lw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Mw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vw={exports:{}},Ld={},Fw={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ql=Symbol.for("react.element"),LC=Symbol.for("react.portal"),MC=Symbol.for("react.fragment"),VC=Symbol.for("react.strict_mode"),FC=Symbol.for("react.profiler"),jC=Symbol.for("react.provider"),UC=Symbol.for("react.context"),BC=Symbol.for("react.forward_ref"),zC=Symbol.for("react.suspense"),$C=Symbol.for("react.memo"),WC=Symbol.for("react.lazy"),ov=Symbol.iterator;function HC(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var jw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uw=Object.assign,Bw={};function Go(t,e,n){this.props=t,this.context=e,this.refs=Bw,this.updater=n||jw}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zw(){}zw.prototype=Go.prototype;function Cm(t,e,n){this.props=t,this.context=e,this.refs=Bw,this.updater=n||jw}var Am=Cm.prototype=new zw;Am.constructor=Cm;Uw(Am,Go.prototype);Am.isPureReactComponent=!0;var av=Array.isArray,$w=Object.prototype.hasOwnProperty,Rm={current:null},Ww={key:!0,ref:!0,__self:!0,__source:!0};function Hw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$w.call(e,r)&&!Ww.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ql,type:t,key:s,ref:o,props:i,_owner:Rm.current}}function KC(t,e){return{$$typeof:Ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function km(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ql}function qC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var lv=/\/+/g;function qh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qC(""+t.key):e.toString(36)}function ac(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ql:case LC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qh(o,0):r,av(i)?(n="",t!=null&&(n=t.replace(lv,"$&/")+"/"),ac(i,e,n,"",function(c){return c})):i!=null&&(km(i)&&(i=KC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(lv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",av(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+qh(s,a);o+=ac(s,e,n,u,i)}else if(u=HC(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+qh(s,a++),o+=ac(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nu(t,e,n){if(t==null)return t;var r=[],i=0;return ac(t,r,"","",function(s){return e.call(n,s,i++)}),r}function GC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},lc={transition:null},QC={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:lc,ReactCurrentOwner:Rm};function Kw(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Nu,forEach:function(t,e,n){Nu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nu(t,function(){e++}),e},toArray:function(t){return Nu(t,function(e){return e})||[]},only:function(t){if(!km(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Go;ge.Fragment=MC;ge.Profiler=FC;ge.PureComponent=Cm;ge.StrictMode=VC;ge.Suspense=zC;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC;ge.act=Kw;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Uw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Rm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)$w.call(e,u)&&!Ww.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ql,type:t.type,key:i,ref:s,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:UC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jC,_context:t},t.Consumer=t};ge.createElement=Hw;ge.createFactory=function(t){var e=Hw.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:BC,render:t}};ge.isValidElement=km;ge.lazy=function(t){return{$$typeof:WC,_payload:{_status:-1,_result:t},_init:GC}};ge.memo=function(t,e){return{$$typeof:$C,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=lc.transition;lc.transition={};try{t()}finally{lc.transition=e}};ge.unstable_act=Kw;ge.useCallback=function(t,e){return Qt.current.useCallback(t,e)};ge.useContext=function(t){return Qt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Qt.current.useEffect(t,e)};ge.useId=function(){return Qt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Qt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};ge.useRef=function(t){return Qt.current.useRef(t)};ge.useState=function(t){return Qt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Qt.current.useTransition()};ge.version="18.3.1";Fw.exports=ge;var U=Fw.exports;const xm=Mw(U),dl=Lw({__proto__:null,default:xm},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=U,XC=Symbol.for("react.element"),JC=Symbol.for("react.fragment"),ZC=Object.prototype.hasOwnProperty,eA=YC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tA={key:!0,ref:!0,__self:!0,__source:!0};function qw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ZC.call(e,r)&&!tA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:XC,type:t,key:s,ref:o,props:i,_owner:eA.current}}Ld.Fragment=JC;Ld.jsx=qw;Ld.jsxs=qw;Vw.exports=Ld;var x=Vw.exports,Wf={},Gw={exports:{}},En={},Qw={exports:{}},Yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,ie){var le=q.length;q.push(ie);e:for(;0<le;){var Ie=le-1>>>1,we=q[Ie];if(0<i(we,ie))q[Ie]=ie,q[le]=we,le=Ie;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ie=q[0],le=q.pop();if(le!==ie){q[0]=le;e:for(var Ie=0,we=q.length,Le=we>>>1;Ie<Le;){var gt=2*(Ie+1)-1,Ct=q[gt],At=gt+1,Xt=q[At];if(0>i(Ct,le))At<we&&0>i(Xt,Ct)?(q[Ie]=Xt,q[At]=le,Ie=At):(q[Ie]=Ct,q[gt]=le,Ie=gt);else if(At<we&&0>i(Xt,le))q[Ie]=Xt,q[At]=le,Ie=At;else break e}}return ie}function i(q,ie){var le=q.sortIndex-ie.sortIndex;return le!==0?le:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,g=3,v=!1,E=!1,C=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(q){for(var ie=n(c);ie!==null;){if(ie.callback===null)r(c);else if(ie.startTime<=q)r(c),ie.sortIndex=ie.expirationTime,e(u,ie);else break;ie=n(c)}}function D(q){if(C=!1,A(q),!E)if(n(u)!==null)E=!0,De(V);else{var ie=n(c);ie!==null&&Ae(D,ie.startTime-q)}}function V(q,ie){E=!1,C&&(C=!1,S(y),y=-1),v=!0;var le=g;try{for(A(ie),f=n(u);f!==null&&(!(f.expirationTime>ie)||q&&!k());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,g=f.priorityLevel;var we=Ie(f.expirationTime<=ie);ie=t.unstable_now(),typeof we=="function"?f.callback=we:f===n(u)&&r(u),A(ie)}else r(u);f=n(u)}if(f!==null)var Le=!0;else{var gt=n(c);gt!==null&&Ae(D,gt.startTime-ie),Le=!1}return Le}finally{f=null,g=le,v=!1}}var P=!1,T=null,y=-1,I=5,p=-1;function k(){return!(t.unstable_now()-p<I)}function O(){if(T!==null){var q=t.unstable_now();p=q;var ie=!0;try{ie=T(!0,q)}finally{ie?R():(P=!1,T=null)}}else P=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,G=re.port2;re.port1.onmessage=O,R=function(){G.postMessage(null)}}else R=function(){b(O,0)};function De(q){T=q,P||(P=!0,R())}function Ae(q,ie){y=b(function(){q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,De(V))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var ie=3;break;default:ie=g}var le=g;g=ie;try{return q()}finally{g=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=g;g=q;try{return ie()}finally{g=le}},t.unstable_scheduleCallback=function(q,ie,le){var Ie=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Ie+le:Ie):le=Ie,q){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=le+we,q={id:d++,callback:ie,priorityLevel:q,startTime:le,expirationTime:we,sortIndex:-1},le>Ie?(q.sortIndex=le,e(c,q),n(u)===null&&q===n(c)&&(C?(S(y),y=-1):C=!0,Ae(D,le-Ie))):(q.sortIndex=we,e(u,q),E||v||(E=!0,De(V))),q},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(q){var ie=g;return function(){var le=g;g=ie;try{return q.apply(this,arguments)}finally{g=le}}}})(Yw);Qw.exports=Yw;var nA=Qw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rA=U,vn=nA;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xw=new Set,hl={};function xs(t,e){ko(t,e),ko(t+"Capture",e)}function ko(t,e){for(hl[t]=e,t=0;t<e.length;t++)Xw.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=Object.prototype.hasOwnProperty,iA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uv={},cv={};function sA(t){return Hf.call(cv,t)?!0:Hf.call(uv,t)?!1:iA.test(t)?cv[t]=!0:(uv[t]=!0,!1)}function oA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aA(t,e,n,r){if(e===null||typeof e>"u"||oA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pm=/[\-:]([a-z])/g;function bm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pm,bm);Ot[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pm,bm);Ot[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pm,bm);Ot[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Nm(t,e,n,r){var i=Ot.hasOwnProperty(e)?Ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aA(e,n,i,r)&&(n=null),r||i===null?sA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yr=rA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Du=Symbol.for("react.element"),ro=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Dm=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Jw=Symbol.for("react.provider"),Zw=Symbol.for("react.context"),Om=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Lm=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),e1=Symbol.for("react.offscreen"),dv=Symbol.iterator;function Sa(t){return t===null||typeof t!="object"?null:(t=dv&&t[dv]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Gh;function Ma(t){if(Gh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Gh=e&&e[1]||""}return`
`+Gh+t}var Qh=!1;function Yh(t,e){if(!t||Qh)return"";Qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ma(t):""}function lA(t){switch(t.tag){case 5:return Ma(t.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return t=Yh(t.type,!1),t;case 11:return t=Yh(t.type.render,!1),t;case 1:return t=Yh(t.type,!0),t;default:return""}}function Qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case ro:return"Portal";case Kf:return"Profiler";case Dm:return"StrictMode";case qf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zw:return(t.displayName||"Context")+".Consumer";case Jw:return(t._context.displayName||"Context")+".Provider";case Om:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Lm:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case ui:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}function uA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qf(e);case 8:return e===Dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cA(t){var e=t1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ou(t){t._valueTracker||(t._valueTracker=cA(t))}function n1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=t1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yf(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function r1(t,e){e=e.checked,e!=null&&Nm(t,"checked",e,!1)}function Xf(t,e){r1(t,e);var n=Ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jf(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jf(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Va=Array.isArray;function go(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Va(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function i1(t,e){var n=Ni(e.value),r=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lu,o1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lu=Lu||document.createElement("div"),Lu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dA=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(t){dA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qa[e]=Qa[t]})});function a1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qa.hasOwnProperty(t)&&Qa[t]?(""+e).trim():e+"px"}function l1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=a1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hA=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tp(t,e){if(e){if(hA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function np(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=null;function Mm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ip=null,yo=null,vo=null;function gv(t){if(t=Jl(t)){if(typeof ip!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Ud(e),ip(t.stateNode,t.type,e))}}function u1(t){yo?vo?vo.push(t):vo=[t]:yo=t}function c1(){if(yo){var t=yo,e=vo;if(vo=yo=null,gv(t),e)for(t=0;t<e.length;t++)gv(e[t])}}function d1(t,e){return t(e)}function h1(){}var Xh=!1;function f1(t,e,n){if(Xh)return t(e,n);Xh=!0;try{return d1(t,e,n)}finally{Xh=!1,(yo!==null||vo!==null)&&(h1(),c1())}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var sp=!1;if(Ur)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){sp=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{sp=!1}function fA(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ya=!1,Mc=null,Vc=!1,op=null,pA={onError:function(t){Ya=!0,Mc=t}};function mA(t,e,n,r,i,s,o,a,u){Ya=!1,Mc=null,fA.apply(pA,arguments)}function gA(t,e,n,r,i,s,o,a,u){if(mA.apply(this,arguments),Ya){if(Ya){var c=Mc;Ya=!1,Mc=null}else throw Error(H(198));Vc||(Vc=!0,op=c)}}function Ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function p1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yv(t){if(Ps(t)!==t)throw Error(H(188))}function yA(t){var e=t.alternate;if(!e){if(e=Ps(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return yv(i),t;if(s===r)return yv(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function m1(t){return t=yA(t),t!==null?g1(t):null}function g1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g1(t);if(e!==null)return e;t=t.sibling}return null}var y1=vn.unstable_scheduleCallback,vv=vn.unstable_cancelCallback,vA=vn.unstable_shouldYield,_A=vn.unstable_requestPaint,lt=vn.unstable_now,wA=vn.unstable_getCurrentPriorityLevel,Vm=vn.unstable_ImmediatePriority,v1=vn.unstable_UserBlockingPriority,Fc=vn.unstable_NormalPriority,EA=vn.unstable_LowPriority,_1=vn.unstable_IdlePriority,Md=null,dr=null;function TA(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Md,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:CA,SA=Math.log,IA=Math.LN2;function CA(t){return t>>>=0,t===0?32:31-(SA(t)/IA|0)|0}var Mu=64,Vu=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fa(a):(s&=o,s!==0&&(r=Fa(s)))}else o=n&~i,o!==0?r=Fa(o):s!==0&&(r=Fa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Yn(e),i=1<<n,r|=t[n],e&=~i;return r}function AA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Yn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=AA(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function ap(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function w1(){var t=Mu;return Mu<<=1,!(Mu&4194240)&&(Mu=64),t}function Jh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=n}function kA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Yn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Yn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function E1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var T1,jm,S1,I1,C1,lp=!1,Fu=[],wi=null,Ei=null,Ti=null,ml=new Map,gl=new Map,di=[],xA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _v(t,e){switch(t){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function Ca(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Jl(e),e!==null&&jm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function PA(t,e,n,r,i){switch(e){case"focusin":return wi=Ca(wi,t,e,n,r,i),!0;case"dragenter":return Ei=Ca(Ei,t,e,n,r,i),!0;case"mouseover":return Ti=Ca(Ti,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ml.set(s,Ca(ml.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gl.set(s,Ca(gl.get(s)||null,t,e,n,r,i)),!0}return!1}function A1(t){var e=as(t.target);if(e!==null){var n=Ps(e);if(n!==null){if(e=n.tag,e===13){if(e=p1(n),e!==null){t.blockedOn=e,C1(t.priority,function(){S1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=up(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rp=r,n.target.dispatchEvent(r),rp=null}else return e=Jl(n),e!==null&&jm(e),t.blockedOn=n,!1;e.shift()}return!0}function wv(t,e,n){uc(t)&&n.delete(e)}function bA(){lp=!1,wi!==null&&uc(wi)&&(wi=null),Ei!==null&&uc(Ei)&&(Ei=null),Ti!==null&&uc(Ti)&&(Ti=null),ml.forEach(wv),gl.forEach(wv)}function Aa(t,e){t.blockedOn===e&&(t.blockedOn=null,lp||(lp=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,bA)))}function yl(t){function e(i){return Aa(i,t)}if(0<Fu.length){Aa(Fu[0],t);for(var n=1;n<Fu.length;n++){var r=Fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wi!==null&&Aa(wi,t),Ei!==null&&Aa(Ei,t),Ti!==null&&Aa(Ti,t),ml.forEach(e),gl.forEach(e),n=0;n<di.length;n++)r=di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)A1(n),n.blockedOn===null&&di.shift()}var _o=Yr.ReactCurrentBatchConfig,Uc=!0;function NA(t,e,n,r){var i=Ne,s=_o.transition;_o.transition=null;try{Ne=1,Um(t,e,n,r)}finally{Ne=i,_o.transition=s}}function DA(t,e,n,r){var i=Ne,s=_o.transition;_o.transition=null;try{Ne=4,Um(t,e,n,r)}finally{Ne=i,_o.transition=s}}function Um(t,e,n,r){if(Uc){var i=up(t,e,n,r);if(i===null)uf(t,e,r,Bc,n),_v(t,r);else if(PA(i,t,e,n,r))r.stopPropagation();else if(_v(t,r),e&4&&-1<xA.indexOf(t)){for(;i!==null;){var s=Jl(i);if(s!==null&&T1(s),s=up(t,e,n,r),s===null&&uf(t,e,r,Bc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else uf(t,e,r,null,n)}}var Bc=null;function up(t,e,n,r){if(Bc=null,t=Mm(r),t=as(t),t!==null)if(e=Ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=p1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bc=t,null}function R1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wA()){case Vm:return 1;case v1:return 4;case Fc:case EA:return 16;case _1:return 536870912;default:return 16}default:return 16}}var gi=null,Bm=null,cc=null;function k1(){if(cc)return cc;var t,e=Bm,n=e.length,r,i="value"in gi?gi.value:gi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return cc=i.slice(t,1<r?1-r:void 0)}function dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ju(){return!0}function Ev(){return!1}function Tn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ju:Ev,this.isPropagationStopped=Ev,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ju)},persist:function(){},isPersistent:ju}),e}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zm=Tn(Qo),Xl=Ze({},Qo,{view:0,detail:0}),OA=Tn(Xl),Zh,ef,Ra,Vd=Ze({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$m,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ra&&(Ra&&t.type==="mousemove"?(Zh=t.screenX-Ra.screenX,ef=t.screenY-Ra.screenY):ef=Zh=0,Ra=t),Zh)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),Tv=Tn(Vd),LA=Ze({},Vd,{dataTransfer:0}),MA=Tn(LA),VA=Ze({},Xl,{relatedTarget:0}),tf=Tn(VA),FA=Ze({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),jA=Tn(FA),UA=Ze({},Qo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BA=Tn(UA),zA=Ze({},Qo,{data:0}),Sv=Tn(zA),$A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HA[t])?!!e[t]:!1}function $m(){return KA}var qA=Ze({},Xl,{key:function(t){if(t.key){var e=$A[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$m,charCode:function(t){return t.type==="keypress"?dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GA=Tn(qA),QA=Ze({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=Tn(QA),YA=Ze({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$m}),XA=Tn(YA),JA=Ze({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZA=Tn(JA),eR=Ze({},Vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tR=Tn(eR),nR=[9,13,27,32],Wm=Ur&&"CompositionEvent"in window,Xa=null;Ur&&"documentMode"in document&&(Xa=document.documentMode);var rR=Ur&&"TextEvent"in window&&!Xa,x1=Ur&&(!Wm||Xa&&8<Xa&&11>=Xa),Cv=" ",Av=!1;function P1(t,e){switch(t){case"keyup":return nR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function iR(t,e){switch(t){case"compositionend":return b1(e);case"keypress":return e.which!==32?null:(Av=!0,Cv);case"textInput":return t=e.data,t===Cv&&Av?null:t;default:return null}}function sR(t,e){if(so)return t==="compositionend"||!Wm&&P1(t,e)?(t=k1(),cc=Bm=gi=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x1&&e.locale!=="ko"?null:e.data;default:return null}}var oR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oR[t.type]:e==="textarea"}function N1(t,e,n,r){u1(r),e=zc(e,"onChange"),0<e.length&&(n=new zm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ja=null,vl=null;function aR(t){$1(t,0)}function Fd(t){var e=lo(t);if(n1(e))return t}function lR(t,e){if(t==="change")return e}var D1=!1;if(Ur){var nf;if(Ur){var rf="oninput"in document;if(!rf){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),rf=typeof kv.oninput=="function"}nf=rf}else nf=!1;D1=nf&&(!document.documentMode||9<document.documentMode)}function xv(){Ja&&(Ja.detachEvent("onpropertychange",O1),vl=Ja=null)}function O1(t){if(t.propertyName==="value"&&Fd(vl)){var e=[];N1(e,vl,t,Mm(t)),f1(aR,e)}}function uR(t,e,n){t==="focusin"?(xv(),Ja=e,vl=n,Ja.attachEvent("onpropertychange",O1)):t==="focusout"&&xv()}function cR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fd(vl)}function dR(t,e){if(t==="click")return Fd(e)}function hR(t,e){if(t==="input"||t==="change")return Fd(e)}function fR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:fR;function _l(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hf.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function Pv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bv(t,e){var n=Pv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pv(n)}}function L1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M1(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function Hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pR(t){var e=M1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&L1(n.ownerDocument.documentElement,n)){if(r!==null&&Hm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=bv(n,s);var o=bv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mR=Ur&&"documentMode"in document&&11>=document.documentMode,oo=null,cp=null,Za=null,dp=!1;function Nv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dp||oo==null||oo!==Lc(r)||(r=oo,"selectionStart"in r&&Hm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&_l(Za,r)||(Za=r,r=zc(cp,"onSelect"),0<r.length&&(e=new zm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function Uu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ao={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},sf={},V1={};Ur&&(V1=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function jd(t){if(sf[t])return sf[t];if(!ao[t])return t;var e=ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in V1)return sf[t]=e[n];return t}var F1=jd("animationend"),j1=jd("animationiteration"),U1=jd("animationstart"),B1=jd("transitionend"),z1=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(t,e){z1.set(t,e),xs(e,[t])}for(var of=0;of<Dv.length;of++){var af=Dv[of],gR=af.toLowerCase(),yR=af[0].toUpperCase()+af.slice(1);Bi(gR,"on"+yR)}Bi(F1,"onAnimationEnd");Bi(j1,"onAnimationIteration");Bi(U1,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(B1,"onTransitionEnd");ko("onMouseEnter",["mouseout","mouseover"]);ko("onMouseLeave",["mouseout","mouseover"]);ko("onPointerEnter",["pointerout","pointerover"]);ko("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ja));function Ov(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gA(r,e,void 0,t),t.currentTarget=null}function $1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Ov(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Ov(i,a,c),s=u}}}if(Vc)throw t=op,Vc=!1,op=null,t}function $e(t,e){var n=e[gp];n===void 0&&(n=e[gp]=new Set);var r=t+"__bubble";n.has(r)||(W1(e,t,2,!1),n.add(r))}function lf(t,e,n){var r=0;e&&(r|=4),W1(n,t,r,e)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function wl(t){if(!t[Bu]){t[Bu]=!0,Xw.forEach(function(n){n!=="selectionchange"&&(vR.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bu]||(e[Bu]=!0,lf("selectionchange",!1,e))}}function W1(t,e,n,r){switch(R1(e)){case 1:var i=NA;break;case 4:i=DA;break;default:i=Um}n=i.bind(null,e,n,t),i=void 0,!sp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=as(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}f1(function(){var c=s,d=Mm(n),f=[];e:{var g=z1.get(t);if(g!==void 0){var v=zm,E=t;switch(t){case"keypress":if(dc(n)===0)break e;case"keydown":case"keyup":v=GA;break;case"focusin":E="focus",v=tf;break;case"focusout":E="blur",v=tf;break;case"beforeblur":case"afterblur":v=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Tv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=MA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=XA;break;case F1:case j1:case U1:v=jA;break;case B1:v=ZA;break;case"scroll":v=OA;break;case"wheel":v=tR;break;case"copy":case"cut":case"paste":v=BA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Iv}var C=(e&4)!==0,b=!C&&t==="scroll",S=C?g!==null?g+"Capture":null:g;C=[];for(var _=c,A;_!==null;){A=_;var D=A.stateNode;if(A.tag===5&&D!==null&&(A=D,S!==null&&(D=pl(_,S),D!=null&&C.push(El(_,D,A)))),b)break;_=_.return}0<C.length&&(g=new v(g,E,null,n,d),f.push({event:g,listeners:C}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==rp&&(E=n.relatedTarget||n.fromElement)&&(as(E)||E[Br]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=c,E=E?as(E):null,E!==null&&(b=Ps(E),E!==b||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=c),v!==E)){if(C=Tv,D="onMouseLeave",S="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(C=Iv,D="onPointerLeave",S="onPointerEnter",_="pointer"),b=v==null?g:lo(v),A=E==null?g:lo(E),g=new C(D,_+"leave",v,n,d),g.target=b,g.relatedTarget=A,D=null,as(d)===c&&(C=new C(S,_+"enter",E,n,d),C.target=A,C.relatedTarget=b,D=C),b=D,v&&E)t:{for(C=v,S=E,_=0,A=C;A;A=Hs(A))_++;for(A=0,D=S;D;D=Hs(D))A++;for(;0<_-A;)C=Hs(C),_--;for(;0<A-_;)S=Hs(S),A--;for(;_--;){if(C===S||S!==null&&C===S.alternate)break t;C=Hs(C),S=Hs(S)}C=null}else C=null;v!==null&&Lv(f,g,v,C,!1),E!==null&&b!==null&&Lv(f,b,E,C,!0)}}e:{if(g=c?lo(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var V=lR;else if(Rv(g))if(D1)V=hR;else{V=cR;var P=uR}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=dR);if(V&&(V=V(t,c))){N1(f,V,n,d);break e}P&&P(t,g,c),t==="focusout"&&(P=g._wrapperState)&&P.controlled&&g.type==="number"&&Jf(g,"number",g.value)}switch(P=c?lo(c):window,t){case"focusin":(Rv(P)||P.contentEditable==="true")&&(oo=P,cp=c,Za=null);break;case"focusout":Za=cp=oo=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,Nv(f,n,d);break;case"selectionchange":if(mR)break;case"keydown":case"keyup":Nv(f,n,d)}var T;if(Wm)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else so?P1(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(x1&&n.locale!=="ko"&&(so||y!=="onCompositionStart"?y==="onCompositionEnd"&&so&&(T=k1()):(gi=d,Bm="value"in gi?gi.value:gi.textContent,so=!0)),P=zc(c,y),0<P.length&&(y=new Sv(y,t,null,n,d),f.push({event:y,listeners:P}),T?y.data=T:(T=b1(n),T!==null&&(y.data=T)))),(T=rR?iR(t,n):sR(t,n))&&(c=zc(c,"onBeforeInput"),0<c.length&&(d=new Sv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=T))}$1(f,e)})}function El(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pl(t,n),s!=null&&r.unshift(El(t,s,i)),s=pl(t,e),s!=null&&r.push(El(t,s,i))),t=t.return}return r}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=pl(n,s),u!=null&&o.unshift(El(n,u,a))):i||(u=pl(n,s),u!=null&&o.push(El(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _R=/\r\n?/g,wR=/\u0000|\uFFFD/g;function Mv(t){return(typeof t=="string"?t:""+t).replace(_R,`
`).replace(wR,"")}function zu(t,e,n){if(e=Mv(e),Mv(t)!==e&&n)throw Error(H(425))}function $c(){}var hp=null,fp=null;function pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,ER=typeof clearTimeout=="function"?clearTimeout:void 0,Vv=typeof Promise=="function"?Promise:void 0,TR=typeof queueMicrotask=="function"?queueMicrotask:typeof Vv<"u"?function(t){return Vv.resolve(null).then(t).catch(SR)}:mp;function SR(t){setTimeout(function(){throw t})}function cf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yl(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),ur="__reactFiber$"+Yo,Tl="__reactProps$"+Yo,Br="__reactContainer$"+Yo,gp="__reactEvents$"+Yo,IR="__reactListeners$"+Yo,CR="__reactHandles$"+Yo;function as(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Br]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fv(t);t!==null;){if(n=t[ur])return n;t=Fv(t)}return e}t=n,n=t.parentNode}return null}function Jl(t){return t=t[ur]||t[Br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Ud(t){return t[Tl]||null}var yp=[],uo=-1;function zi(t){return{current:t}}function We(t){0>uo||(t.current=yp[uo],yp[uo]=null,uo--)}function Be(t,e){uo++,yp[uo]=t.current,t.current=e}var Di={},Ht=zi(Di),sn=zi(!1),gs=Di;function xo(t,e){var n=t.type.contextTypes;if(!n)return Di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function Wc(){We(sn),We(Ht)}function jv(t,e,n){if(Ht.current!==Di)throw Error(H(168));Be(Ht,e),Be(sn,n)}function H1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,uA(t)||"Unknown",i));return Ze({},n,r)}function Hc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Di,gs=Ht.current,Be(Ht,t),Be(sn,sn.current),!0}function Uv(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=H1(t,e,gs),r.__reactInternalMemoizedMergedChildContext=t,We(sn),We(Ht),Be(Ht,t)):We(sn),Be(sn,n)}var xr=null,Bd=!1,df=!1;function K1(t){xr===null?xr=[t]:xr.push(t)}function AR(t){Bd=!0,K1(t)}function $i(){if(!df&&xr!==null){df=!0;var t=0,e=Ne;try{var n=xr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xr=null,Bd=!1}catch(i){throw xr!==null&&(xr=xr.slice(t+1)),y1(Vm,$i),i}finally{Ne=e,df=!1}}return null}var co=[],ho=0,Kc=null,qc=0,An=[],Rn=0,ys=null,br=1,Nr="";function es(t,e){co[ho++]=qc,co[ho++]=Kc,Kc=t,qc=e}function q1(t,e,n){An[Rn++]=br,An[Rn++]=Nr,An[Rn++]=ys,ys=t;var r=br;t=Nr;var i=32-Yn(r)-1;r&=~(1<<i),n+=1;var s=32-Yn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,br=1<<32-Yn(e)+i|n<<i|r,Nr=s+t}else br=1<<s|n<<i|r,Nr=t}function Km(t){t.return!==null&&(es(t,1),q1(t,1,0))}function qm(t){for(;t===Kc;)Kc=co[--ho],co[ho]=null,qc=co[--ho],co[ho]=null;for(;t===ys;)ys=An[--Rn],An[Rn]=null,Nr=An[--Rn],An[Rn]=null,br=An[--Rn],An[Rn]=null}var mn=null,fn=null,Qe=!1,Kn=null;function G1(t,e){var n=Pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,fn=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ys!==null?{id:br,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,fn=null,!0):!1;default:return!1}}function vp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _p(t){if(Qe){var e=fn;if(e){var n=e;if(!Bv(t,e)){if(vp(t))throw Error(H(418));e=Si(n.nextSibling);var r=mn;e&&Bv(t,e)?G1(r,n):(t.flags=t.flags&-4097|2,Qe=!1,mn=t)}}else{if(vp(t))throw Error(H(418));t.flags=t.flags&-4097|2,Qe=!1,mn=t}}}function zv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function $u(t){if(t!==mn)return!1;if(!Qe)return zv(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pp(t.type,t.memoizedProps)),e&&(e=fn)){if(vp(t))throw Q1(),Error(H(418));for(;e;)G1(t,e),e=Si(e.nextSibling)}if(zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fn=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fn=null}}else fn=mn?Si(t.stateNode.nextSibling):null;return!0}function Q1(){for(var t=fn;t;)t=Si(t.nextSibling)}function Po(){fn=mn=null,Qe=!1}function Gm(t){Kn===null?Kn=[t]:Kn.push(t)}var RR=Yr.ReactCurrentBatchConfig;function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Wu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $v(t){var e=t._init;return e(t._payload)}function Y1(t){function e(S,_){if(t){var A=S.deletions;A===null?(S.deletions=[_],S.flags|=16):A.push(_)}}function n(S,_){if(!t)return null;for(;_!==null;)e(S,_),_=_.sibling;return null}function r(S,_){for(S=new Map;_!==null;)_.key!==null?S.set(_.key,_):S.set(_.index,_),_=_.sibling;return S}function i(S,_){return S=Ri(S,_),S.index=0,S.sibling=null,S}function s(S,_,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<_?(S.flags|=2,_):A):(S.flags|=2,_)):(S.flags|=1048576,_)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,_,A,D){return _===null||_.tag!==6?(_=vf(A,S.mode,D),_.return=S,_):(_=i(_,A),_.return=S,_)}function u(S,_,A,D){var V=A.type;return V===io?d(S,_,A.props.children,D,A.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ui&&$v(V)===_.type)?(D=i(_,A.props),D.ref=ka(S,_,A),D.return=S,D):(D=vc(A.type,A.key,A.props,null,S.mode,D),D.ref=ka(S,_,A),D.return=S,D)}function c(S,_,A,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=_f(A,S.mode,D),_.return=S,_):(_=i(_,A.children||[]),_.return=S,_)}function d(S,_,A,D,V){return _===null||_.tag!==7?(_=ps(A,S.mode,D,V),_.return=S,_):(_=i(_,A),_.return=S,_)}function f(S,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vf(""+_,S.mode,A),_.return=S,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Du:return A=vc(_.type,_.key,_.props,null,S.mode,A),A.ref=ka(S,null,_),A.return=S,A;case ro:return _=_f(_,S.mode,A),_.return=S,_;case ui:var D=_._init;return f(S,D(_._payload),A)}if(Va(_)||Sa(_))return _=ps(_,S.mode,A,null),_.return=S,_;Wu(S,_)}return null}function g(S,_,A,D){var V=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return V!==null?null:a(S,_,""+A,D);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Du:return A.key===V?u(S,_,A,D):null;case ro:return A.key===V?c(S,_,A,D):null;case ui:return V=A._init,g(S,_,V(A._payload),D)}if(Va(A)||Sa(A))return V!==null?null:d(S,_,A,D,null);Wu(S,A)}return null}function v(S,_,A,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return S=S.get(A)||null,a(_,S,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Du:return S=S.get(D.key===null?A:D.key)||null,u(_,S,D,V);case ro:return S=S.get(D.key===null?A:D.key)||null,c(_,S,D,V);case ui:var P=D._init;return v(S,_,A,P(D._payload),V)}if(Va(D)||Sa(D))return S=S.get(A)||null,d(_,S,D,V,null);Wu(_,D)}return null}function E(S,_,A,D){for(var V=null,P=null,T=_,y=_=0,I=null;T!==null&&y<A.length;y++){T.index>y?(I=T,T=null):I=T.sibling;var p=g(S,T,A[y],D);if(p===null){T===null&&(T=I);break}t&&T&&p.alternate===null&&e(S,T),_=s(p,_,y),P===null?V=p:P.sibling=p,P=p,T=I}if(y===A.length)return n(S,T),Qe&&es(S,y),V;if(T===null){for(;y<A.length;y++)T=f(S,A[y],D),T!==null&&(_=s(T,_,y),P===null?V=T:P.sibling=T,P=T);return Qe&&es(S,y),V}for(T=r(S,T);y<A.length;y++)I=v(T,S,y,A[y],D),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?y:I.key),_=s(I,_,y),P===null?V=I:P.sibling=I,P=I);return t&&T.forEach(function(k){return e(S,k)}),Qe&&es(S,y),V}function C(S,_,A,D){var V=Sa(A);if(typeof V!="function")throw Error(H(150));if(A=V.call(A),A==null)throw Error(H(151));for(var P=V=null,T=_,y=_=0,I=null,p=A.next();T!==null&&!p.done;y++,p=A.next()){T.index>y?(I=T,T=null):I=T.sibling;var k=g(S,T,p.value,D);if(k===null){T===null&&(T=I);break}t&&T&&k.alternate===null&&e(S,T),_=s(k,_,y),P===null?V=k:P.sibling=k,P=k,T=I}if(p.done)return n(S,T),Qe&&es(S,y),V;if(T===null){for(;!p.done;y++,p=A.next())p=f(S,p.value,D),p!==null&&(_=s(p,_,y),P===null?V=p:P.sibling=p,P=p);return Qe&&es(S,y),V}for(T=r(S,T);!p.done;y++,p=A.next())p=v(T,S,y,p.value,D),p!==null&&(t&&p.alternate!==null&&T.delete(p.key===null?y:p.key),_=s(p,_,y),P===null?V=p:P.sibling=p,P=p);return t&&T.forEach(function(O){return e(S,O)}),Qe&&es(S,y),V}function b(S,_,A,D){if(typeof A=="object"&&A!==null&&A.type===io&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Du:e:{for(var V=A.key,P=_;P!==null;){if(P.key===V){if(V=A.type,V===io){if(P.tag===7){n(S,P.sibling),_=i(P,A.props.children),_.return=S,S=_;break e}}else if(P.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ui&&$v(V)===P.type){n(S,P.sibling),_=i(P,A.props),_.ref=ka(S,P,A),_.return=S,S=_;break e}n(S,P);break}else e(S,P);P=P.sibling}A.type===io?(_=ps(A.props.children,S.mode,D,A.key),_.return=S,S=_):(D=vc(A.type,A.key,A.props,null,S.mode,D),D.ref=ka(S,_,A),D.return=S,S=D)}return o(S);case ro:e:{for(P=A.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(S,_.sibling),_=i(_,A.children||[]),_.return=S,S=_;break e}else{n(S,_);break}else e(S,_);_=_.sibling}_=_f(A,S.mode,D),_.return=S,S=_}return o(S);case ui:return P=A._init,b(S,_,P(A._payload),D)}if(Va(A))return E(S,_,A,D);if(Sa(A))return C(S,_,A,D);Wu(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(S,_.sibling),_=i(_,A),_.return=S,S=_):(n(S,_),_=vf(A,S.mode,D),_.return=S,S=_),o(S)):n(S,_)}return b}var bo=Y1(!0),X1=Y1(!1),Gc=zi(null),Qc=null,fo=null,Qm=null;function Ym(){Qm=fo=Qc=null}function Xm(t){var e=Gc.current;We(Gc),t._currentValue=e}function wp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Qc=t,Qm=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(Qm!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if(Qc===null)throw Error(H(308));fo=t,Qc.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var ls=null;function Jm(t){ls===null?ls=[t]:ls.push(t)}function J1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jm(e)):(n.next=i.next,i.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function Zm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,zr(t,n)}return i=r.interleaved,i===null?(e.next=e,Jm(r)):(e.next=i.next,i.next=e),r.interleaved=e,zr(t,n)}function hc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fm(t,n)}}function Wv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yc(t,e,n,r){var i=t.updateQueue;ci=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,a=s;do{var g=a.lane,v=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,C=a;switch(g=e,v=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){f=E.call(v,f,g);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,g=typeof E=="function"?E.call(v,f,g):E,g==null)break e;f=Ze({},f,g);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=f):d=d.next=v,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_s|=o,t.lanes=o,t.memoizedState=f}}function Hv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Zl={},hr=zi(Zl),Sl=zi(Zl),Il=zi(Zl);function us(t){if(t===Zl)throw Error(H(174));return t}function eg(t,e){switch(Be(Il,e),Be(Sl,t),Be(hr,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ep(e,t)}We(hr),Be(hr,e)}function No(){We(hr),We(Sl),We(Il)}function eE(t){us(Il.current);var e=us(hr.current),n=ep(e,t.type);e!==n&&(Be(Sl,t),Be(hr,n))}function tg(t){Sl.current===t&&(We(hr),We(Sl))}var Xe=zi(0);function Xc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hf=[];function ng(){for(var t=0;t<hf.length;t++)hf[t]._workInProgressVersionPrimary=null;hf.length=0}var fc=Yr.ReactCurrentDispatcher,ff=Yr.ReactCurrentBatchConfig,vs=0,Je=null,yt=null,Et=null,Jc=!1,el=!1,Cl=0,kR=0;function Ft(){throw Error(H(321))}function rg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Zn(t[n],e[n]))return!1;return!0}function ig(t,e,n,r,i,s){if(vs=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fc.current=t===null||t.memoizedState===null?NR:DR,t=n(r,i),el){s=0;do{if(el=!1,Cl=0,25<=s)throw Error(H(301));s+=1,Et=yt=null,e.updateQueue=null,fc.current=OR,t=n(r,i)}while(el)}if(fc.current=Zc,e=yt!==null&&yt.next!==null,vs=0,Et=yt=Je=null,Jc=!1,e)throw Error(H(300));return t}function sg(){var t=Cl!==0;return Cl=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Je.memoizedState=Et=t:Et=Et.next=t,Et}function On(){if(yt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=Et===null?Je.memoizedState:Et.next;if(e!==null)Et=e,yt=t;else{if(t===null)throw Error(H(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Et===null?Je.memoizedState=Et=t:Et=Et.next=t}return Et}function Al(t,e){return typeof e=="function"?e(t):e}function pf(t){var e=On(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((vs&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Je.lanes|=d,_s|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Zn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,_s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=On(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Zn(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tE(){}function nE(t,e){var n=Je,r=On(),i=e(),s=!Zn(r.memoizedState,i);if(s&&(r.memoizedState=i,rn=!0),r=r.queue,og(sE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Et!==null&&Et.memoizedState.tag&1){if(n.flags|=2048,Rl(9,iE.bind(null,n,r,i,e),void 0,null),Tt===null)throw Error(H(349));vs&30||rE(n,e,i)}return i}function rE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iE(t,e,n,r){e.value=n,e.getSnapshot=r,oE(e)&&aE(t)}function sE(t,e,n){return n(function(){oE(e)&&aE(t)})}function oE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Zn(t,n)}catch{return!0}}function aE(t){var e=zr(t,1);e!==null&&Xn(e,t,1,-1)}function Kv(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Al,lastRenderedState:t},e.queue=t,t=t.dispatch=bR.bind(null,Je,t),[e.memoizedState,t]}function Rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lE(){return On().memoizedState}function pc(t,e,n,r){var i=or();Je.flags|=t,i.memoizedState=Rl(1|e,n,void 0,r===void 0?null:r)}function zd(t,e,n,r){var i=On();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&rg(r,o.deps)){i.memoizedState=Rl(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Rl(1|e,n,s,r)}function qv(t,e){return pc(8390656,8,t,e)}function og(t,e){return zd(2048,8,t,e)}function uE(t,e){return zd(4,2,t,e)}function cE(t,e){return zd(4,4,t,e)}function dE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hE(t,e,n){return n=n!=null?n.concat([t]):null,zd(4,4,dE.bind(null,e,t),n)}function ag(){}function fE(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pE(t,e){var n=On();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return vs&21?(Zn(n,e)||(n=w1(),Je.lanes|=n,_s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function xR(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=ff.transition;ff.transition={};try{t(!1),e()}finally{Ne=n,ff.transition=r}}function gE(){return On().memoizedState}function PR(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yE(t))vE(e,n);else if(n=J1(t,e,n,r),n!==null){var i=Gt();Xn(n,t,r,i),_E(n,e,r)}}function bR(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(t))vE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Zn(a,o)){var u=e.interleaved;u===null?(i.next=i,Jm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=J1(t,e,i,r),n!==null&&(i=Gt(),Xn(n,t,r,i),_E(n,e,r))}}function yE(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function vE(t,e){el=Jc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _E(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fm(t,n)}}var Zc={readContext:Dn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},NR={readContext:Dn,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:qv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pc(4194308,4,dE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pc(4194308,4,t,e)},useInsertionEffect:function(t,e){return pc(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PR.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:Kv,useDebugValue:ag,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=Kv(!1),e=t[0];return t=xR.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=or();if(Qe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Tt===null)throw Error(H(349));vs&30||rE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,qv(sE.bind(null,r,s,t),[t]),r.flags|=2048,Rl(9,iE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=or(),e=Tt.identifierPrefix;if(Qe){var n=Nr,r=br;n=(r&~(1<<32-Yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DR={readContext:Dn,useCallback:fE,useContext:Dn,useEffect:og,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:pf,useRef:lE,useState:function(){return pf(Al)},useDebugValue:ag,useDeferredValue:function(t){var e=On();return mE(e,yt.memoizedState,t)},useTransition:function(){var t=pf(Al)[0],e=On().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},OR={readContext:Dn,useCallback:fE,useContext:Dn,useEffect:og,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:mf,useRef:lE,useState:function(){return mf(Al)},useDebugValue:ag,useDeferredValue:function(t){var e=On();return yt===null?e.memoizedState=t:mE(e,yt.memoizedState,t)},useTransition:function(){var t=mf(Al)[0],e=On().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function $n(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ep(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $d={isMounted:function(t){return(t=t._reactInternals)?Ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Ai(t),s=Mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(Xn(e,t,i,r),hc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=Ai(t),s=Mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ii(t,s,i),e!==null&&(Xn(e,t,i,r),hc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=Ai(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,r),e!==null&&(Xn(e,t,r,n),hc(e,t,r))}};function Gv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_l(n,r)||!_l(i,s):!0}function wE(t,e,n){var r=!1,i=Di,s=e.contextType;return typeof s=="object"&&s!==null?s=Dn(s):(i=on(e)?gs:Ht.current,r=e.contextTypes,s=(r=r!=null)?xo(t,i):Di),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$d,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$d.enqueueReplaceState(e,e.state,null)}function Tp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dn(s):(s=on(e)?gs:Ht.current,i.context=xo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ep(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$d.enqueueReplaceState(i,i.state,null),Yc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e){try{var n="",r=e;do n+=lA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Sp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var LR=typeof WeakMap=="function"?WeakMap:Map;function EE(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){td||(td=!0,Dp=r),Sp(t,e)},n}function TE(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Sp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sp(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new LR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QR.bind(null,t,e,n),e.then(t,t))}function Xv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Ii(n,e,1))),n.lanes|=1),t)}var MR=Yr.ReactCurrentOwner,rn=!1;function qt(t,e,n,r){e.child=t===null?X1(e,null,n,r):bo(e,t.child,n,r)}function Zv(t,e,n,r,i){n=n.render;var s=e.ref;return wo(e,i),r=ig(t,e,n,r,s,i),n=sg(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(Qe&&n&&Km(e),e.flags|=1,qt(t,e,r,i),e.child)}function e0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SE(t,e,s,r,i)):(t=vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(o,r)&&t.ref===e.ref)return $r(t,e,i)}return e.flags|=1,t=Ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function SE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_l(s,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,$r(t,e,i)}return Ip(t,e,n,r,i)}function IE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(mo,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(mo,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(mo,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(mo,cn),cn|=r;return qt(t,e,i,n),e.child}function CE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ip(t,e,n,r,i){var s=on(n)?gs:Ht.current;return s=xo(e,s),wo(e,i),n=ig(t,e,n,r,s,i),r=sg(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$r(t,e,i)):(Qe&&r&&Km(e),e.flags|=1,qt(t,e,n,i),e.child)}function t0(t,e,n,r,i){if(on(n)){var s=!0;Hc(e)}else s=!1;if(wo(e,i),e.stateNode===null)mc(t,e),wE(e,n,r),Tp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dn(c):(c=on(n)?gs:Ht.current,c=xo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Qv(e,o,r,c),ci=!1;var g=e.memoizedState;o.state=g,Yc(e,r,o,i),u=e.memoizedState,a!==r||g!==u||sn.current||ci?(typeof d=="function"&&(Ep(e,n,d,r),u=e.memoizedState),(a=ci||Gv(e,n,a,r,g,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Z1(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:$n(e.type,a),o.props=c,f=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Dn(u):(u=on(n)?gs:Ht.current,u=xo(e,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==u)&&Qv(e,o,r,u),ci=!1,g=e.memoizedState,o.state=g,Yc(e,r,o,i);var E=e.memoizedState;a!==f||g!==E||sn.current||ci?(typeof v=="function"&&(Ep(e,n,v,r),E=e.memoizedState),(c=ci||Gv(e,n,c,r,g,E,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Cp(t,e,n,r,s,i)}function Cp(t,e,n,r,i,s){CE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Uv(e,n,!1),$r(t,e,s);r=e.stateNode,MR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,s),e.child=bo(e,null,a,s)):qt(t,e,a,s),e.memoizedState=r.state,i&&Uv(e,n,!0),e.child}function AE(t){var e=t.stateNode;e.pendingContext?jv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jv(t,e.context,!1),eg(t,e.containerInfo)}function n0(t,e,n,r,i){return Po(),Gm(i),e.flags|=256,qt(t,e,n,r),e.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function RE(t,e,n){var r=e.pendingProps,i=Xe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Xe,i&1),t===null)return _p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kd(o,r,0,null),t=ps(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rp(n),e.memoizedState=Ap,t):lg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return VR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ri(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ri(a,s):(s=ps(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ap,r}return s=t.child,t=s.sibling,r=Ri(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function lg(t,e){return e=Kd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hu(t,e,n,r){return r!==null&&Gm(r),bo(e,t.child,null,n),t=lg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=gf(Error(H(422))),Hu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kd({mode:"visible",children:r.children},i,0,null),s=ps(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=Ap,s);if(!(e.mode&1))return Hu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=gf(s,r,void 0),Hu(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=Tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,zr(t,i),Xn(r,t,i,-1))}return pg(),r=gf(Error(H(421))),Hu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=YR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fn=Si(i.nextSibling),mn=e,Qe=!0,Kn=null,t!==null&&(An[Rn++]=br,An[Rn++]=Nr,An[Rn++]=ys,br=t.id,Nr=t.overflow,ys=e),e=lg(e,r.children),e.flags|=4096,e)}function r0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wp(t.return,e,n)}function yf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(qt(t,e,r.children,n),r=Xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r0(t,n,e);else if(t.tag===19)r0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Xe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yf(e,!0,n,null,s);break;case"together":yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function mc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function FR(t,e,n){switch(e.tag){case 3:AE(e),Po();break;case 5:eE(e);break;case 1:on(e.type)&&Hc(e);break;case 4:eg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(Gc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Xe,Xe.current&1),e.flags|=128,null):n&e.child.childLanes?RE(t,e,n):(Be(Xe,Xe.current&1),t=$r(t,e,n),t!==null?t.sibling:null);Be(Xe,Xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Xe,Xe.current),r)break;return null;case 22:case 23:return e.lanes=0,IE(t,e,n)}return $r(t,e,n)}var xE,kp,PE,bE;xE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kp=function(){};PE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,us(hr.current);var s=null;switch(n){case"input":i=Yf(t,i),r=Yf(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=Zf(t,i),r=Zf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$c)}tp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&$e("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};bE=function(t,e,n,r){n!==r&&(e.flags|=4)};function xa(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jR(t,e,n){var r=e.pendingProps;switch(qm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return on(e.type)&&Wc(),jt(e),null;case 3:return r=e.stateNode,No(),We(sn),We(Ht),ng(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($u(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(Mp(Kn),Kn=null))),kp(t,e),jt(e),null;case 5:tg(e);var i=us(Il.current);if(n=e.type,t!==null&&e.stateNode!=null)PE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return jt(e),null}if(t=us(hr.current),$u(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ur]=e,r[Tl]=s,t=(e.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<ja.length;i++)$e(ja[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":hv(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":pv(r,s),$e("invalid",r)}tp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zu(r.textContent,a,t),i=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&$e("scroll",r)}switch(n){case"input":Ou(r),fv(r,s,!0);break;case"textarea":Ou(r),mv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$c)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[Tl]=r,xE(t,e,!1,!1),e.stateNode=t;e:{switch(o=np(n,r),n){case"dialog":$e("cancel",t),$e("close",t),i=r;break;case"iframe":case"object":case"embed":$e("load",t),i=r;break;case"video":case"audio":for(i=0;i<ja.length;i++)$e(ja[i],t);i=r;break;case"source":$e("error",t),i=r;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=r;break;case"details":$e("toggle",t),i=r;break;case"input":hv(t,r),i=Yf(t,r),$e("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),$e("invalid",t);break;case"textarea":pv(t,r),i=Zf(t,r),$e("invalid",t);break;default:i=r}tp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?l1(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&o1(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&fl(t,u):typeof u=="number"&&fl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&$e("scroll",t):u!=null&&Nm(t,s,u,o))}switch(n){case"input":Ou(t),fv(t,r,!1);break;case"textarea":Ou(t),mv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ni(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?go(t,!!r.multiple,s,!1):r.defaultValue!=null&&go(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$c)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)bE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=us(Il.current),us(hr.current),$u(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(s=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return jt(e),null;case 13:if(We(Xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&fn!==null&&e.mode&1&&!(e.flags&128))Q1(),Po(),e.flags|=98560,s=!1;else if(s=$u(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[ur]=e}else Po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else Kn!==null&&(Mp(Kn),Kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xe.current&1?_t===0&&(_t=3):pg())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return No(),kp(t,e),t===null&&wl(e.stateNode.containerInfo),jt(e),null;case 10:return Xm(e.type._context),jt(e),null;case 17:return on(e.type)&&Wc(),jt(e),null;case 19:if(We(Xe),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xa(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xc(t),o!==null){for(e.flags|=128,xa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Xe,Xe.current&1|2),e.child}t=t.sibling}s.tail!==null&&lt()>Oo&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return jt(e),null}else 2*lt()-s.renderingStartTime>Oo&&n!==1073741824&&(e.flags|=128,r=!0,xa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=lt(),e.sibling=null,n=Xe.current,Be(Xe,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return fg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function UR(t,e){switch(qm(e),e.tag){case 1:return on(e.type)&&Wc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),We(sn),We(Ht),ng(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tg(e),null;case 13:if(We(Xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Xe),null;case 4:return No(),null;case 10:return Xm(e.type._context),null;case 22:case 23:return fg(),null;case 24:return null;default:return null}}var Ku=!1,$t=!1,BR=typeof WeakSet=="function"?WeakSet:Set,J=null;function po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function xp(t,e,n){try{n()}catch(r){it(t,e,r)}}var i0=!1;function zR(t,e){if(hp=Uc,t=M1(),Hm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,g=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++d===r&&(u=o),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fp={focusedElem:t,selectionRange:n},Uc=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,b=E.memoizedState,S=e.stateNode,_=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:$n(e.type,C),b);S.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(D){it(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return E=i0,i0=!1,E}function tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&xp(e,n,s)}i=i.next}while(i!==r)}}function Wd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NE(t){var e=t.alternate;e!==null&&(t.alternate=null,NE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[Tl],delete e[gp],delete e[IR],delete e[CR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DE(t){return t.tag===5||t.tag===3||t.tag===4}function s0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$c));else if(r!==4&&(t=t.child,t!==null))for(bp(t,e,n),t=t.sibling;t!==null;)bp(t,e,n),t=t.sibling}function Np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Np(t,e,n),t=t.sibling;t!==null;)Np(t,e,n),t=t.sibling}var xt=null,Wn=!1;function oi(t,e,n){for(n=n.child;n!==null;)OE(t,e,n),n=n.sibling}function OE(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Md,n)}catch{}switch(n.tag){case 5:$t||po(n,e);case 6:var r=xt,i=Wn;xt=null,oi(t,e,n),xt=r,Wn=i,xt!==null&&(Wn?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Wn?(t=xt,n=n.stateNode,t.nodeType===8?cf(t.parentNode,n):t.nodeType===1&&cf(t,n),yl(t)):cf(xt,n.stateNode));break;case 4:r=xt,i=Wn,xt=n.stateNode.containerInfo,Wn=!0,oi(t,e,n),xt=r,Wn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&xp(n,e,o),i=i.next}while(i!==r)}oi(t,e,n);break;case 1:if(!$t&&(po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,oi(t,e,n),$t=r):oi(t,e,n);break;default:oi(t,e,n)}}function o0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new BR),e.forEach(function(r){var i=XR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,Wn=!1;break e;case 3:xt=a.stateNode.containerInfo,Wn=!0;break e;case 4:xt=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(xt===null)throw Error(H(160));OE(s,o,i),xt=null,Wn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){it(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LE(e,t),e=e.sibling}function LE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),ir(t),r&4){try{tl(3,t,t.return),Wd(3,t)}catch(C){it(t,t.return,C)}try{tl(5,t,t.return)}catch(C){it(t,t.return,C)}}break;case 1:zn(e,t),ir(t),r&512&&n!==null&&po(n,n.return);break;case 5:if(zn(e,t),ir(t),r&512&&n!==null&&po(n,n.return),t.flags&32){var i=t.stateNode;try{fl(i,"")}catch(C){it(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&r1(i,s),np(a,o);var c=np(a,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?l1(i,f):d==="dangerouslySetInnerHTML"?o1(i,f):d==="children"?fl(i,f):Nm(i,d,f,c)}switch(a){case"input":Xf(i,s);break;case"textarea":i1(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?go(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?go(i,!!s.multiple,s.defaultValue,!0):go(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tl]=s}catch(C){it(t,t.return,C)}}break;case 6:if(zn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){it(t,t.return,C)}}break;case 3:if(zn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(C){it(t,t.return,C)}break;case 4:zn(e,t),ir(t);break;case 13:zn(e,t),ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dg=lt())),r&4&&o0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?($t=(c=$t)||d,zn(e,t),$t=c):zn(e,t),ir(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(J=t,d=t.child;d!==null;){for(f=J=d;J!==null;){switch(g=J,v=g.child,g.tag){case 0:case 11:case 14:case 15:tl(4,g,g.return);break;case 1:po(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(C){it(r,n,C)}}break;case 5:po(g,g.return);break;case 22:if(g.memoizedState!==null){l0(f);continue}}v!==null?(v.return=g,J=v):l0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=a1("display",o))}catch(C){it(t,t.return,C)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(C){it(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zn(e,t),ir(t),r&4&&o0(t);break;case 21:break;default:zn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(DE(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fl(i,""),r.flags&=-33);var s=s0(t);Np(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s0(t);bp(t,a,o);break;default:throw Error(H(161))}}catch(u){it(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $R(t,e,n){J=t,ME(t)}function ME(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ku;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||$t;a=Ku;var c=$t;if(Ku=o,($t=u)&&!c)for(J=i;J!==null;)o=J,u=o.child,o.tag===22&&o.memoizedState!==null?u0(i):u!==null?(u.return=o,J=u):u0(i);for(;s!==null;)J=s,ME(s),s=s.sibling;J=i,Ku=a,$t=c}a0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):a0(t)}}function a0(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||Wd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$n(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Hv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}$t||e.flags&512&&Pp(e)}catch(g){it(e,e.return,g)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function l0(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function u0(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wd(4,e)}catch(u){it(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){it(e,i,u)}}var s=e.return;try{Pp(e)}catch(u){it(e,s,u)}break;case 5:var o=e.return;try{Pp(e)}catch(u){it(e,o,u)}}}catch(u){it(e,e.return,u)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var WR=Math.ceil,ed=Yr.ReactCurrentDispatcher,ug=Yr.ReactCurrentOwner,bn=Yr.ReactCurrentBatchConfig,Ce=0,Tt=null,mt=null,Dt=0,cn=0,mo=zi(0),_t=0,kl=null,_s=0,Hd=0,cg=0,nl=null,nn=null,dg=0,Oo=1/0,kr=null,td=!1,Dp=null,Ci=null,qu=!1,yi=null,nd=0,rl=0,Op=null,gc=-1,yc=0;function Gt(){return Ce&6?lt():gc!==-1?gc:gc=lt()}function Ai(t){return t.mode&1?Ce&2&&Dt!==0?Dt&-Dt:RR.transition!==null?(yc===0&&(yc=w1()),yc):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:R1(t.type)),t):1}function Xn(t,e,n,r){if(50<rl)throw rl=0,Op=null,Error(H(185));Yl(t,n,r),(!(Ce&2)||t!==Tt)&&(t===Tt&&(!(Ce&2)&&(Hd|=n),_t===4&&hi(t,Dt)),an(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Oo=lt()+500,Bd&&$i()))}function an(t,e){var n=t.callbackNode;RA(t,e);var r=jc(t,t===Tt?Dt:0);if(r===0)n!==null&&vv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vv(n),e===1)t.tag===0?AR(c0.bind(null,t)):K1(c0.bind(null,t)),TR(function(){!(Ce&6)&&$i()}),n=null;else{switch(E1(r)){case 1:n=Vm;break;case 4:n=v1;break;case 16:n=Fc;break;case 536870912:n=_1;break;default:n=Fc}n=WE(n,VE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VE(t,e){if(gc=-1,yc=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=jc(t,t===Tt?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rd(t,r);else{e=r;var i=Ce;Ce|=2;var s=jE();(Tt!==t||Dt!==e)&&(kr=null,Oo=lt()+500,fs(t,e));do try{qR();break}catch(a){FE(t,a)}while(!0);Ym(),ed.current=s,Ce=i,mt!==null?e=0:(Tt=null,Dt=0,e=_t)}if(e!==0){if(e===2&&(i=ap(t),i!==0&&(r=i,e=Lp(t,i))),e===1)throw n=kl,fs(t,0),hi(t,r),an(t,lt()),n;if(e===6)hi(t,r);else{if(i=t.current.alternate,!(r&30)&&!HR(i)&&(e=rd(t,r),e===2&&(s=ap(t),s!==0&&(r=s,e=Lp(t,s))),e===1))throw n=kl,fs(t,0),hi(t,r),an(t,lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ts(t,nn,kr);break;case 3:if(hi(t,r),(r&130023424)===r&&(e=dg+500-lt(),10<e)){if(jc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mp(ts.bind(null,t,nn,kr),e);break}ts(t,nn,kr);break;case 4:if(hi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Yn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*WR(r/1960))-r,10<r){t.timeoutHandle=mp(ts.bind(null,t,nn,kr),r);break}ts(t,nn,kr);break;case 5:ts(t,nn,kr);break;default:throw Error(H(329))}}}return an(t,lt()),t.callbackNode===n?VE.bind(null,t):null}function Lp(t,e){var n=nl;return t.current.memoizedState.isDehydrated&&(fs(t,e).flags|=256),t=rd(t,e),t!==2&&(e=nn,nn=n,e!==null&&Mp(e)),t}function Mp(t){nn===null?nn=t:nn.push.apply(nn,t)}function HR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hi(t,e){for(e&=~cg,e&=~Hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Yn(e),r=1<<n;t[n]=-1,e&=~r}}function c0(t){if(Ce&6)throw Error(H(327));Eo();var e=jc(t,0);if(!(e&1))return an(t,lt()),null;var n=rd(t,e);if(t.tag!==0&&n===2){var r=ap(t);r!==0&&(e=r,n=Lp(t,r))}if(n===1)throw n=kl,fs(t,0),hi(t,e),an(t,lt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ts(t,nn,kr),an(t,lt()),null}function hg(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Oo=lt()+500,Bd&&$i())}}function ws(t){yi!==null&&yi.tag===0&&!(Ce&6)&&Eo();var e=Ce;Ce|=1;var n=bn.transition,r=Ne;try{if(bn.transition=null,Ne=1,t)return t()}finally{Ne=r,bn.transition=n,Ce=e,!(Ce&6)&&$i()}}function fg(){cn=mo.current,We(mo)}function fs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ER(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(qm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wc();break;case 3:No(),We(sn),We(Ht),ng();break;case 5:tg(r);break;case 4:No();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:Xm(r.type._context);break;case 22:case 23:fg()}n=n.return}if(Tt=t,mt=t=Ri(t.current,null),Dt=cn=e,_t=0,kl=null,cg=Hd=_s=0,nn=nl=null,ls!==null){for(e=0;e<ls.length;e++)if(n=ls[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ls=null}return t}function FE(t,e){do{var n=mt;try{if(Ym(),fc.current=Zc,Jc){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jc=!1}if(vs=0,Et=yt=Je=null,el=!1,Cl=0,ug.current=null,n===null||n.return===null){_t=1,kl=e,mt=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Dt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Xv(o);if(v!==null){v.flags&=-257,Jv(v,o,a,s,e),v.mode&1&&Yv(s,c,e),e=v,u=c;var E=e.updateQueue;if(E===null){var C=new Set;C.add(u),e.updateQueue=C}else E.add(u);break e}else{if(!(e&1)){Yv(s,c,e),pg();break e}u=Error(H(426))}}else if(Qe&&a.mode&1){var b=Xv(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Jv(b,o,a,s,e),Gm(Do(u,a));break e}}s=u=Do(u,a),_t!==4&&(_t=2),nl===null?nl=[s]:nl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=EE(s,u,e);Wv(s,S);break e;case 1:a=u;var _=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ci===null||!Ci.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=TE(s,a,e);Wv(s,D);break e}}s=s.return}while(s!==null)}BE(n)}catch(V){e=V,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function jE(){var t=ed.current;return ed.current=Zc,t===null?Zc:t}function pg(){(_t===0||_t===3||_t===2)&&(_t=4),Tt===null||!(_s&268435455)&&!(Hd&268435455)||hi(Tt,Dt)}function rd(t,e){var n=Ce;Ce|=2;var r=jE();(Tt!==t||Dt!==e)&&(kr=null,fs(t,e));do try{KR();break}catch(i){FE(t,i)}while(!0);if(Ym(),Ce=n,ed.current=r,mt!==null)throw Error(H(261));return Tt=null,Dt=0,_t}function KR(){for(;mt!==null;)UE(mt)}function qR(){for(;mt!==null&&!vA();)UE(mt)}function UE(t){var e=$E(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?BE(t):mt=e,ug.current=null}function BE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=UR(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,mt=null;return}}else if(n=jR(n,e,cn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);_t===0&&(_t=5)}function ts(t,e,n){var r=Ne,i=bn.transition;try{bn.transition=null,Ne=1,GR(t,e,n,r)}finally{bn.transition=i,Ne=r}return null}function GR(t,e,n,r){do Eo();while(yi!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kA(t,s),t===Tt&&(mt=Tt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qu||(qu=!0,WE(Fc,function(){return Eo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var o=Ne;Ne=1;var a=Ce;Ce|=4,ug.current=null,zR(t,n),LE(n,t),pR(fp),Uc=!!hp,fp=hp=null,t.current=n,$R(n),_A(),Ce=a,Ne=o,bn.transition=s}else t.current=n;if(qu&&(qu=!1,yi=t,nd=i),s=t.pendingLanes,s===0&&(Ci=null),TA(n.stateNode),an(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(td)throw td=!1,t=Dp,Dp=null,t;return nd&1&&t.tag!==0&&Eo(),s=t.pendingLanes,s&1?t===Op?rl++:(rl=0,Op=t):rl=0,$i(),null}function Eo(){if(yi!==null){var t=E1(nd),e=bn.transition,n=Ne;try{if(bn.transition=null,Ne=16>t?16:t,yi===null)var r=!1;else{if(t=yi,yi=null,nd=0,Ce&6)throw Error(H(331));var i=Ce;for(Ce|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(J=c;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:tl(8,d,s)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var g=d.sibling,v=d.return;if(NE(d),d===c){J=null;break}if(g!==null){g.return=v,J=g;break}J=v}}}var E=s.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var b=C.sibling;C.sibling=null,C=b}while(C!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,J=S;break e}J=s.return}}var _=t.current;for(J=_;J!==null;){o=J;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,J=A;else e:for(o=_;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wd(9,a)}}catch(V){it(a,a.return,V)}if(a===o){J=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,J=D;break e}J=a.return}}if(Ce=i,$i(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Md,t)}catch{}r=!0}return r}finally{Ne=n,bn.transition=e}}return!1}function d0(t,e,n){e=Do(n,e),e=EE(t,e,1),t=Ii(t,e,1),e=Gt(),t!==null&&(Yl(t,1,e),an(t,e))}function it(t,e,n){if(t.tag===3)d0(t,t,n);else for(;e!==null;){if(e.tag===3){d0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=Do(n,t),t=TE(e,t,1),e=Ii(e,t,1),t=Gt(),e!==null&&(Yl(e,1,t),an(e,t));break}}e=e.return}}function QR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Dt&n)===n&&(_t===4||_t===3&&(Dt&130023424)===Dt&&500>lt()-dg?fs(t,0):cg|=n),an(t,e)}function zE(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var n=Gt();t=zr(t,e),t!==null&&(Yl(t,e,n),an(t,n))}function YR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zE(t,n)}function XR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),zE(t,n)}var $E;$E=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,FR(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Qe&&e.flags&1048576&&q1(e,qc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;mc(t,e),t=e.pendingProps;var i=xo(e,Ht.current);wo(e,n),i=ig(null,e,r,t,i,n);var s=sg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,Hc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zm(e),i.updater=$d,e.stateNode=i,i._reactInternals=e,Tp(e,r,t,n),e=Cp(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&Km(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(mc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ZR(r),t=$n(r,t),i){case 0:e=Ip(null,e,r,t,n);break e;case 1:e=t0(null,e,r,t,n);break e;case 11:e=Zv(null,e,r,t,n);break e;case 14:e=e0(null,e,r,$n(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Ip(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),t0(t,e,r,i,n);case 3:e:{if(AE(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Z1(t,e),Yc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Do(Error(H(423)),e),e=n0(t,e,r,n,i);break e}else if(r!==i){i=Do(Error(H(424)),e),e=n0(t,e,r,n,i);break e}else for(fn=Si(e.stateNode.containerInfo.firstChild),mn=e,Qe=!0,Kn=null,n=X1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Po(),r===i){e=$r(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return eE(e),t===null&&_p(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,pp(r,i)?o=null:s!==null&&pp(r,s)&&(e.flags|=32),CE(t,e),qt(t,e,o,n),e.child;case 6:return t===null&&_p(e),null;case 13:return RE(t,e,n);case 4:return eg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),Zv(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Be(Gc,r._currentValue),r._currentValue=o,s!==null)if(Zn(s.value,o)){if(s.children===i.children&&!sn.current){e=$r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Mr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),wp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wo(e,n),i=Dn(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=$n(r,e.pendingProps),i=$n(r.type,i),e0(t,e,r,i,n);case 15:return SE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$n(r,i),mc(t,e),e.tag=1,on(r)?(t=!0,Hc(e)):t=!1,wo(e,n),wE(e,r,i),Tp(e,r,i,n),Cp(null,e,r,!0,t,n);case 19:return kE(t,e,n);case 22:return IE(t,e,n)}throw Error(H(156,e.tag))};function WE(t,e){return y1(t,e)}function JR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,n,r){return new JR(t,e,n,r)}function mg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZR(t){if(typeof t=="function")return mg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Om)return 11;if(t===Lm)return 14}return 2}function Ri(t,e){var n=t.alternate;return n===null?(n=Pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")mg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case io:return ps(n.children,i,s,e);case Dm:o=8,i|=8;break;case Kf:return t=Pn(12,n,e,i|2),t.elementType=Kf,t.lanes=s,t;case qf:return t=Pn(13,n,e,i),t.elementType=qf,t.lanes=s,t;case Gf:return t=Pn(19,n,e,i),t.elementType=Gf,t.lanes=s,t;case e1:return Kd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jw:o=10;break e;case Zw:o=9;break e;case Om:o=11;break e;case Lm:o=14;break e;case ui:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ps(t,e,n,r){return t=Pn(7,t,r,e),t.lanes=n,t}function Kd(t,e,n,r){return t=Pn(22,t,r,e),t.elementType=e1,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=Pn(6,t,null,e),t.lanes=n,t}function _f(t,e,n){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ek(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jh(0),this.expirationTimes=Jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gg(t,e,n,r,i,s,o,a,u){return t=new ek(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zm(s),t}function tk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ro,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HE(t){if(!t)return Di;t=t._reactInternals;e:{if(Ps(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(on(n))return H1(t,n,e)}return e}function KE(t,e,n,r,i,s,o,a,u){return t=gg(n,r,!0,t,i,s,o,a,u),t.context=HE(null),n=t.current,r=Gt(),i=Ai(n),s=Mr(r,i),s.callback=e??null,Ii(n,s,i),t.current.lanes=i,Yl(t,i,r),an(t,r),t}function qd(t,e,n,r){var i=e.current,s=Gt(),o=Ai(i);return n=HE(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ii(i,e,o),t!==null&&(Xn(t,i,o,s),hc(t,i,o)),o}function id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function h0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yg(t,e){h0(t,e),(t=t.alternate)&&h0(t,e)}function nk(){return null}var qE=typeof reportError=="function"?reportError:function(t){console.error(t)};function vg(t){this._internalRoot=t}Gd.prototype.render=vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));qd(t,e,null,null)};Gd.prototype.unmount=vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ws(function(){qd(null,t,null,null)}),e[Br]=null}};function Gd(t){this._internalRoot=t}Gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=I1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<di.length&&e!==0&&e<di[n].priority;n++);di.splice(n,0,t),n===0&&A1(t)}};function _g(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function f0(){}function rk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=id(o);s.call(c)}}var o=KE(e,r,t,0,null,!1,!1,"",f0);return t._reactRootContainer=o,t[Br]=o.current,wl(t.nodeType===8?t.parentNode:t),ws(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=id(u);a.call(c)}}var u=gg(t,0,!1,null,null,!1,!1,"",f0);return t._reactRootContainer=u,t[Br]=u.current,wl(t.nodeType===8?t.parentNode:t),ws(function(){qd(e,u,n,r)}),u}function Yd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=id(o);a.call(u)}}qd(e,o,t,i)}else o=rk(n,e,t,i,r);return id(o)}T1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fa(e.pendingLanes);n!==0&&(Fm(e,n|1),an(e,lt()),!(Ce&6)&&(Oo=lt()+500,$i()))}break;case 13:ws(function(){var r=zr(t,1);if(r!==null){var i=Gt();Xn(r,t,1,i)}}),yg(t,1)}};jm=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=Gt();Xn(e,t,134217728,n)}yg(t,134217728)}};S1=function(t){if(t.tag===13){var e=Ai(t),n=zr(t,e);if(n!==null){var r=Gt();Xn(n,t,e,r)}yg(t,e)}};I1=function(){return Ne};C1=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};ip=function(t,e,n){switch(e){case"input":if(Xf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ud(r);if(!i)throw Error(H(90));n1(r),Xf(r,i)}}}break;case"textarea":i1(t,n);break;case"select":e=n.value,e!=null&&go(t,!!n.multiple,e,!1)}};d1=hg;h1=ws;var ik={usingClientEntryPoint:!1,Events:[Jl,lo,Ud,u1,c1,hg]},Pa={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sk={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m1(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Md=Gu.inject(sk),dr=Gu}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ik;En.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_g(e))throw Error(H(200));return tk(t,e,null,n)};En.createRoot=function(t,e){if(!_g(t))throw Error(H(299));var n=!1,r="",i=qE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gg(t,1,!1,null,null,n,!1,r,i),t[Br]=e.current,wl(t.nodeType===8?t.parentNode:t),new vg(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=m1(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return ws(t)};En.hydrate=function(t,e,n){if(!Qd(e))throw Error(H(200));return Yd(null,t,e,!0,n)};En.hydrateRoot=function(t,e,n){if(!_g(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KE(e,null,t,1,n??null,i,!1,s,o),t[Br]=e.current,wl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gd(e)};En.render=function(t,e,n){if(!Qd(e))throw Error(H(200));return Yd(null,t,e,!1,n)};En.unmountComponentAtNode=function(t){if(!Qd(t))throw Error(H(40));return t._reactRootContainer?(ws(function(){Yd(null,null,t,!1,function(){t._reactRootContainer=null,t[Br]=null})}),!0):!1};En.unstable_batchedUpdates=hg;En.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Yd(t,e,n,!1,r)};En.version="18.3.1-next-f1338f8080-20240426";function GE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GE)}catch(t){console.error(t)}}GE(),Gw.exports=En;var wg=Gw.exports;const ok=Mw(wg),ak=Lw({__proto__:null,default:ok},[wg]);var p0=wg;Wf.createRoot=p0.createRoot,Wf.hydrateRoot=p0.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ge(){return Ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ge.apply(this,arguments)}var ft;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ft||(ft={}));const m0="popstate";function lk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return xl("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Es(i)}return ck(e,n,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uk(){return Math.random().toString(36).substr(2,8)}function g0(t,e){return{usr:t.state,key:t.key,idx:e}}function xl(t,e,n,r){return n===void 0&&(n=null),Ge({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wi(e):e,{state:n,key:e&&e.key||r||uk()})}function Es(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ck(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ft.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Ge({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ft.Pop;let b=d(),S=b==null?null:b-c;c=b,u&&u({action:a,location:C.location,delta:S})}function g(b,S){a=ft.Push;let _=xl(C.location,b,S);c=d()+1;let A=g0(_,c),D=C.createHref(_);try{o.pushState(A,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(D)}s&&u&&u({action:a,location:C.location,delta:1})}function v(b,S){a=ft.Replace;let _=xl(C.location,b,S);c=d();let A=g0(_,c),D=C.createHref(_);o.replaceState(A,"",D),s&&u&&u({action:a,location:C.location,delta:0})}function E(b){let S=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof b=="string"?b:Es(b);return _=_.replace(/ $/,"%20"),pe(S,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,S)}let C={get action(){return a},get location(){return t(i,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(m0,f),u=b,()=>{i.removeEventListener(m0,f),u=null}},createHref(b){return e(i,b)},createURL:E,encodeLocation(b){let S=E(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(b){return o.go(b)}};return C}var Oe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Oe||(Oe={}));const dk=new Set(["lazy","caseSensitive","path","id","index","children"]);function hk(t){return t.index===!0}function sd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),pe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),hk(i)){let u=Ge({},i,e(i),{id:a});return r[a]=u,u}else{let u=Ge({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=sd(i.children,e,o,r)),u}})}function ss(t,e,n){return n===void 0&&(n="/"),_c(t,e,n,!1)}function _c(t,e,n,r){let i=typeof e=="string"?Wi(e):e,s=Xo(i.pathname||"/",n);if(s==null)return null;let o=QE(t);pk(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Ck(s);a=Sk(o[u],c,r)}return a}function fk(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function QE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(pe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Vr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),QE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Ek(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of YE(s.path))i(s,o,u)}),e}function YE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YE(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function pk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mk=/^:[\w-]+$/,gk=3,yk=2,vk=1,_k=10,wk=-2,y0=t=>t==="*";function Ek(t,e){let n=t.split("/"),r=n.length;return n.some(y0)&&(r+=wk),e&&(r+=yk),n.filter(i=>!y0(i)).reduce((i,s)=>i+(mk.test(s)?gk:s===""?vk:_k),r)}function Tk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Sk(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=v0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),g=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=v0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Vr([s,f.pathname]),pathnameBase:kk(Vr([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=Vr([s,f.pathnameBase]))}return o}function v0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Ik(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let C=a[f]||"";o=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const E=a[f];return v&&!E?c[g]=void 0:c[g]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Ik(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Lo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ck(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Lo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ak(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wi(t):t;return{pathname:n?n.startsWith("/")?n:Rk(n,e):e,search:xk(r),hash:Pk(i)}}function Rk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function wf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function XE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xd(t,e){let n=XE(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Jd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wi(t):(i=Ge({},t),pe(!i.pathname||!i.pathname.includes("?"),wf("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),wf("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),wf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?e[f]:"/"}let u=Ak(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Vr=t=>t.join("/").replace(/\/\/+/g,"/"),kk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class od{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Zd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JE=["post","put","patch","delete"],bk=new Set(JE),Nk=["get",...JE],Dk=new Set(Nk),Ok=new Set([301,302,303,307,308]),Lk=new Set([307,308]),Ef={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mk={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ba={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vk=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ZE="remix-router-transitions";function Fk(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=L=>({hasErrorBoundary:N(L)})}else i=Vk;let s={},o=sd(t.routes,i,void 0,s),a,u=t.basename||"/",c=t.dataStrategy||zk,d=t.patchRoutesOnNavigation,f=Ge({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,v=new Set,E=null,C=null,b=null,S=t.hydrationData!=null,_=ss(o,t.history.location,u),A=null;if(_==null&&!d){let N=en(404,{pathname:t.history.location.pathname}),{matches:L,route:F}=x0(o);_=L,A={[F.id]:N}}_&&!t.hydrationData&&Sr(_,o,t.history.location.pathname).active&&(_=null);let D;if(_)if(_.some(N=>N.route.lazy))D=!1;else if(!_.some(N=>N.route.loader))D=!0;else if(f.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null;if(L){let F=_.findIndex($=>L[$.route.id]!==void 0);D=_.slice(0,F+1).every($=>!Fp($.route,N,L))}else D=_.every(F=>!Fp(F.route,N,L))}else D=t.hydrationData!=null;else if(D=!1,_=[],f.v7_partialHydration){let N=Sr(null,o,t.history.location.pathname);N.active&&N.matches&&(_=N.matches)}let V,P={historyAction:t.history.action,location:t.history.location,matches:_,initialized:D,navigation:Ef,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},T=ft.Pop,y=!1,I,p=!1,k=new Map,O=null,R=!1,re=!1,G=[],De=new Set,Ae=new Map,q=0,ie=-1,le=new Map,Ie=new Set,we=new Map,Le=new Map,gt=new Set,Ct=new Map,At=new Map,Xt;function Lh(){if(g=t.history.listen(N=>{let{action:L,location:F,delta:$}=N;if(Xt){Xt(),Xt=void 0;return}Lo(At.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=fa({currentLocation:P.location,nextLocation:F,historyAction:L});if(X&&$!=null){let ne=new Promise(se=>{Xt=se});t.history.go($*-1),Zr(X,{state:"blocked",location:F,proceed(){Zr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),ne.then(()=>t.history.go($))},reset(){let se=new Map(P.blockers);se.set(X,ba),ct({blockers:se})}});return}return Fn(L,F)}),n){nx(e,k);let N=()=>rx(e,k);e.addEventListener("pagehide",N),O=()=>e.removeEventListener("pagehide",N)}return P.initialized||Fn(ft.Pop,P.location,{initialHydration:!0}),V}function Mh(){g&&g(),O&&O(),v.clear(),I&&I.abort(),P.fetchers.forEach((N,L)=>Qi(L)),P.blockers.forEach((N,L)=>vu(L))}function Ms(N){return v.add(N),()=>v.delete(N)}function ct(N,L){L===void 0&&(L={}),P=Ge({},P,N);let F=[],$=[];f.v7_fetcherPersist&&P.fetchers.forEach((X,ne)=>{X.state==="idle"&&(gt.has(ne)?$.push(ne):F.push(ne))}),[...v].forEach(X=>X(P,{deletedFetchers:$,viewTransitionOpts:L.viewTransitionOpts,flushSync:L.flushSync===!0})),f.v7_fetcherPersist&&(F.forEach(X=>P.fetchers.delete(X)),$.forEach(X=>Qi(X)))}function er(N,L,F){var $,X;let{flushSync:ne}=F===void 0?{}:F,se=P.actionData!=null&&P.navigation.formMethod!=null&&Hn(P.navigation.formMethod)&&P.navigation.state==="loading"&&(($=N.state)==null?void 0:$._isRedirect)!==!0,Z;L.actionData?Object.keys(L.actionData).length>0?Z=L.actionData:Z=null:se?Z=P.actionData:Z=null;let ee=L.loaderData?R0(P.loaderData,L.loaderData,L.matches||[],L.errors):P.loaderData,Q=P.blockers;Q.size>0&&(Q=new Map(Q),Q.forEach((me,je)=>Q.set(je,ba)));let te=y===!0||P.navigation.formMethod!=null&&Hn(P.navigation.formMethod)&&((X=N.state)==null?void 0:X._isRedirect)!==!0;a&&(o=a,a=void 0),R||T===ft.Pop||(T===ft.Push?t.history.push(N,N.state):T===ft.Replace&&t.history.replace(N,N.state));let fe;if(T===ft.Pop){let me=k.get(P.location.pathname);me&&me.has(N.pathname)?fe={currentLocation:P.location,nextLocation:N}:k.has(N.pathname)&&(fe={currentLocation:N,nextLocation:P.location})}else if(p){let me=k.get(P.location.pathname);me?me.add(N.pathname):(me=new Set([N.pathname]),k.set(P.location.pathname,me)),fe={currentLocation:P.location,nextLocation:N}}ct(Ge({},L,{actionData:Z,loaderData:ee,historyAction:T,location:N,initialized:!0,navigation:Ef,revalidation:"idle",restoreScrollPosition:ma(N,L.matches||P.matches),preventScrollReset:te,blockers:Q}),{viewTransitionOpts:fe,flushSync:ne===!0}),T=ft.Pop,y=!1,p=!1,R=!1,re=!1,G=[]}async function Vs(N,L){if(typeof N=="number"){t.history.go(N);return}let F=Vp(P.location,P.matches,u,f.v7_prependBasename,N,f.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:$,submission:X,error:ne}=_0(f.v7_normalizeFormMethod,!1,F,L),se=P.location,Z=xl(P.location,$,L&&L.state);Z=Ge({},Z,t.history.encodeLocation(Z));let ee=L&&L.replace!=null?L.replace:void 0,Q=ft.Push;ee===!0?Q=ft.Replace:ee===!1||X!=null&&Hn(X.formMethod)&&X.formAction===P.location.pathname+P.location.search&&(Q=ft.Replace);let te=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,fe=(L&&L.flushSync)===!0,me=fa({currentLocation:se,nextLocation:Z,historyAction:Q});if(me){Zr(me,{state:"blocked",location:Z,proceed(){Zr(me,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),Vs(N,L)},reset(){let je=new Map(P.blockers);je.set(me,ba),ct({blockers:je})}});return}return await Fn(Q,Z,{submission:X,pendingError:ne,preventScrollReset:te,replace:L&&L.replace,enableViewTransition:L&&L.viewTransition,flushSync:fe})}function aa(){if(dt(),ct({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){Fn(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}Fn(T||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:p===!0})}}async function Fn(N,L,F){I&&I.abort(),I=null,T=N,R=(F&&F.startUninterruptedRevalidation)===!0,Tr(P.location,P.matches),y=(F&&F.preventScrollReset)===!0,p=(F&&F.enableViewTransition)===!0;let $=a||o,X=F&&F.overrideNavigation,ne=ss($,L,u),se=(F&&F.flushSync)===!0,Z=Sr(ne,$,L.pathname);if(Z.active&&Z.matches&&(ne=Z.matches),!ne){let{error:be,notFoundMatches:Ee,route:Ue}=js(L.pathname);er(L,{matches:Ee,loaderData:{},errors:{[Ue.id]:be}},{flushSync:se});return}if(P.initialized&&!re&&Gk(P.location,L)&&!(F&&F.submission&&Hn(F.submission.formMethod))){er(L,{matches:ne},{flushSync:se});return}I=new AbortController;let ee=Ks(t.history,L,I.signal,F&&F.submission),Q;if(F&&F.pendingError)Q=[os(ne).route.id,{type:Oe.error,error:F.pendingError}];else if(F&&F.submission&&Hn(F.submission.formMethod)){let be=await pu(ee,L,F.submission,ne,Z.active,{replace:F.replace,flushSync:se});if(be.shortCircuited)return;if(be.pendingActionResult){let[Ee,Ue]=be.pendingActionResult;if(dn(Ue)&&Zd(Ue.error)&&Ue.error.status===404){I=null,er(L,{matches:be.matches,loaderData:{},errors:{[Ee]:Ue.error}});return}}ne=be.matches||ne,Q=be.pendingActionResult,X=Tf(L,F.submission),se=!1,Z.active=!1,ee=Ks(t.history,ee.url,ee.signal)}let{shortCircuited:te,matches:fe,loaderData:me,errors:je}=await Vh(ee,L,ne,Z.active,X,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,se,Q);te||(I=null,er(L,Ge({matches:fe||ne},k0(Q),{loaderData:me,errors:je})))}async function pu(N,L,F,$,X,ne){ne===void 0&&(ne={}),dt();let se=ex(L,F);if(ct({navigation:se},{flushSync:ne.flushSync===!0}),X){let Q=await Yi($,L.pathname,N.signal);if(Q.type==="aborted")return{shortCircuited:!0};if(Q.type==="error"){let te=os(Q.partialMatches).route.id;return{matches:Q.partialMatches,pendingActionResult:[te,{type:Oe.error,error:Q.error}]}}else if(Q.matches)$=Q.matches;else{let{notFoundMatches:te,error:fe,route:me}=js(L.pathname);return{matches:te,pendingActionResult:[me.id,{type:Oe.error,error:fe}]}}}let Z,ee=Ua($,L);if(!ee.route.action&&!ee.route.lazy)Z={type:Oe.error,error:en(405,{method:N.method,pathname:L.pathname,routeId:ee.route.id})};else if(Z=(await wr("action",P,N,[ee],$,null))[ee.route.id],N.signal.aborted)return{shortCircuited:!0};if(cs(Z)){let Q;return ne&&ne.replace!=null?Q=ne.replace:Q=I0(Z.response.headers.get("Location"),new URL(N.url),u)===P.location.pathname+P.location.search,await jn(N,Z,!0,{submission:F,replace:Q}),{shortCircuited:!0}}if(vi(Z))throw en(400,{type:"defer-action"});if(dn(Z)){let Q=os($,ee.route.id);return(ne&&ne.replace)!==!0&&(T=ft.Push),{matches:$,pendingActionResult:[Q.route.id,Z]}}return{matches:$,pendingActionResult:[ee.route.id,Z]}}async function Vh(N,L,F,$,X,ne,se,Z,ee,Q,te){let fe=X||Tf(L,ne),me=ne||se||b0(fe),je=!R&&(!f.v7_partialHydration||!ee);if($){if(je){let Ke=mu(te);ct(Ge({navigation:fe},Ke!==void 0?{actionData:Ke}:{}),{flushSync:Q})}let ye=await Yi(F,L.pathname,N.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let Ke=os(ye.partialMatches).route.id;return{matches:ye.partialMatches,loaderData:{},errors:{[Ke]:ye.error}}}else if(ye.matches)F=ye.matches;else{let{error:Ke,notFoundMatches:Ir,route:ri}=js(L.pathname);return{matches:Ir,loaderData:{},errors:{[ri.id]:Ke}}}}let be=a||o,[Ee,Ue]=E0(t.history,P,F,me,L,f.v7_partialHydration&&ee===!0,f.v7_skipActionErrorRevalidation,re,G,De,gt,we,Ie,be,u,te);if(Er(ye=>!(F&&F.some(Ke=>Ke.route.id===ye))||Ee&&Ee.some(Ke=>Ke.route.id===ye)),ie=++q,Ee.length===0&&Ue.length===0){let ye=ha();return er(L,Ge({matches:F,loaderData:{},errors:te&&dn(te[1])?{[te[0]]:te[1].error}:null},k0(te),ye?{fetchers:new Map(P.fetchers)}:{}),{flushSync:Q}),{shortCircuited:!0}}if(je){let ye={};if(!$){ye.navigation=fe;let Ke=mu(te);Ke!==void 0&&(ye.actionData=Ke)}Ue.length>0&&(ye.fetchers=gu(Ue)),ct(ye,{flushSync:Q})}Ue.forEach(ye=>{Zt(ye.key),ye.controller&&Ae.set(ye.key,ye.controller)});let tr=()=>Ue.forEach(ye=>Zt(ye.key));I&&I.signal.addEventListener("abort",tr);let{loaderResults:ei,fetcherResults:Sn}=await ua(P,F,Ee,Ue,N);if(N.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",tr),Ue.forEach(ye=>Ae.delete(ye.key));let In=Qu(ei);if(In)return await jn(N,In.result,!0,{replace:Z}),{shortCircuited:!0};if(In=Qu(Sn),In)return Ie.add(In.key),await jn(N,In.result,!0,{replace:Z}),{shortCircuited:!0};let{loaderData:ti,errors:ni}=A0(P,F,ei,te,Ue,Sn,Ct);Ct.forEach((ye,Ke)=>{ye.subscribe(Ir=>{(Ir||ye.done)&&Ct.delete(Ke)})}),f.v7_partialHydration&&ee&&P.errors&&(ni=Ge({},P.errors,ni));let Un=ha(),nr=Fs(ie),Cn=Un||nr||Ue.length>0;return Ge({matches:F,loaderData:ti,errors:ni},Cn?{fetchers:new Map(P.fetchers)}:{})}function mu(N){if(N&&!dn(N[1]))return{[N[0]]:N[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function gu(N){return N.forEach(L=>{let F=P.fetchers.get(L.key),$=Na(void 0,F?F.data:void 0);P.fetchers.set(L.key,$)}),new Map(P.fetchers)}function la(N,L,F,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Zt(N);let X=($&&$.flushSync)===!0,ne=a||o,se=Vp(P.location,P.matches,u,f.v7_prependBasename,F,f.v7_relativeSplatPath,L,$==null?void 0:$.relative),Z=ss(ne,se,u),ee=Sr(Z,ne,se);if(ee.active&&ee.matches&&(Z=ee.matches),!Z){Jt(N,L,en(404,{pathname:se}),{flushSync:X});return}let{path:Q,submission:te,error:fe}=_0(f.v7_normalizeFormMethod,!0,se,$);if(fe){Jt(N,L,fe,{flushSync:X});return}let me=Ua(Z,Q),je=($&&$.preventScrollReset)===!0;if(te&&Hn(te.formMethod)){yu(N,L,Q,me,Z,ee.active,X,je,te);return}we.set(N,{routeId:L,path:Q}),Fh(N,L,Q,me,Z,ee.active,X,je,te)}async function yu(N,L,F,$,X,ne,se,Z,ee){dt(),we.delete(N);function Q(Ye){if(!Ye.route.action&&!Ye.route.lazy){let rr=en(405,{method:ee.formMethod,pathname:F,routeId:L});return Jt(N,L,rr,{flushSync:se}),!0}return!1}if(!ne&&Q($))return;let te=P.fetchers.get(N);He(N,tx(ee,te),{flushSync:se});let fe=new AbortController,me=Ks(t.history,F,fe.signal,ee);if(ne){let Ye=await Yi(X,F,me.signal);if(Ye.type==="aborted")return;if(Ye.type==="error"){Jt(N,L,Ye.error,{flushSync:se});return}else if(Ye.matches){if(X=Ye.matches,$=Ua(X,F),Q($))return}else{Jt(N,L,en(404,{pathname:F}),{flushSync:se});return}}Ae.set(N,fe);let je=q,Ee=(await wr("action",P,me,[$],X,N))[$.route.id];if(me.signal.aborted){Ae.get(N)===fe&&Ae.delete(N);return}if(f.v7_fetcherPersist&&gt.has(N)){if(cs(Ee)||dn(Ee)){He(N,li(void 0));return}}else{if(cs(Ee))if(Ae.delete(N),ie>je){He(N,li(void 0));return}else return Ie.add(N),He(N,Na(ee)),jn(me,Ee,!1,{fetcherSubmission:ee,preventScrollReset:Z});if(dn(Ee)){Jt(N,L,Ee.error);return}}if(vi(Ee))throw en(400,{type:"defer-action"});let Ue=P.navigation.location||P.location,tr=Ks(t.history,Ue,fe.signal),ei=a||o,Sn=P.navigation.state!=="idle"?ss(ei,P.navigation.location,u):P.matches;pe(Sn,"Didn't find any matches after fetcher action");let In=++q;le.set(N,In);let ti=Na(ee,Ee.data);P.fetchers.set(N,ti);let[ni,Un]=E0(t.history,P,Sn,ee,Ue,!1,f.v7_skipActionErrorRevalidation,re,G,De,gt,we,Ie,ei,u,[$.route.id,Ee]);Un.filter(Ye=>Ye.key!==N).forEach(Ye=>{let rr=Ye.key,Bs=P.fetchers.get(rr),wu=Na(void 0,Bs?Bs.data:void 0);P.fetchers.set(rr,wu),Zt(rr),Ye.controller&&Ae.set(rr,Ye.controller)}),ct({fetchers:new Map(P.fetchers)});let nr=()=>Un.forEach(Ye=>Zt(Ye.key));fe.signal.addEventListener("abort",nr);let{loaderResults:Cn,fetcherResults:ye}=await ua(P,Sn,ni,Un,tr);if(fe.signal.aborted)return;fe.signal.removeEventListener("abort",nr),le.delete(N),Ae.delete(N),Un.forEach(Ye=>Ae.delete(Ye.key));let Ke=Qu(Cn);if(Ke)return jn(tr,Ke.result,!1,{preventScrollReset:Z});if(Ke=Qu(ye),Ke)return Ie.add(Ke.key),jn(tr,Ke.result,!1,{preventScrollReset:Z});let{loaderData:Ir,errors:ri}=A0(P,Sn,Cn,void 0,Un,ye,Ct);if(P.fetchers.has(N)){let Ye=li(Ee.data);P.fetchers.set(N,Ye)}Fs(In),P.navigation.state==="loading"&&In>ie?(pe(T,"Expected pending action"),I&&I.abort(),er(P.navigation.location,{matches:Sn,loaderData:Ir,errors:ri,fetchers:new Map(P.fetchers)})):(ct({errors:ri,loaderData:R0(P.loaderData,Ir,Sn,ri),fetchers:new Map(P.fetchers)}),re=!1)}async function Fh(N,L,F,$,X,ne,se,Z,ee){let Q=P.fetchers.get(N);He(N,Na(ee,Q?Q.data:void 0),{flushSync:se});let te=new AbortController,fe=Ks(t.history,F,te.signal);if(ne){let Ee=await Yi(X,F,fe.signal);if(Ee.type==="aborted")return;if(Ee.type==="error"){Jt(N,L,Ee.error,{flushSync:se});return}else if(Ee.matches)X=Ee.matches,$=Ua(X,F);else{Jt(N,L,en(404,{pathname:F}),{flushSync:se});return}}Ae.set(N,te);let me=q,be=(await wr("loader",P,fe,[$],X,N))[$.route.id];if(vi(be)&&(be=await Tg(be,fe.signal,!0)||be),Ae.get(N)===te&&Ae.delete(N),!fe.signal.aborted){if(gt.has(N)){He(N,li(void 0));return}if(cs(be))if(ie>me){He(N,li(void 0));return}else{Ie.add(N),await jn(fe,be,!1,{preventScrollReset:Z});return}if(dn(be)){Jt(N,L,be.error);return}pe(!vi(be),"Unhandled fetcher deferred data"),He(N,li(be.data))}}async function jn(N,L,F,$){let{submission:X,fetcherSubmission:ne,preventScrollReset:se,replace:Z}=$===void 0?{}:$;L.response.headers.has("X-Remix-Revalidate")&&(re=!0);let ee=L.response.headers.get("Location");pe(ee,"Expected a Location header on the redirect Response"),ee=I0(ee,new URL(N.url),u);let Q=xl(P.location,ee,{_isRedirect:!0});if(n){let Ee=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Ee=!0;else if(Eg.test(ee)){const Ue=t.history.createURL(ee);Ee=Ue.origin!==e.location.origin||Xo(Ue.pathname,u)==null}if(Ee){Z?e.location.replace(ee):e.location.assign(ee);return}}I=null;let te=Z===!0||L.response.headers.has("X-Remix-Replace")?ft.Replace:ft.Push,{formMethod:fe,formAction:me,formEncType:je}=P.navigation;!X&&!ne&&fe&&me&&je&&(X=b0(P.navigation));let be=X||ne;if(Lk.has(L.response.status)&&be&&Hn(be.formMethod))await Fn(te,Q,{submission:Ge({},be,{formAction:ee}),preventScrollReset:se||y,enableViewTransition:F?p:void 0});else{let Ee=Tf(Q,X);await Fn(te,Q,{overrideNavigation:Ee,fetcherSubmission:ne,preventScrollReset:se||y,enableViewTransition:F?p:void 0})}}async function wr(N,L,F,$,X,ne){let se,Z={};try{se=await $k(c,N,L,F,$,X,ne,s,i)}catch(ee){return $.forEach(Q=>{Z[Q.route.id]={type:Oe.error,error:ee}}),Z}for(let[ee,Q]of Object.entries(se))if(Qk(Q)){let te=Q.result;Z[ee]={type:Oe.redirect,response:Kk(te,F,ee,X,u,f.v7_relativeSplatPath)}}else Z[ee]=await Hk(Q);return Z}async function ua(N,L,F,$,X){let ne=N.matches,se=wr("loader",N,X,F,L,null),Z=Promise.all($.map(async te=>{if(te.matches&&te.match&&te.controller){let me=(await wr("loader",N,Ks(t.history,te.path,te.controller.signal),[te.match],te.matches,te.key))[te.match.route.id];return{[te.key]:me}}else return Promise.resolve({[te.key]:{type:Oe.error,error:en(404,{pathname:te.path})}})})),ee=await se,Q=(await Z).reduce((te,fe)=>Object.assign(te,fe),{});return await Promise.all([Jk(L,ee,X.signal,ne,N.loaderData),Zk(L,Q,$)]),{loaderResults:ee,fetcherResults:Q}}function dt(){re=!0,G.push(...Er()),we.forEach((N,L)=>{Ae.has(L)&&De.add(L),Zt(L)})}function He(N,L,F){F===void 0&&(F={}),P.fetchers.set(N,L),ct({fetchers:new Map(P.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function Jt(N,L,F,$){$===void 0&&($={});let X=os(P.matches,L);Qi(N),ct({errors:{[X.route.id]:F},fetchers:new Map(P.fetchers)},{flushSync:($&&$.flushSync)===!0})}function ca(N){return f.v7_fetcherPersist&&(Le.set(N,(Le.get(N)||0)+1),gt.has(N)&&gt.delete(N)),P.fetchers.get(N)||Mk}function Qi(N){let L=P.fetchers.get(N);Ae.has(N)&&!(L&&L.state==="loading"&&le.has(N))&&Zt(N),we.delete(N),le.delete(N),Ie.delete(N),gt.delete(N),De.delete(N),P.fetchers.delete(N)}function jh(N){if(f.v7_fetcherPersist){let L=(Le.get(N)||0)-1;L<=0?(Le.delete(N),gt.add(N)):Le.set(N,L)}else Qi(N);ct({fetchers:new Map(P.fetchers)})}function Zt(N){let L=Ae.get(N);L&&(L.abort(),Ae.delete(N))}function da(N){for(let L of N){let F=ca(L),$=li(F.data);P.fetchers.set(L,$)}}function ha(){let N=[],L=!1;for(let F of Ie){let $=P.fetchers.get(F);pe($,"Expected fetcher: "+F),$.state==="loading"&&(Ie.delete(F),N.push(F),L=!0)}return da(N),L}function Fs(N){let L=[];for(let[F,$]of le)if($<N){let X=P.fetchers.get(F);pe(X,"Expected fetcher: "+F),X.state==="loading"&&(Zt(F),le.delete(F),L.push(F))}return da(L),L.length>0}function Uh(N,L){let F=P.blockers.get(N)||ba;return At.get(N)!==L&&At.set(N,L),F}function vu(N){P.blockers.delete(N),At.delete(N)}function Zr(N,L){let F=P.blockers.get(N)||ba;pe(F.state==="unblocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="blocked"||F.state==="blocked"&&L.state==="proceeding"||F.state==="blocked"&&L.state==="unblocked"||F.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+L.state);let $=new Map(P.blockers);$.set(N,L),ct({blockers:$})}function fa(N){let{currentLocation:L,nextLocation:F,historyAction:$}=N;if(At.size===0)return;At.size>1&&Lo(!1,"A router only supports one blocker at a time");let X=Array.from(At.entries()),[ne,se]=X[X.length-1],Z=P.blockers.get(ne);if(!(Z&&Z.state==="proceeding")&&se({currentLocation:L,nextLocation:F,historyAction:$}))return ne}function js(N){let L=en(404,{pathname:N}),F=a||o,{matches:$,route:X}=x0(F);return Er(),{notFoundMatches:$,route:X,error:L}}function Er(N){let L=[];return Ct.forEach((F,$)=>{(!N||N($))&&(F.cancel(),L.push($),Ct.delete($))}),L}function pa(N,L,F){if(E=N,b=L,C=F||null,!S&&P.navigation===Ef){S=!0;let $=ma(P.location,P.matches);$!=null&&ct({restoreScrollPosition:$})}return()=>{E=null,b=null,C=null}}function Us(N,L){return C&&C(N,L.map($=>fk($,P.loaderData)))||N.key}function Tr(N,L){if(E&&b){let F=Us(N,L);E[F]=b()}}function ma(N,L){if(E){let F=Us(N,L),$=E[F];if(typeof $=="number")return $}return null}function Sr(N,L,F){if(d)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:_c(L,F,u,!0)}}else return{active:!0,matches:_c(L,F,u,!0)||[]};return{active:!1,matches:null}}async function Yi(N,L,F){if(!d)return{type:"success",matches:N};let $=N;for(;;){let X=a==null,ne=a||o,se=s;try{await d({path:L,matches:$,patch:(Q,te)=>{F.aborted||S0(Q,te,ne,se,i)}})}catch(Q){return{type:"error",error:Q,partialMatches:$}}finally{X&&!F.aborted&&(o=[...o])}if(F.aborted)return{type:"aborted"};let Z=ss(ne,L,u);if(Z)return{type:"success",matches:Z};let ee=_c(ne,L,u,!0);if(!ee||$.length===ee.length&&$.every((Q,te)=>Q.route.id===ee[te].route.id))return{type:"success",matches:null};$=ee}}function Xi(N){s={},a=sd(N,i,void 0,s)}function _u(N,L){let F=a==null;S0(N,L,a||o,s,i),F&&(o=[...o],ct({}))}return V={get basename(){return u},get future(){return f},get state(){return P},get routes(){return o},get window(){return e},initialize:Lh,subscribe:Ms,enableScrollRestoration:pa,navigate:Vs,fetch:la,revalidate:aa,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:ca,deleteFetcher:jh,dispose:Mh,getBlocker:Uh,deleteBlocker:vu,patchRoutes:_u,_internalFetchControllers:Ae,_internalActiveDeferreds:Ct,_internalSetRoutes:Xi},V}function jk(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Vp(t,e,n,r,i,s,o,a){let u,c;if(o){u=[];for(let f of e)if(u.push(f),f.route.id===o){c=f;break}}else u=e,c=e[e.length-1];let d=Jd(i||".",Xd(u,s),Xo(t.pathname,n)||t.pathname,a==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c){let f=Sg(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let g=new URLSearchParams(d.search),v=g.getAll("index");g.delete("index"),v.filter(C=>C).forEach(C=>g.append("index",C));let E=g.toString();d.search=E?"?"+E:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Vr([n,d.pathname])),Es(d)}function _0(t,e,n,r){if(!r||!jk(r))return{path:n};if(r.formMethod&&!Xk(r.formMethod))return{path:n,error:en(405,{method:r.formMethod})};let i=()=>({path:n,error:en(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=nT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Hn(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,E)=>{let[C,b]=E;return""+v+C+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Hn(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}pe(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=jp(r.formData),c=r.formData;else if(r.body instanceof FormData)u=jp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=C0(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=C0(u)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Hn(d.formMethod))return{path:n,submission:d};let f=Wi(n);return e&&f.search&&Sg(f.search)&&u.append("index",""),f.search="?"+u,{path:Es(f),submission:d}}function w0(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function E0(t,e,n,r,i,s,o,a,u,c,d,f,g,v,E,C){let b=C?dn(C[1])?C[1].error:C[1].data:void 0,S=t.createURL(e.location),_=t.createURL(i),A=n;s&&e.errors?A=w0(n,Object.keys(e.errors)[0],!0):C&&dn(C[1])&&(A=w0(n,C[0]));let D=C?C[1].statusCode:void 0,V=o&&D&&D>=400,P=A.filter((y,I)=>{let{route:p}=y;if(p.lazy)return!0;if(p.loader==null)return!1;if(s)return Fp(p,e.loaderData,e.errors);if(Uk(e.loaderData,e.matches[I],y)||u.some(R=>R===y.route.id))return!0;let k=e.matches[I],O=y;return T0(y,Ge({currentUrl:S,currentParams:k.params,nextUrl:_,nextParams:O.params},r,{actionResult:b,actionStatus:D,defaultShouldRevalidate:V?!1:a||S.pathname+S.search===_.pathname+_.search||S.search!==_.search||eT(k,O)}))}),T=[];return f.forEach((y,I)=>{if(s||!n.some(re=>re.route.id===y.routeId)||d.has(I))return;let p=ss(v,y.path,E);if(!p){T.push({key:I,routeId:y.routeId,path:y.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(I),O=Ua(p,y.path),R=!1;g.has(I)?R=!1:c.has(I)?(c.delete(I),R=!0):k&&k.state!=="idle"&&k.data===void 0?R=a:R=T0(O,Ge({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:D,defaultShouldRevalidate:V?!1:a})),R&&T.push({key:I,routeId:y.routeId,path:y.path,matches:p,match:O,controller:new AbortController})}),[P,T]}function Fp(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function Uk(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function eT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function T0(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function S0(t,e,n,r,i){var s;let o;if(t){let c=r[t];pe(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(d=>tT(c,d))),u=sd(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...u)}function tT(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>tT(n,s))}):!1}async function Bk(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];pe(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Lo(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!dk.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ge({},e(i),{lazy:void 0}))}async function zk(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function $k(t,e,n,r,i,s,o,a,u,c){let d=s.map(v=>v.route.lazy?Bk(v.route,u,a):void 0),f=s.map((v,E)=>{let C=d[E],b=i.some(_=>_.route.id===v.route.id);return Ge({},v,{shouldLoad:b,resolve:async _=>(_&&r.method==="GET"&&(v.route.lazy||v.route.loader)&&(b=!0),b?Wk(e,r,v,C,_,c):Promise.resolve({type:Oe.data,result:void 0}))})}),g=await t({matches:f,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return g}async function Wk(t,e,n,r,i,s){let o,a,u=c=>{let d,f=new Promise((E,C)=>d=C);a=()=>d(),e.signal.addEventListener("abort",a);let g=E=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...E!==void 0?[E]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(C=>g(C)):g())}}catch(E){return{type:"error",result:E}}})();return Promise.race([v,f])};try{let c=n.route[t];if(r)if(c){let d,[f]=await Promise.all([u(c).catch(g=>{d=g}),r]);if(d!==void 0)throw d;o=f}else if(await r,c=n.route[t],c)o=await u(c);else if(t==="action"){let d=new URL(e.url),f=d.pathname+d.search;throw en(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Oe.data,result:void 0};else if(c)o=await u(c);else{let d=new URL(e.url),f=d.pathname+d.search;throw en(404,{pathname:f})}pe(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Oe.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function Hk(t){let{result:e,type:n}=t;if(rT(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Oe.error,error:d}}return n===Oe.error?{type:Oe.error,error:new od(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Oe.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Oe.error){if(P0(e)){var r;if(e.data instanceof Error){var i;return{type:Oe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new od(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Oe.error,error:e,statusCode:Zd(e)?e.status:void 0}}if(Yk(e)){var s,o;return{type:Oe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(P0(e)){var a,u;return{type:Oe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Oe.data,data:e}}function Kk(t,e,n,r,i,s){let o=t.headers.get("Location");if(pe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Eg.test(o)){let a=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=Vp(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function I0(t,e,n){if(Eg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Xo(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Ks(t,e,n,r){let i=t.createURL(nT(e)).toString(),s={signal:n};if(r&&Hn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=jp(r.formData):s.body=r.formData}return new Request(i,s)}function jp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function C0(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function qk(t,e,n,r,i){let s={},o=null,a,u=!1,c={},d=n&&dn(n[1])?n[1].error:void 0;return t.forEach(f=>{if(!(f.route.id in e))return;let g=f.route.id,v=e[g];if(pe(!cs(v),"Cannot handle redirect results in processLoaderData"),dn(v)){let E=v.error;d!==void 0&&(E=d,d=void 0),o=o||{};{let C=os(t,g);o[C.route.id]==null&&(o[C.route.id]=E)}s[g]=void 0,u||(u=!0,a=Zd(v.error)?v.error.status:500),v.headers&&(c[g]=v.headers)}else vi(v)?(r.set(g,v.deferredData),s[g]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!u&&(a=v.statusCode),v.headers&&(c[g]=v.headers)):(s[g]=v.data,v.statusCode&&v.statusCode!==200&&!u&&(a=v.statusCode),v.headers&&(c[g]=v.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function A0(t,e,n,r,i,s,o){let{loaderData:a,errors:u}=qk(e,n,r,o);return i.forEach(c=>{let{key:d,match:f,controller:g}=c,v=s[d];if(pe(v,"Did not find corresponding fetcher result"),!(g&&g.signal.aborted))if(dn(v)){let E=os(t.matches,f==null?void 0:f.route.id);u&&u[E.route.id]||(u=Ge({},u,{[E.route.id]:v.error})),t.fetchers.delete(d)}else if(cs(v))pe(!1,"Unhandled fetcher revalidation redirect");else if(vi(v))pe(!1,"Unhandled fetcher deferred data");else{let E=li(v.data);t.fetchers.set(d,E)}}),{loaderData:a,errors:u}}function R0(t,e,n,r){let i=Ge({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function k0(t){return t?dn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function os(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function x0(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function en(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(a="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",u='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new od(t||500,a,new Error(u),!0)}function Qu(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(cs(i))return{key:r,result:i}}}function nT(t){let e=typeof t=="string"?Wi(t):t;return Es(Ge({},e,{hash:""}))}function Gk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Qk(t){return rT(t.result)&&Ok.has(t.result.status)}function vi(t){return t.type===Oe.deferred}function dn(t){return t.type===Oe.error}function cs(t){return(t&&t.type)===Oe.redirect}function P0(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Yk(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Xk(t){return Dk.has(t.toLowerCase())}function Hn(t){return bk.has(t.toLowerCase())}async function Jk(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,u]=s[o],c=t.find(g=>(g==null?void 0:g.route.id)===a);if(!c)continue;let d=r.find(g=>g.route.id===c.route.id),f=d!=null&&!eT(d,c)&&(i&&i[c.route.id])!==void 0;vi(u)&&f&&await Tg(u,n,!1).then(g=>{g&&(e[a]=g)})}}async function Zk(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&vi(a)&&(pe(o,"Expected an AbortController for revalidating fetcher deferred result"),await Tg(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Tg(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Oe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Oe.error,error:i}}return{type:Oe.data,data:t.deferredData.data}}}function Sg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Ua(t,e){let n=typeof e=="string"?Wi(e).search:e.search;if(t[t.length-1].route.index&&Sg(n||""))return t[t.length-1];let r=XE(t);return r[r.length-1]}function b0(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Tf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ex(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Na(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function tx(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function li(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nx(t,e){try{let n=t.sessionStorage.getItem(ZE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function rx(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ZE,JSON.stringify(n))}catch(r){Lo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}const eh=U.createContext(null),iT=U.createContext(null),Hi=U.createContext(null),Ig=U.createContext(null),Xr=U.createContext({outlet:null,matches:[],isDataRoute:!1}),sT=U.createContext(null);function ix(t,e){let{relative:n}=e===void 0?{}:e;Jo()||pe(!1);let{basename:r,navigator:i}=U.useContext(Hi),{hash:s,pathname:o,search:a}=aT(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Vr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Jo(){return U.useContext(Ig)!=null}function Zo(){return Jo()||pe(!1),U.useContext(Ig).location}function oT(t){U.useContext(Hi).static||U.useLayoutEffect(t)}function bs(){let{isDataRoute:t}=U.useContext(Xr);return t?vx():sx()}function sx(){Jo()||pe(!1);let t=U.useContext(eh),{basename:e,future:n,navigator:r}=U.useContext(Hi),{matches:i}=U.useContext(Xr),{pathname:s}=Zo(),o=JSON.stringify(Xd(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return oT(()=>{a.current=!0}),U.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=Jd(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Vr([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const ox=U.createContext(null);function ax(t){let e=U.useContext(Xr).outlet;return e&&U.createElement(ox.Provider,{value:t},e)}function aT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(Hi),{matches:i}=U.useContext(Xr),{pathname:s}=Zo(),o=JSON.stringify(Xd(i,r.v7_relativeSplatPath));return U.useMemo(()=>Jd(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function lx(t,e,n,r){Jo()||pe(!1);let{navigator:i}=U.useContext(Hi),{matches:s}=U.useContext(Xr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Zo(),d;d=c;let f=d.pathname||"/",g=f;if(u!=="/"){let C=u.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=ss(t,{pathname:g});return fx(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Vr([u,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:Vr([u,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r)}function ux(){let t=yx(),e=Zd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const cx=U.createElement(ux,null);class dx extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Xr.Provider,{value:this.props.routeContext},U.createElement(sT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hx(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(eh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Xr.Provider,{value:e},r)}function fx(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||pe(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:v}=n,E=f.route.loader&&g[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let v,E=!1,C=null,b=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,C=f.route.errorElement||cx,u&&(c<0&&g===0?(E=!0,b=null):c===g&&(E=!0,b=f.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),_=()=>{let A;return v?A=C:E?A=b:f.route.Component?A=U.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,U.createElement(hx,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?U.createElement(dx,{location:n.location,revalidation:n.revalidation,component:C,error:v,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):_()},null)}var lT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lT||{}),ld=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ld||{});function px(t){let e=U.useContext(eh);return e||pe(!1),e}function mx(t){let e=U.useContext(iT);return e||pe(!1),e}function gx(t){let e=U.useContext(Xr);return e||pe(!1),e}function uT(t){let e=gx(),n=e.matches[e.matches.length-1];return n.route.id||pe(!1),n.route.id}function yx(){var t;let e=U.useContext(sT),n=mx(ld.UseRouteError),r=uT(ld.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function vx(){let{router:t}=px(lT.UseNavigateStable),e=uT(ld.UseNavigateStable),n=U.useRef(!1);return oT(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ad({fromRouteId:e},s)))},[t,e])}const N0={};function _x(t,e){N0[e]||(N0[e]=!0,console.warn(e))}const qs=(t,e,n)=>_x(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function wx(t,e){t!=null&&t.v7_startTransition||qs("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&qs("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||qs("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||qs("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||qs("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||qs("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Ex(t){let{to:e,replace:n,state:r,relative:i}=t;Jo()||pe(!1);let{future:s,static:o}=U.useContext(Hi),{matches:a}=U.useContext(Xr),{pathname:u}=Zo(),c=bs(),d=Jd(e,Xd(a,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return U.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Tx(t){return ax(t.context)}function ns(t){pe(!1)}function Sx(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ft.Pop,navigator:s,static:o=!1,future:a}=t;Jo()&&pe(!1);let u=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:u,navigator:s,static:o,future:ad({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Wi(r));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:E="default"}=r,C=U.useMemo(()=>{let b=Xo(d,u);return b==null?null:{location:{pathname:b,search:f,hash:g,state:v,key:E},navigationType:i}},[u,d,f,g,v,E,i]);return C==null?null:U.createElement(Hi.Provider,{value:c},U.createElement(Ig.Provider,{children:n,value:C}))}new Promise(()=>{});function Up(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let s=[...e,i];if(r.type===U.Fragment){n.push.apply(n,Up(r.props.children,s));return}r.type!==ns&&pe(!1),!r.props.index||!r.props.children||pe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Up(r.props.children,s)),n.push(o)}),n}function Ix(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:U.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:U.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:U.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}function Cx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ax(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Rx(t,e){return t.button===0&&(!e||e==="_self")&&!Ax(t)}const kx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xx="6";try{window.__reactRouterVersion=xx}catch{}function Px(t,e){return Fk({basename:void 0,future:Pl({},void 0,{v7_prependBasename:!0}),history:lk({window:void 0}),hydrationData:bx(),routes:t,mapRouteProperties:Ix,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function bx(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Pl({},e,{errors:Nx(e.errors)})),e}function Nx(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new od(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const Dx=U.createContext({isTransitioning:!1}),Ox=U.createContext(new Map),Lx="startTransition",D0=dl[Lx],Mx="flushSync",O0=ak[Mx];function Vx(t){D0?D0(t):t()}function Da(t){O0?O0(t):t()}let Fx=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function jx(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=U.useState(n.state),[o,a]=U.useState(),[u,c]=U.useState({isTransitioning:!1}),[d,f]=U.useState(),[g,v]=U.useState(),[E,C]=U.useState(),b=U.useRef(new Map),{v7_startTransition:S}=r||{},_=U.useCallback(y=>{S?Vx(y):y()},[S]),A=U.useCallback((y,I)=>{let{deletedFetchers:p,flushSync:k,viewTransitionOpts:O}=I;p.forEach(re=>b.current.delete(re)),y.fetchers.forEach((re,G)=>{re.data!==void 0&&b.current.set(G,re.data)});let R=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!O||R){k?Da(()=>s(y)):_(()=>s(y));return}if(k){Da(()=>{g&&(d&&d.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let re=n.window.document.startViewTransition(()=>{Da(()=>s(y))});re.finished.finally(()=>{Da(()=>{f(void 0),v(void 0),a(void 0),c({isTransitioning:!1})})}),Da(()=>v(re));return}g?(d&&d.resolve(),g.skipTransition(),C({state:y,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(y),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,g,d,b,_]);U.useLayoutEffect(()=>n.subscribe(A),[n,A]),U.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new Fx)},[u]),U.useEffect(()=>{if(d&&o&&n.window){let y=o,I=d.promise,p=n.window.document.startViewTransition(async()=>{_(()=>s(y)),await I});p.finished.finally(()=>{f(void 0),v(void 0),a(void 0),c({isTransitioning:!1})}),v(p)}},[_,o,d,n.window]),U.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,g,i.location,o]),U.useEffect(()=>{!u.isTransitioning&&E&&(a(E.state),c({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),C(void 0))},[u.isTransitioning,E]),U.useEffect(()=>{},[]);let D=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:y=>n.navigate(y),push:(y,I,p)=>n.navigate(y,{state:I,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(y,I,p)=>n.navigate(y,{replace:!0,state:I,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[n]),V=n.basename||"/",P=U.useMemo(()=>({router:n,navigator:D,static:!1,basename:V}),[n,D,V]),T=U.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return U.useEffect(()=>wx(r,n.future),[r,n.future]),U.createElement(U.Fragment,null,U.createElement(eh.Provider,{value:P},U.createElement(iT.Provider,{value:i},U.createElement(Ox.Provider,{value:b.current},U.createElement(Dx.Provider,{value:u},U.createElement(Sx,{basename:V,location:i.location,navigationType:i.historyAction,navigator:D,future:T},i.initialized||n.future.v7_partialHydration?U.createElement(Ux,{routes:n.routes,future:n.future,state:i}):e))))),null)}const Ux=U.memo(Bx);function Bx(t){let{routes:e,future:n,state:r}=t;return lx(e,void 0,r,n)}const zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bp=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:f}=e,g=Cx(e,kx),{basename:v}=U.useContext(Hi),E,C=!1;if(typeof c=="string"&&$x.test(c)&&(E=c,zx))try{let A=new URL(window.location.href),D=c.startsWith("//")?new URL(A.protocol+c):new URL(c),V=Xo(D.pathname,v);D.origin===A.origin&&V!=null?c=V+D.search+D.hash:C=!0}catch{}let b=ix(c,{relative:i}),S=Wx(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:f});function _(A){r&&r(A),A.defaultPrevented||S(A)}return U.createElement("a",Pl({},g,{href:E||b,onClick:C||s?r:_,ref:n,target:u}))});var L0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(L0||(L0={}));var M0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M0||(M0={}));function Wx(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=bs(),c=Zo(),d=aT(t,{relative:o});return U.useCallback(f=>{if(Rx(f,n)){f.preventDefault();let g=r!==void 0?r:Es(c)===Es(d);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}function Hx(){const t=[{name:"Home",href:""},{name:"About",href:"about"},{name:"Sign In",href:"signin"},{name:"Sign Up",href:"signup"}],e=bs();return x.jsx("div",{children:x.jsxs("div",{className:"flex flex-row justify-between max-w-7xl mx-auto px-4 items-center",children:[x.jsxs("div",{className:"flex flex-row items-center",children:[x.jsx("div",{className:"p-0",children:x.jsx("img",{src:"\\src\\assets\\logo.png",alt:"SEHPAATHI Logo",className:"h-20 w-auto"})}),x.jsx("div",{className:"p-4 text-4xl font-bold",children:"SEHPAATHI"})]}),x.jsx("div",{className:"flex flex-row",children:t.map((n,r)=>x.jsx("button",{className:"p-2 px-5 m-2 hover:bg-buttonbghover rounded-full bg-buttonbg text-white",onClick:()=>e(`/${n.href}`),children:n.name},r))})]})})}function Kx(){const t=[{title:"Company",links:[{name:"About Us",href:"#"},{name:"Careers",href:"#"},{name:"Contact",href:"#"},{name:"Blog",href:"#"}]},{title:"Resources",links:[{name:"Documentation",href:"#"},{name:"Help Center",href:"#"},{name:"Privacy Policy",href:"#"},{name:"Terms of Service",href:"#"}]},{title:"Social",links:[{name:"Twitter",href:"#"},{name:"LinkedIn",href:"#"},{name:"Facebook",href:"#"},{name:"Instagram",href:"#"}]}];return x.jsx("footer",{className:"bg-slate-100",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[x.jsxs("div",{className:"flex items-center mb-8",children:[x.jsx("div",{className:"mr-4",children:x.jsx("img",{src:"src\\assets\\logo.png",alt:"SEHPAATHI Logo",className:"h-10 w-auto"})}),x.jsx("div",{className:"font-bold text-lg",children:"SEHPAATHI"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((e,n)=>x.jsxs("div",{children:[x.jsx("h3",{className:"font-semibold text-lg mb-4",children:e.title}),x.jsx("ul",{className:"space-y-2",children:e.links.map((r,i)=>x.jsx("li",{children:x.jsx("a",{href:r.href,className:"text-gray-600 hover:text-slate-500 transition-colors",children:r.name})},i))})]},n))}),x.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:x.jsxs("p",{className:"text-center text-gray-600",children:["© ",new Date().getFullYear()," SEHPAATHI. All rights reserved."]})})]})})}function qx(){const t=bs();return x.jsx("div",{className:"bg-boxbg min-h-screen",children:x.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16",children:x.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("h1",{className:"text-5xl md:text-7xl font-bold leading-tight",children:["Student",x.jsx("br",{}),"engagement",x.jsx("br",{}),"made ",x.jsx("span",{className:"text-spantext",children:"easy"})]}),x.jsx("p",{className:"text-lg md:text-xl text-gray-700 max-w-xl",children:"Engage students and automate attendance in in-person, online, and hybrid classes."}),x.jsx("button",{className:"bg-buttonbg text-white px-8 py-3 rounded-full text-lg font-semibold hover:bg-buttonbghover transition-colors",onClick:()=>t("/signup"),children:"Sign Up"})]}),x.jsx("div",{className:"flex flex-col gap-8",children:x.jsx("img",{src:"src\\assets\\gif.gif",alt:"SEHPAATHI Logo",className:"h-auto w-auto"})})]})})})}var cT={exports:{}},dT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=U;function Gx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qx=typeof Object.is=="function"?Object.is:Gx,Yx=eu.useSyncExternalStore,Xx=eu.useRef,Jx=eu.useEffect,Zx=eu.useMemo,eP=eu.useDebugValue;dT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Xx(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Zx(function(){function u(v){if(!c){if(c=!0,d=v,v=r(v),i!==void 0&&o.hasValue){var E=o.value;if(i(E,v))return f=E}return f=v}if(E=f,Qx(d,v))return E;var C=r(v);return i!==void 0&&i(E,C)?E:(d=v,f=C)}var c=!1,d,f,g=n===void 0?null:n;return[function(){return u(e())},g===null?void 0:function(){return u(g())}]},[e,n,r,i]);var a=Yx(t,s[0],s[1]);return Jx(function(){o.hasValue=!0,o.value=a},[a]),eP(a),a};cT.exports=dT;var tP=cT.exports,pn="default"in dl?xm:dl,V0=Symbol.for("react-redux-context"),F0=typeof globalThis<"u"?globalThis:{};function nP(){if(!pn.createContext)return{};const t=F0[V0]??(F0[V0]=new Map);let e=t.get(pn.createContext);return e||(e=pn.createContext(null),t.set(pn.createContext,e)),e}var Oi=nP(),rP=()=>{throw new Error("uSES not initialized!")};function Cg(t=Oi){return function(){return pn.useContext(t)}}var hT=Cg(),fT=rP,iP=t=>{fT=t},sP=(t,e)=>t===e;function oP(t=Oi){const e=t===Oi?hT:Cg(t),n=(r,i={})=>{const{equalityFn:s=sP,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:d,identityFunctionCheck:f}=e();pn.useRef(!0);const g=pn.useCallback({[r.name](E){return r(E)}}[r.name],[r,d,o.stabilityCheck]),v=fT(u.addNestedSub,a.getState,c||a.getState,g,s);return pn.useDebugValue(v),v};return Object.assign(n,{withTypes:()=>n}),n}var Ag=oP();function aP(t){t()}function lP(){let t=null,e=null;return{clear(){t=null,e=null},notify(){aP(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var j0={notify(){},get:()=>[]};function uP(t,e){let n,r=j0,i=0,s=!1;function o(C){d();const b=r.subscribe(C);let S=!1;return()=>{S||(S=!0,b(),f())}}function a(){r.notify()}function u(){E.onStateChange&&E.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(u),r=lP())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=j0)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,f())}const E={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return E}var cP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dP=typeof navigator<"u"&&navigator.product==="ReactNative",hP=cP||dP?pn.useLayoutEffect:pn.useEffect;function fP({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=pn.useMemo(()=>{const c=uP(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=pn.useMemo(()=>t.getState(),[t]);hP(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=e||Oi;return pn.createElement(u.Provider,{value:o},n)}var pP=fP;function pT(t=Oi){const e=t===Oi?hT:Cg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var mP=pT();function gP(t=Oi){const e=t===Oi?mP:pT(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var mT=gP();iP(tP.useSyncExternalStoreWithSelector);function kt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var yP=typeof Symbol=="function"&&Symbol.observable||"@@observable",U0=yP,Sf=()=>Math.random().toString(36).substring(7).split("").join("."),vP={INIT:`@@redux/INIT${Sf()}`,REPLACE:`@@redux/REPLACE${Sf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sf()}`},ud=vP;function Rg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function gT(t,e,n){if(typeof t!="function")throw new Error(kt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kt(1));return n(gT)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((b,S)=>{o.set(S,b)}))}function d(){if(u)throw new Error(kt(3));return i}function f(b){if(typeof b!="function")throw new Error(kt(4));if(u)throw new Error(kt(5));let S=!0;c();const _=a++;return o.set(_,b),function(){if(S){if(u)throw new Error(kt(6));S=!1,c(),o.delete(_),s=null}}}function g(b){if(!Rg(b))throw new Error(kt(7));if(typeof b.type>"u")throw new Error(kt(8));if(typeof b.type!="string")throw new Error(kt(17));if(u)throw new Error(kt(9));try{u=!0,i=r(i,b)}finally{u=!1}return(s=o).forEach(_=>{_()}),b}function v(b){if(typeof b!="function")throw new Error(kt(10));r=b,g({type:ud.REPLACE})}function E(){const b=f;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(kt(11));function _(){const D=S;D.next&&D.next(d())}return _(),{unsubscribe:b(_)}},[U0](){return this}}}return g({type:ud.INIT}),{dispatch:g,subscribe:f,getState:d,replaceReducer:v,[U0]:E}}function _P(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ud.INIT})>"u")throw new Error(kt(12));if(typeof n(void 0,{type:ud.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kt(13))})}function wP(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{_P(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const c={};for(let d=0;d<r.length;d++){const f=r[d],g=n[f],v=o[f],E=g(v,a);if(typeof E>"u")throw a&&a.type,new Error(kt(14));c[f]=E,u=u||E!==v}return u=u||r.length!==Object.keys(o).length,u?c:o}}function cd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function EP(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(kt(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=t.map(u=>u(o));return s=cd(...a)(i.dispatch),{...i,dispatch:s}}}function TP(t){return Rg(t)&&"type"in t&&typeof t.type=="string"}var yT=Symbol.for("immer-nothing"),B0=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function qn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mo=Object.getPrototypeOf;function Ts(t){return!!t&&!!t[_n]}function Wr(t){var e;return t?vT(t)||Array.isArray(t)||!!t[B0]||!!((e=t.constructor)!=null&&e[B0])||nh(t)||rh(t):!1}var SP=Object.prototype.constructor.toString();function vT(t){if(!t||typeof t!="object")return!1;const e=Mo(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===SP}function dd(t,e){th(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function th(t){const e=t[_n];return e?e.type_:Array.isArray(t)?1:nh(t)?2:rh(t)?3:0}function zp(t,e){return th(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function _T(t,e,n){const r=th(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function IP(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function nh(t){return t instanceof Map}function rh(t){return t instanceof Set}function rs(t){return t.copy_||t.base_}function $p(t,e){if(nh(t))return new Map(t);if(rh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=vT(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[_n];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Mo(t),r)}else{const r=Mo(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function kg(t,e=!1){return ih(t)||Ts(t)||!Wr(t)||(th(t)>1&&(t.set=t.add=t.clear=t.delete=CP),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>kg(r,!0))),t}function CP(){qn(2)}function ih(t){return Object.isFrozen(t)}var AP={};function Ss(t){const e=AP[t];return e||qn(0,t),e}var bl;function wT(){return bl}function RP(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function z0(t,e){e&&(Ss("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Wp(t){Hp(t),t.drafts_.forEach(kP),t.drafts_=null}function Hp(t){t===bl&&(bl=t.parent_)}function $0(t){return bl=RP(bl,t)}function kP(t){const e=t[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function W0(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[_n].modified_&&(Wp(e),qn(4)),Wr(t)&&(t=hd(e,t),e.parent_||fd(e,t)),e.patches_&&Ss("Patches").generateReplacementPatches_(n[_n].base_,t,e.patches_,e.inversePatches_)):t=hd(e,n,[]),Wp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==yT?t:void 0}function hd(t,e,n){if(ih(e))return e;const r=e[_n];if(!r)return dd(e,(i,s)=>H0(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return fd(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),dd(s,(a,u)=>H0(t,r,i,a,u,n,o)),fd(t,i,!1),n&&t.patches_&&Ss("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function H0(t,e,n,r,i,s,o){if(Ts(i)){const a=s&&e&&e.type_!==3&&!zp(e.assigned_,r)?s.concat(r):void 0,u=hd(t,i,a);if(_T(n,r,u),Ts(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Wr(i)&&!ih(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;hd(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&fd(t,i)}}function fd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kg(e,n)}function xP(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:wT(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=xg;n&&(i=[r],s=Nl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var xg={get(t,e){if(e===_n)return t;const n=rs(t);if(!zp(n,e))return PP(t,n,e);const r=n[e];return t.finalized_||!Wr(r)?r:r===If(t.base_,e)?(Cf(t),t.copy_[e]=qp(r,t)):r},has(t,e){return e in rs(t)},ownKeys(t){return Reflect.ownKeys(rs(t))},set(t,e,n){const r=ET(rs(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=If(rs(t),e),s=i==null?void 0:i[_n];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(IP(n,i)&&(n!==void 0||zp(t.base_,e)))return!0;Cf(t),Kp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return If(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Cf(t),Kp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=rs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){qn(11)},getPrototypeOf(t){return Mo(t.base_)},setPrototypeOf(){qn(12)}},Nl={};dd(xg,(t,e)=>{Nl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Nl.deleteProperty=function(t,e){return Nl.set.call(this,t,e,void 0)};Nl.set=function(t,e,n){return xg.set.call(this,t[0],e,n,t[0])};function If(t,e){const n=t[_n];return(n?rs(n):t)[e]}function PP(t,e,n){var i;const r=ET(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function ET(t,e){if(!(e in t))return;let n=Mo(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Mo(n)}}function Kp(t){t.modified_||(t.modified_=!0,t.parent_&&Kp(t.parent_))}function Cf(t){t.copy_||(t.copy_=$p(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var bP=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}typeof n!="function"&&qn(6),r!==void 0&&typeof r!="function"&&qn(7);let i;if(Wr(e)){const s=$0(this),o=qp(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?Wp(s):Hp(s)}return z0(s,r),W0(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===yT&&(i=void 0),this.autoFreeze_&&kg(i,!0),r){const s=[],o=[];Ss("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else qn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Wr(t)||qn(8),Ts(t)&&(t=NP(t));const e=$0(this),n=qp(t,void 0);return n[_n].isManual_=!0,Hp(e),n}finishDraft(t,e){const n=t&&t[_n];(!n||!n.isManual_)&&qn(9);const{scope_:r}=n;return z0(r,e),W0(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ss("Patches").applyPatches_;return Ts(t)?r(t,e):this.produce(t,i=>r(i,e))}};function qp(t,e){const n=nh(t)?Ss("MapSet").proxyMap_(t,e):rh(t)?Ss("MapSet").proxySet_(t,e):xP(t,e);return(e?e.scope_:wT()).drafts_.push(n),n}function NP(t){return Ts(t)||qn(10,t),TT(t)}function TT(t){if(!Wr(t)||ih(t))return t;const e=t[_n];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=$p(t,e.scope_.immer_.useStrictShallowCopy_)}else n=$p(t,!0);return dd(n,(r,i)=>{_T(n,r,TT(i))}),e&&(e.finalized_=!1),n}var wn=new bP,ST=wn.produce;wn.produceWithPatches.bind(wn);wn.setAutoFreeze.bind(wn);wn.setUseStrictShallowCopy.bind(wn);wn.applyPatches.bind(wn);wn.createDraft.bind(wn);wn.finishDraft.bind(wn);function IT(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var DP=IT(),OP=IT,LP=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?cd:cd.apply(null,arguments)},MP=t=>t&&typeof t.match=="function";function il(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(fr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>TP(r)&&r.type===t,n}var CT=class Ba extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ba.prototype)}static get[Symbol.species](){return Ba}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ba(...e[0].concat(this)):new Ba(...e.concat(this))}};function K0(t){return Wr(t)?ST(t,()=>{}):t}function q0(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(fr(10));const r=n.insert(e,t);return t.set(e,r),r}function VP(t){return typeof t=="boolean"}var FP=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new CT;return n&&(VP(n)?o.push(DP):o.push(OP(n.extraArgument))),o},jP="RTK_autoBatch",AT=t=>e=>{setTimeout(e,t)},UP=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AT(10),BP=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?UP:t.type==="callback"?t.queueNotification:AT(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),g=r.subscribe(f);return a.add(d),()=>{g(),a.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[jP]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(d)}finally{i=!0}}})},zP=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new CT(t);return r&&i.push(BP(typeof r=="object"?r:void 0)),i};function $P(t){const e=FP(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Rg(n))a=wP(n);else throw new Error(fr(1));let u;typeof r=="function"?u=r(e):u=e();let c=cd;i&&(c=LP({trace:!1,...typeof i=="object"&&i}));const d=EP(...u),f=zP(d);let g=typeof o=="function"?o(f):f();const v=c(...g);return gT(a,s,v)}function RT(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(fr(28));if(a in e)throw new Error(fr(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function WP(t){return typeof t=="function"}function HP(t,e){let[n,r,i]=RT(e),s;if(WP(t))s=()=>K0(t());else{const a=K0(t);s=()=>a}function o(a=s(),u){let c=[n[u.type],...r.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,f)=>{if(f)if(Ts(d)){const v=f(d,u);return v===void 0?d:v}else{if(Wr(d))return ST(d,g=>f(g,u));{const g=f(d,u);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},a)}return o.getInitialState=s,o}var KP=(t,e)=>MP(t)?t.match(e):t(e);function qP(...t){return e=>t.some(n=>KP(n,e))}var GP="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",QP=(t=21)=>{let e="",n=t;for(;n--;)e+=GP[Math.random()*64|0];return e},YP=["name","message","stack","code"],Af=class{constructor(t,e){Kh(this,"_type");this.payload=t,this.meta=e}},G0=class{constructor(t,e){Kh(this,"_type");this.payload=t,this.meta=e}},XP=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of YP)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Pg=(()=>{function t(e,n,r){const i=il(e+"/fulfilled",(u,c,d,f)=>({payload:u,meta:{...f||{},arg:d,requestId:c,requestStatus:"fulfilled"}})),s=il(e+"/pending",(u,c,d)=>({payload:void 0,meta:{...d||{},arg:c,requestId:u,requestStatus:"pending"}})),o=il(e+"/rejected",(u,c,d,f,g)=>({payload:f,error:(r&&r.serializeError||XP)(u||"Rejected"),meta:{...g||{},arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function a(u){return(c,d,f)=>{const g=r!=null&&r.idGenerator?r.idGenerator(u):QP(),v=new AbortController;let E,C;function b(_){C=_,v.abort()}const S=async function(){var D,V;let _;try{let P=(D=r==null?void 0:r.condition)==null?void 0:D.call(r,u,{getState:d,extra:f});if(ZP(P)&&(P=await P),P===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const T=new Promise((y,I)=>{E=()=>{I({name:"AbortError",message:C||"Aborted"})},v.signal.addEventListener("abort",E)});c(s(g,u,(V=r==null?void 0:r.getPendingMeta)==null?void 0:V.call(r,{requestId:g,arg:u},{getState:d,extra:f}))),_=await Promise.race([T,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:g,signal:v.signal,abort:b,rejectWithValue:(y,I)=>new Af(y,I),fulfillWithValue:(y,I)=>new G0(y,I)})).then(y=>{if(y instanceof Af)throw y;return y instanceof G0?i(y.payload,g,u,y.meta):i(y,g,u)})])}catch(P){_=P instanceof Af?o(null,g,u,P.payload,P.meta):o(P,g,u)}finally{E&&v.signal.removeEventListener("abort",E)}return r&&!r.dispatchConditionRejection&&o.match(_)&&_.meta.condition||c(_),_}();return Object.assign(S,{abort:b,requestId:g,arg:u,unwrap(){return S.then(JP)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:qP(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function JP(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function ZP(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var eb=Symbol.for("rtk-slice-createasyncthunk");function tb(t,e){return`${t}/${e}`}function nb({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[eb];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(fr(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(sb()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,D){const V=typeof A=="string"?A:A.type;if(!V)throw new Error(fr(12));if(V in c.sliceCaseReducersByType)throw new Error(fr(13));return c.sliceCaseReducersByType[V]=D,d},addMatcher(A,D){return c.sliceMatchers.push({matcher:A,reducer:D}),d},exposeAction(A,D){return c.actionCreators[A]=D,d},exposeCaseReducer(A,D){return c.sliceCaseReducersByName[A]=D,d}};u.forEach(A=>{const D=a[A],V={reducerName:A,type:tb(s,A),createNotation:typeof i.reducers=="function"};ab(D)?ub(V,D,d,e):ob(V,D,d)});function f(){const[A={},D=[],V=void 0]=typeof i.extraReducers=="function"?RT(i.extraReducers):[i.extraReducers],P={...A,...c.sliceCaseReducersByType};return HP(i.initialState,T=>{for(let y in P)T.addCase(y,P[y]);for(let y of c.sliceMatchers)T.addMatcher(y.matcher,y.reducer);for(let y of D)T.addMatcher(y.matcher,y.reducer);V&&T.addDefaultCase(V)})}const g=A=>A,v=new Map;let E;function C(A,D){return E||(E=f()),E(A,D)}function b(){return E||(E=f()),E.getInitialState()}function S(A,D=!1){function V(T){let y=T[A];return typeof y>"u"&&D&&(y=b()),y}function P(T=g){const y=q0(v,D,{insert:()=>new WeakMap});return q0(y,T,{insert:()=>{const I={};for(const[p,k]of Object.entries(i.selectors??{}))I[p]=rb(k,T,b,D);return I}})}return{reducerPath:A,getSelectors:P,get selectors(){return P(V)},selectSlice:V}}const _={name:s,reducer:C,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,...S(o),injectInto(A,{reducerPath:D,...V}={}){const P=D??o;return A.inject({reducerPath:P,reducer:C},V),{..._,...S(P,!0)}}};return _}}function rb(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var ib=nb();function sb(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ob({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!lb(r))throw new Error(fr(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?il(t,o):il(t))}function ab(t){return t._reducerDefinitionType==="asyncThunk"}function lb(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ub({type:t,reducerName:e},n,r,i){if(!i)throw new Error(fr(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:c,options:d}=n,f=i(t,s,d);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),a&&r.addCase(f.pending,a),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Yu,pending:a||Yu,rejected:u||Yu,settled:c||Yu})}function Yu(){}function fr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}/*! js-cookie v3.0.5 | MIT */function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var cb={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Gp(t,e){function n(i,s,o){if(!(typeof document>"u")){o=Xu({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,o[u]!==!0&&(a+="="+o[u].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var u=s[a].split("="),c=u.slice(1).join("=");try{var d=decodeURIComponent(u[0]);if(o[d]=t.read(c,d),i===d)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Xu({},s,{expires:-1}))},withAttributes:function(i){return Gp(this.converter,Xu({},this.attributes,i))},withConverter:function(i){return Gp(Xu({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var sh=Gp(cb,{path:"/"}),Q0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},db=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,v=c&63;u||(v=64,o||(g=64)),r.push(n[d],n[f],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):db(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new hb;const g=s<<2|a>>4;if(r.push(g),c!==64){const v=a<<4&240|c>>2;if(r.push(v),f!==64){const E=c<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fb=function(t){const e=kT(t);return xT.encodeByteArray(e,!0)},pd=function(t){return fb(t).replace(/\./g,"")},PT=function(t){try{return xT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=()=>pb().__FIREBASE_DEFAULTS__,gb=()=>{if(typeof process>"u"||typeof Q0>"u")return;const t=Q0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PT(t[1]);return e&&JSON.parse(e)},oh=()=>{try{return mb()||gb()||yb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bT=t=>{var e,n;return(n=(e=oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vb=t=>{const e=bT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NT=()=>{var t;return(t=oh())===null||t===void 0?void 0:t.config},DT=t=>{var e;return(e=oh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pd(JSON.stringify(n)),pd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Eb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function Tb(){var t;const e=(t=oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ib(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ab(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Rb(){return!Tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kb(){try{return typeof indexedDB=="object"}catch{return!1}}function xb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="FirebaseError";class Jr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Pb,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?bb(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Jr(i,a,r)}}function bb(t,e){return t.replace(Nb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Nb=/\{\$([^}]+)}/g;function Db(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function md(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Y0(s)&&Y0(o)){if(!md(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function za(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $a(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ob(t,e){const n=new Lb(t,e);return n.subscribe.bind(n)}class Lb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Mb(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rf),i.error===void 0&&(i.error=Rf),i.complete===void 0&&(i.complete=Rf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _b;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jb(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fb(t){return t===is?void 0:t}function jb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Vb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const Bb={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},zb=ve.INFO,$b={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},Wb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=$b[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bg{constructor(e){this.name=e,this._logLevel=zb,this._logHandler=Wb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Bb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const Hb=(t,e)=>e.some(n=>t instanceof n);let X0,J0;function Kb(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qb(){return J0||(J0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OT=new WeakMap,Qp=new WeakMap,LT=new WeakMap,kf=new WeakMap,Ng=new WeakMap;function Gb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OT.set(n,t)}).catch(()=>{}),Ng.set(e,t),e}function Qb(t){if(Qp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qp.set(t,e)}let Yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Yb(t){Yp=t(Yp)}function Xb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xf(this),e,...n);return LT.set(r,e.sort?e.sort():[e]),ki(r)}:qb().includes(t)?function(...e){return t.apply(xf(this),e),ki(OT.get(this))}:function(...e){return ki(t.apply(xf(this),e))}}function Jb(t){return typeof t=="function"?Xb(t):(t instanceof IDBTransaction&&Qb(t),Hb(t,Kb())?new Proxy(t,Yp):t)}function ki(t){if(t instanceof IDBRequest)return Gb(t);if(kf.has(t))return kf.get(t);const e=Jb(t);return e!==t&&(kf.set(t,e),Ng.set(e,t)),e}const xf=t=>Ng.get(t);function Zb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ki(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ki(o.result),u.oldVersion,u.newVersion,ki(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const e2=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],Pf=new Map;function Z0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=t2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e2.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Pf.set(e,s),s}Yb(t=>({...t,get:(e,n,r)=>Z0(e,n)||t.get(e,n,r),has:(e,n)=>!!Z0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(r2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function r2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xp="@firebase/app",e_="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=new bg("@firebase/app"),i2="@firebase/app-compat",s2="@firebase/analytics-compat",o2="@firebase/analytics",a2="@firebase/app-check-compat",l2="@firebase/app-check",u2="@firebase/auth",c2="@firebase/auth-compat",d2="@firebase/database",h2="@firebase/data-connect",f2="@firebase/database-compat",p2="@firebase/functions",m2="@firebase/functions-compat",g2="@firebase/installations",y2="@firebase/installations-compat",v2="@firebase/messaging",_2="@firebase/messaging-compat",w2="@firebase/performance",E2="@firebase/performance-compat",T2="@firebase/remote-config",S2="@firebase/remote-config-compat",I2="@firebase/storage",C2="@firebase/storage-compat",A2="@firebase/firestore",R2="@firebase/vertexai",k2="@firebase/firestore-compat",x2="firebase",P2="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="[DEFAULT]",b2={[Xp]:"fire-core",[i2]:"fire-core-compat",[o2]:"fire-analytics",[s2]:"fire-analytics-compat",[l2]:"fire-app-check",[a2]:"fire-app-check-compat",[u2]:"fire-auth",[c2]:"fire-auth-compat",[d2]:"fire-rtdb",[h2]:"fire-data-connect",[f2]:"fire-rtdb-compat",[p2]:"fire-fn",[m2]:"fire-fn-compat",[g2]:"fire-iid",[y2]:"fire-iid-compat",[v2]:"fire-fcm",[_2]:"fire-fcm-compat",[w2]:"fire-perf",[E2]:"fire-perf-compat",[T2]:"fire-rc",[S2]:"fire-rc-compat",[I2]:"fire-gcs",[C2]:"fire-gcs-compat",[A2]:"fire-fst",[k2]:"fire-fst-compat",[R2]:"fire-vertex","fire-js":"fire-js",[x2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,N2=new Map,Zp=new Map;function t_(t,e){try{t.container.addComponent(e)}catch(n){Hr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(Zp.has(e))return Hr.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of gd.values())t_(n,t);for(const n of N2.values())t_(n,t);return!0}function Dg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new tu("app","Firebase",D2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=P2;function MT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xi.create("bad-app-name",{appName:String(i)});if(n||(n=NT()),!n)throw xi.create("no-options");const s=gd.get(i);if(s){if(md(n,s.options)&&md(r,s.config))return s;throw xi.create("duplicate-app",{appName:i})}const o=new Ub(i);for(const u of Zp.values())o.addComponent(u);const a=new O2(n,r,o);return gd.set(i,a),a}function VT(t=Jp){const e=gd.get(t);if(!e&&t===Jp&&NT())return MT();if(!e)throw xi.create("no-app",{appName:t});return e}function Pi(t,e,n){var r;let i=(r=b2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hr.warn(a.join(" "));return}Vo(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="firebase-heartbeat-database",M2=1,Dl="firebase-heartbeat-store";let bf=null;function FT(){return bf||(bf=Zb(L2,M2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),bf}async function V2(t){try{const n=(await FT()).transaction(Dl),r=await n.objectStore(Dl).get(jT(t));return await n.done,r}catch(e){if(e instanceof Jr)Hr.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hr.warn(n.message)}}}async function n_(t,e){try{const r=(await FT()).transaction(Dl,"readwrite");await r.objectStore(Dl).put(e,jT(t)),await r.done}catch(n){if(n instanceof Jr)Hr.warn(n.message);else{const r=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hr.warn(r.message)}}}function jT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1024,j2=30*24*60*60*1e3;class U2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=j2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Hr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=r_(),{heartbeatsToSend:r,unsentEntries:i}=B2(this._heartbeatsCache.heartbeats),s=pd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Hr.warn(n),""}}}function r_(){return new Date().toISOString().substring(0,10)}function B2(t,e=F2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),i_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),i_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class z2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kb()?xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return n_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function i_(t){return pd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){Vo(new Is("platform-logger",e=>new n2(e),"PRIVATE")),Vo(new Is("heartbeat",e=>new U2(e),"PRIVATE")),Pi(Xp,e_,t),Pi(Xp,e_,"esm2017"),Pi("fire-js","")}$2("");function Og(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W2=UT,BT=new tu("auth","Firebase",UT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new bg("@firebase/auth");function H2(t,...e){yd.logLevel<=ve.WARN&&yd.warn(`Auth (${ea}): ${t}`,...e)}function wc(t,...e){yd.logLevel<=ve.ERROR&&yd.error(`Auth (${ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t,...e){throw Mg(t,...e)}function Jn(t,...e){return Mg(t,...e)}function Lg(t,e,n){const r=Object.assign(Object.assign({},W2()),{[e]:n});return new tu("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return Lg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Mn(t,"argument-error"),Lg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BT.create(t,...e)}function ue(t,e,...n){if(!t)throw Mg(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wc(e),new Error(e)}function Kr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function q2(){return s_()==="http:"||s_()==="https:"}function s_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||Ib()||"connection"in navigator)?navigator.onLine:!0}function Q2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=Eb()||Cb()}get(){return G2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t,e){Kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new ru(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qi(t,e,n,r,i={}){return $T(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=nu(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return Sb()||(c.referrerPolicy="no-referrer"),zT.fetch()(WT(t,t.config.apiHost,n,a),c)})}async function $T(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y2),e);try{const i=new Z2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ju(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ju(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ju(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Lg(t,d,c);Mn(t,d)}}catch(i){if(i instanceof Jr)throw i;Mn(t,"network-request-failed",{message:String(i)})}}async function iu(t,e,n,r,i={}){const s=await qi(t,e,n,r,i);return"mfaPendingCredential"in s&&Mn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function WT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Vg(t.config,i):`${t.config.apiScheme}://${i}`}function J2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),X2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(t,e,r);return i.customData._tokenResponse=n,i}function o_(t){return t!==void 0&&t.enterprise!==void 0}class eN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tN(t,e){return qi(t,"GET","/v2/recaptchaConfig",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(t,e){return qi(t,"POST","/v1/accounts:delete",e)}async function HT(t,e){return qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rN(t,e=!1){const n=Ln(t),r=await n.getIdToken(e),i=Fg(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:sl(Nf(i.auth_time)),issuedAtTime:sl(Nf(i.iat)),expirationTime:sl(Nf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Nf(t){return Number(t)*1e3}function Fg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=PT(n);return i?JSON.parse(i):(wc("Failed to decode base64 JWT payload"),null)}catch(i){return wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function a_(t){const e=Fg(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jr&&iN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ol(t,HT(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KT(s.providerUserInfo):[],a=aN(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function oN(t){const e=Ln(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KT(t){return t.map(e=>{var{providerId:n}=e,r=Og(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){const n=await $T(t,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=WT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uN(t,e){return qi(t,"POST","/v2/accounts:revokeToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=a_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new To;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Og(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rN(this,e)}reload(){return oN(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await Ol(this,nN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,C=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,S=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:D,isAnonymous:V,providerData:P,stsTokenManager:T}=n;ue(A&&T,e,"internal-error");const y=To.fromJSON(this.name,T);ue(typeof A=="string",e,"internal-error"),ai(f,e.name),ai(g,e.name),ue(typeof D=="boolean",e,"internal-error"),ue(typeof V=="boolean",e,"internal-error"),ai(v,e.name),ai(E,e.name),ai(C,e.name),ai(b,e.name),ai(S,e.name),ai(_,e.name);const I=new Or({uid:A,auth:e,email:g,emailVerified:D,displayName:f,isAnonymous:V,photoURL:E,phoneNumber:v,tenantId:C,stsTokenManager:y,createdAt:S,lastLoginAt:_});return P&&Array.isArray(P)&&(I.providerData=P.map(p=>Object.assign({},p))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new To;i.updateFromServerResponse(n);const s=new Or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?KT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new To;a.updateFromIdToken(r);const u=new Or({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=new Map;function Lr(t){Kr(t instanceof Function,"Expected a class definition");let e=l_.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qT.type="NONE";const u_=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t,e,n){return`firebase:${t}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ec(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ec("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(Lr(u_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Lr(u_);const o=Ec(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Or._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new So(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new So(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZT(e))return"Blackberry";if(eS(e))return"Webos";if(QT(e))return"Safari";if((e.includes("chrome/")||YT(e))&&!e.includes("edge/"))return"Chrome";if(JT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GT(t=Kt()){return/firefox\//i.test(t)}function QT(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YT(t=Kt()){return/crios\//i.test(t)}function XT(t=Kt()){return/iemobile/i.test(t)}function JT(t=Kt()){return/android/i.test(t)}function ZT(t=Kt()){return/blackberry/i.test(t)}function eS(t=Kt()){return/webos/i.test(t)}function jg(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cN(t=Kt()){var e;return jg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dN(){return Ab()&&document.documentMode===10}function tS(t=Kt()){return jg(t)||JT(t)||eS(t)||ZT(t)||/windows phone/i.test(t)||XT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(t,e=[]){let n;switch(t){case"Browser":n=c_(Kt());break;case"Worker":n=`${c_(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(t,e={}){return qi(t,"GET","/v2/passwordPolicy",Ki(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=6;class mN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:pN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HT(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Fr(this));const n=e?Ln(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fN(this),n=new mN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await uN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&H2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gi(t){return Ln(t)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ob(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yN(t){ah=t}function rS(t){return ah.loadJS(t)}function vN(){return ah.recaptchaEnterpriseScript}function _N(){return ah.gapiScript}function wN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class EN{constructor(){this.enterprise=new TN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SN="recaptcha-enterprise",iS="NO_RECAPTCHA";class IN{constructor(e){this.type=SN,this.auth=Gi(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{tN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new eN(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;o_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(iS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new EN().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&o_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=vN();u.length!==0&&(u+=a),rS(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function h_(t,e,n,r=!1,i=!1){const s=new IN(t);let o;if(i)o=iS;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function nm(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await h_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await h_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e){const n=Dg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(md(s,e??{}))return i;Mn(i,"already-initialized")}return n.initialize({options:e})}function AN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RN(t,e,n){const r=Gi(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sS(e),{host:o,port:a}=kN(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),xN()}function sS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kN(t){const e=sS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:f_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:f_(o)}}}function f_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function PN(t,e){return qi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(t,e){return iu(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e){return iu(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function DN(t,e){return iu(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends Ug{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,n,"signInWithPassword",bN);case"emailLink":return NN(e,{email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,r,"signUpPassword",PN);case"emailLink":return DN(e,{idToken:n,email:this._email,oobCode:this._password});default:Mn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e){return iu(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="http://localhost";class Cs extends Ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Og(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Cs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:ON,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MN(t){const e=za($a(t)).link,n=e?za($a(e)).deep_link_id:null,r=za($a(t)).deep_link_id;return(r?za($a(r)).link:null)||r||n||e||t}class Bg{constructor(e){var n,r,i,s,o,a;const u=za($a(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,f=LN((i=u.mode)!==null&&i!==void 0?i:null);ue(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=MN(e);try{return new Bg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bg.parseLink(n);return ue(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends su{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends su{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pi.credential(e.oauthAccessToken)}catch{return null}}}pi.GITHUB_SIGN_IN_METHOD="github.com";pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends su{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.TWITTER_SIGN_IN_METHOD="twitter.com";mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t,e){return iu(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Or._fromIdTokenResponse(e,r,i),o=p_(r);return new As({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=p_(r);return new As({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function p_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends Jr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _d(e,n,r,i)}}function oS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(t,s,e,r):s})}async function FN(t,e,n=!1){const r=await Ol(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,e,n=!1){const{auth:r}=t;if(Gn(r.app))return Promise.reject(Fr(r));const i="reauthenticate";try{const s=await Ol(t,oS(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=Fg(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),As._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t,e,n=!1){if(Gn(t.app))return Promise.reject(Fr(t));const r="signIn",i=await oS(t,r,e),s=await As._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function UN(t,e){return aS(Gi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(t){const e=Gi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BN(t,e,n){if(Gn(t.app))return Promise.reject(Fr(t));const r=Gi(t),o=await nm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&lS(t),u}),a=await As._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function zN(t,e,n){return Gn(t.app)?Promise.reject(Fr(t)):UN(Ln(t),ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lS(t),r})}function $N(t,e,n,r){return Ln(t).onIdTokenChanged(e,n,r)}function WN(t,e,n){return Ln(t).beforeAuthStateChanged(e,n)}function HN(t){return Ln(t).signOut()}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=1e3,qN=10;class cS extends uS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);dN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cS.type="LOCAL";const GN=cS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends uS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}dS.type="SESSION";const hS=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new lh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await QN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=$g("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function XN(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function JN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eD(){return fS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firebaseLocalStorageDb",tD=1,Ed="firebaseLocalStorage",mS="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(t,e){return t.transaction([Ed],e?"readwrite":"readonly").objectStore(Ed)}function nD(){const t=indexedDB.deleteDatabase(pS);return new ou(t).toPromise()}function rm(){const t=indexedDB.open(pS,tD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ed,{keyPath:mS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ed)?e(r):(r.close(),await nD(),e(await rm()))})})}async function m_(t,e,n){const r=uh(t,!0).put({[mS]:e,value:n});return new ou(r).toPromise()}async function rD(t,e){const n=uh(t,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function g_(t,e){const n=uh(t,!0).delete(e);return new ou(n).toPromise()}const iD=800,sD=3;class gS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lh._getInstance(eD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await JN(),!this.activeServiceWorker)return;this.sender=new YN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await m_(e,wd,"1"),await g_(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>m_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>g_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=uh(i,!1).getAll();return new ou(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gS.type="LOCAL";const oD=gS;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t,e){return e?Lr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends Ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aD(t){return aS(t.auth,new Wg(t),t.bypassAuthState)}function lD(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),jN(n,new Wg(t),t.bypassAuthState)}async function uD(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),FN(n,new Wg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aD;case"linkViaPopup":case"linkViaRedirect":return uD;case"reauthViaPopup":case"reauthViaRedirect":return lD;default:Mn(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new ru(2e3,1e4);async function dD(t,e,n){if(Gn(t.app))return Promise.reject(Jn(t,"operation-not-supported-in-this-environment"));const r=Gi(t);K2(t,e,zg);const i=yS(r,n);return new ds(r,"signInViaPopup",e,i).executeNotNull()}class ds extends vS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ds.currentPopupAction&&ds.currentPopupAction.cancel(),ds.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=$g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ds.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cD.get())};e()}}ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="pendingRedirect",Tc=new Map;class fD extends vS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tc.get(this.auth._key());if(!e){try{const r=await pD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tc.set(this.auth._key(),e)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pD(t,e){const n=yD(e),r=gD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mD(t,e){Tc.set(t._key(),e)}function gD(t){return Lr(t._redirectPersistence)}function yD(t){return Ec(hD,t.config.apiKey,t.name)}async function vD(t,e,n=!1){if(Gn(t.app))return Promise.reject(Fr(t));const r=Gi(t),i=yS(r,e),o=await new fD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=10*60*1e3;class wD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ED(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_S(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_D&&this.cachedEventUids.clear(),this.cachedEventUids.has(y_(e))}saveEventToCache(e){this.cachedEventUids.add(y_(e)),this.lastProcessedEventTime=Date.now()}}function y_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _S({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ED(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _S(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TD(t,e={}){return qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ID=/^https?/;async function CD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TD(t);for(const n of e)try{if(AD(n))return}catch{}Mn(t,"unauthorized-domain")}function AD(t){const e=em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ID.test(n))return!1;if(SD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=new ru(3e4,6e4);function v_(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kD(t){return new Promise((e,n)=>{var r,i,s;function o(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),n(Jn(t,"network-request-failed"))},timeout:RD.get()})}if(!((i=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=pr().gapi)===null||s===void 0)&&s.load)o();else{const a=wN("iframefcb");return pr()[a]=()=>{gapi.load?o():n(Jn(t,"network-request-failed"))},rS(`${_N()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Sc=null,e})}let Sc=null;function xD(t){return Sc=Sc||kD(t),Sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new ru(5e3,15e3),bD="__/auth/iframe",ND="emulator/auth/iframe",DD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LD(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vg(e,ND):`https://${t.config.authDomain}/${bD}`,r={apiKey:e.apiKey,appName:t.name,v:ea},i=OD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nu(r).slice(1)}`}async function MD(t){const e=await xD(t),n=pr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:LD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),a=pr().setTimeout(()=>{s(o)},PD.get());function u(){pr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FD=500,jD=600,UD="_blank",BD="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zD(t,e,n,r=FD,i=jD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},VD),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Kt().toLowerCase();n&&(a=YT(c)?UD:n),GT(c)&&(e=e||BD,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[v,E])=>`${g}${v}=${E},`,"");if(cN(c)&&a!=="_self")return $D(e||"",a),new __(null);const f=window.open(e||"",a,d);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new __(f)}function $D(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="__/auth/handler",HD="emulator/auth/handler",KD=encodeURIComponent("fac");async function w_(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ea,eventId:i};if(e instanceof zg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Db(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof su){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${KD}=${encodeURIComponent(u)}`:"";return`${qD(t)}?${nu(a).slice(1)}${c}`}function qD({config:t}){return t.emulator?Vg(t,HD):`https://${t.authDomain}/${WD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="webStorageSupport";class GD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hS,this._completeRedirectFn=vD,this._overrideRedirectResult=mD}async _openPopup(e,n,r,i){var s;Kr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await w_(e,n,r,em(),i);return zD(e,o,$g())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await w_(e,n,r,em(),i);return XN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await MD(e),r=new wD(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Df,{type:Df},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Df];o!==void 0&&n(!!o),Mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tS()||QT()||jg()}}const QD=GD;var E_="@firebase/auth",T_="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JD(t){Vo(new Is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nS(t)},c=new gN(r,i,s,u);return AN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new Is("auth-internal",e=>{const n=Gi(e.getProvider("auth").getImmediate());return(r=>new YD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(E_,T_,XD(t)),Pi(E_,T_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=5*60,eO=DT("authIdTokenMaxAge")||ZD;let S_=null;const tO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eO)return;const i=n==null?void 0:n.token;S_!==i&&(S_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nO(t=VT()){const e=Dg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CN(t,{popupRedirectResolver:QD,persistence:[oD,GN,hS]}),r=DT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=tO(s.toString());WN(n,o,()=>o(n.currentUser)),$N(n,a=>o(a))}}const i=bT("auth");return i&&RN(n,`http://${i}`),n}function rO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JD("Browser");var I_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,wS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,y){function I(){}I.prototype=y.prototype,T.D=y.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(p,k,O){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return y.prototype[k].apply(p,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,y,I){I||(I=0);var p=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)p[k]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(k=0;16>k;++k)p[k]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=T.g[0],I=T.g[1],k=T.g[2];var O=T.g[3],R=y+(O^I&(k^O))+p[0]+3614090360&4294967295;y=I+(R<<7&4294967295|R>>>25),R=O+(k^y&(I^k))+p[1]+3905402710&4294967295,O=y+(R<<12&4294967295|R>>>20),R=k+(I^O&(y^I))+p[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=I+(y^k&(O^y))+p[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(O^I&(k^O))+p[4]+4118548399&4294967295,y=I+(R<<7&4294967295|R>>>25),R=O+(k^y&(I^k))+p[5]+1200080426&4294967295,O=y+(R<<12&4294967295|R>>>20),R=k+(I^O&(y^I))+p[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=I+(y^k&(O^y))+p[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(O^I&(k^O))+p[8]+1770035416&4294967295,y=I+(R<<7&4294967295|R>>>25),R=O+(k^y&(I^k))+p[9]+2336552879&4294967295,O=y+(R<<12&4294967295|R>>>20),R=k+(I^O&(y^I))+p[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=I+(y^k&(O^y))+p[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(O^I&(k^O))+p[12]+1804603682&4294967295,y=I+(R<<7&4294967295|R>>>25),R=O+(k^y&(I^k))+p[13]+4254626195&4294967295,O=y+(R<<12&4294967295|R>>>20),R=k+(I^O&(y^I))+p[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=I+(y^k&(O^y))+p[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(k^O&(I^k))+p[1]+4129170786&4294967295,y=I+(R<<5&4294967295|R>>>27),R=O+(I^k&(y^I))+p[6]+3225465664&4294967295,O=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(O^y))+p[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=I+(O^y&(k^O))+p[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^O&(I^k))+p[5]+3593408605&4294967295,y=I+(R<<5&4294967295|R>>>27),R=O+(I^k&(y^I))+p[10]+38016083&4294967295,O=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(O^y))+p[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=I+(O^y&(k^O))+p[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^O&(I^k))+p[9]+568446438&4294967295,y=I+(R<<5&4294967295|R>>>27),R=O+(I^k&(y^I))+p[14]+3275163606&4294967295,O=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(O^y))+p[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=I+(O^y&(k^O))+p[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^O&(I^k))+p[13]+2850285829&4294967295,y=I+(R<<5&4294967295|R>>>27),R=O+(I^k&(y^I))+p[2]+4243563512&4294967295,O=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(O^y))+p[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=I+(O^y&(k^O))+p[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(I^k^O)+p[5]+4294588738&4294967295,y=I+(R<<4&4294967295|R>>>28),R=O+(y^I^k)+p[8]+2272392833&4294967295,O=y+(R<<11&4294967295|R>>>21),R=k+(O^y^I)+p[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=I+(k^O^y)+p[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^O)+p[1]+2763975236&4294967295,y=I+(R<<4&4294967295|R>>>28),R=O+(y^I^k)+p[4]+1272893353&4294967295,O=y+(R<<11&4294967295|R>>>21),R=k+(O^y^I)+p[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=I+(k^O^y)+p[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^O)+p[13]+681279174&4294967295,y=I+(R<<4&4294967295|R>>>28),R=O+(y^I^k)+p[0]+3936430074&4294967295,O=y+(R<<11&4294967295|R>>>21),R=k+(O^y^I)+p[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=I+(k^O^y)+p[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^O)+p[9]+3654602809&4294967295,y=I+(R<<4&4294967295|R>>>28),R=O+(y^I^k)+p[12]+3873151461&4294967295,O=y+(R<<11&4294967295|R>>>21),R=k+(O^y^I)+p[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=I+(k^O^y)+p[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(k^(I|~O))+p[0]+4096336452&4294967295,y=I+(R<<6&4294967295|R>>>26),R=O+(I^(y|~k))+p[7]+1126891415&4294967295,O=y+(R<<10&4294967295|R>>>22),R=k+(y^(O|~I))+p[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=I+(O^(k|~y))+p[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~O))+p[12]+1700485571&4294967295,y=I+(R<<6&4294967295|R>>>26),R=O+(I^(y|~k))+p[3]+2399980690&4294967295,O=y+(R<<10&4294967295|R>>>22),R=k+(y^(O|~I))+p[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=I+(O^(k|~y))+p[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~O))+p[8]+1873313359&4294967295,y=I+(R<<6&4294967295|R>>>26),R=O+(I^(y|~k))+p[15]+4264355552&4294967295,O=y+(R<<10&4294967295|R>>>22),R=k+(y^(O|~I))+p[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=I+(O^(k|~y))+p[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~O))+p[4]+4149444226&4294967295,y=I+(R<<6&4294967295|R>>>26),R=O+(I^(y|~k))+p[11]+3174756917&4294967295,O=y+(R<<10&4294967295|R>>>22),R=k+(y^(O|~I))+p[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=I+(O^(k|~y))+p[9]+3951481745&4294967295,T.g[0]=T.g[0]+y&4294967295,T.g[1]=T.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+k&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,y){y===void 0&&(y=T.length);for(var I=y-this.blockSize,p=this.B,k=this.h,O=0;O<y;){if(k==0)for(;O<=I;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<y;)if(p[k++]=T.charCodeAt(O++),k==this.blockSize){i(this,p),k=0;break}}else for(;O<y;)if(p[k++]=T[O++],k==this.blockSize){i(this,p),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var y=1;y<T.length-8;++y)T[y]=0;var I=8*this.o;for(y=T.length-8;y<T.length;++y)T[y]=I&255,I/=256;for(this.u(T),T=Array(16),y=I=0;4>y;++y)for(var p=0;32>p;p+=8)T[I++]=this.g[y]>>>p&255;return T};function s(T,y){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=y(T)}function o(T,y){this.h=y;for(var I=[],p=!0,k=T.length-1;0<=k;k--){var O=T[k]|0;p&&O==y||(I[k]=O,p=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?s(T,function(y){return new o([y|0],0>y?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return b(c(-T));for(var y=[],I=1,p=0;T>=I;p++)y[p]=T/I|0,I*=4294967296;return new o(y,0)}function d(T,y){if(T.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(T.charAt(0)=="-")return b(d(T.substring(1),y));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),p=f,k=0;k<T.length;k+=8){var O=Math.min(8,T.length-k),R=parseInt(T.substring(k,k+O),y);8>O?(O=c(Math.pow(y,O)),p=p.j(O).add(c(R))):(p=p.j(I),p=p.add(c(R)))}return p}var f=u(0),g=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(C(this))return-b(this).m();for(var T=0,y=1,I=0;I<this.g.length;I++){var p=this.i(I);T+=(0<=p?p:4294967296+p)*y,y*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(C(this))return"-"+b(this).toString(T);for(var y=c(Math.pow(T,6)),I=this,p="";;){var k=D(I,y).g;I=S(I,k.j(y));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=k,E(I))return O+p;for(;6>O.length;)O="0"+O;p=O+p}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(var y=0;y<T.g.length;y++)if(T.g[y]!=0)return!1;return!0}function C(T){return T.h==-1}t.l=function(T){return T=S(this,T),C(T)?-1:E(T)?0:1};function b(T){for(var y=T.g.length,I=[],p=0;p<y;p++)I[p]=~T.g[p];return new o(I,~T.h).add(g)}t.abs=function(){return C(this)?b(this):this},t.add=function(T){for(var y=Math.max(this.g.length,T.g.length),I=[],p=0,k=0;k<=y;k++){var O=p+(this.i(k)&65535)+(T.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(T.i(k)>>>16);p=R>>>16,O&=65535,R&=65535,I[k]=R<<16|O}return new o(I,I[I.length-1]&-2147483648?-1:0)};function S(T,y){return T.add(b(y))}t.j=function(T){if(E(this)||E(T))return f;if(C(this))return C(T)?b(this).j(b(T)):b(b(this).j(T));if(C(T))return b(this.j(b(T)));if(0>this.l(v)&&0>T.l(v))return c(this.m()*T.m());for(var y=this.g.length+T.g.length,I=[],p=0;p<2*y;p++)I[p]=0;for(p=0;p<this.g.length;p++)for(var k=0;k<T.g.length;k++){var O=this.i(p)>>>16,R=this.i(p)&65535,re=T.i(k)>>>16,G=T.i(k)&65535;I[2*p+2*k]+=R*G,_(I,2*p+2*k),I[2*p+2*k+1]+=O*G,_(I,2*p+2*k+1),I[2*p+2*k+1]+=R*re,_(I,2*p+2*k+1),I[2*p+2*k+2]+=O*re,_(I,2*p+2*k+2)}for(p=0;p<y;p++)I[p]=I[2*p+1]<<16|I[2*p];for(p=y;p<2*y;p++)I[p]=0;return new o(I,0)};function _(T,y){for(;(T[y]&65535)!=T[y];)T[y+1]+=T[y]>>>16,T[y]&=65535,y++}function A(T,y){this.g=T,this.h=y}function D(T,y){if(E(y))throw Error("division by zero");if(E(T))return new A(f,f);if(C(T))return y=D(b(T),y),new A(b(y.g),b(y.h));if(C(y))return y=D(T,b(y)),new A(b(y.g),y.h);if(30<T.g.length){if(C(T)||C(y))throw Error("slowDivide_ only works with positive integers.");for(var I=g,p=y;0>=p.l(T);)I=V(I),p=V(p);var k=P(I,1),O=P(p,1);for(p=P(p,2),I=P(I,2);!E(p);){var R=O.add(p);0>=R.l(T)&&(k=k.add(I),O=R),p=P(p,1),I=P(I,1)}return y=S(T,k.j(y)),new A(k,y)}for(k=f;0<=T.l(y);){for(I=Math.max(1,Math.floor(T.m()/y.m())),p=Math.ceil(Math.log(I)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),O=c(I),R=O.j(y);C(R)||0<R.l(T);)I-=p,O=c(I),R=O.j(y);E(O)&&(O=g),k=k.add(O),T=S(T,R)}return new A(k,T)}t.A=function(T){return D(this,T).h},t.and=function(T){for(var y=Math.max(this.g.length,T.g.length),I=[],p=0;p<y;p++)I[p]=this.i(p)&T.i(p);return new o(I,this.h&T.h)},t.or=function(T){for(var y=Math.max(this.g.length,T.g.length),I=[],p=0;p<y;p++)I[p]=this.i(p)|T.i(p);return new o(I,this.h|T.h)},t.xor=function(T){for(var y=Math.max(this.g.length,T.g.length),I=[],p=0;p<y;p++)I[p]=this.i(p)^T.i(p);return new o(I,this.h^T.h)};function V(T){for(var y=T.g.length+1,I=[],p=0;p<y;p++)I[p]=T.i(p)<<1|T.i(p-1)>>>31;return new o(I,T.h)}function P(T,y){var I=y>>5;y%=32;for(var p=T.g.length-I,k=[],O=0;O<p;O++)k[O]=0<y?T.i(O+I)>>>y|T.i(O+I+1)<<32-y:T.i(O+I);return new o(k,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ms=o}).apply(typeof I_<"u"?I_:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ES,Wa,TS,Ic,im,SS,IS,CS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var M=l[w];if(!(M in m))break e;m=m[M]}l=l[l.length-1],w=m[l],h=h(w),h!=w&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var m=0,w=!1,M={next:function(){if(!w&&m<l.length){var j=m++;return{value:h(j,l[j]),done:!1}}return w=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,w),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function g(l,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function v(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function E(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(w,M,j){for(var K=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)K[Me-2]=arguments[Me];return h.prototype[M].apply(w,K)}}function C(l){const h=l.length;if(0<h){const m=Array(h);for(let w=0;w<h;w++)m[w]=l[w];return m}return[]}function b(l,h){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(u(w)){const M=l.length||0,j=w.length||0;l.length=M+j;for(let K=0;K<j;K++)l[M+K]=w[K]}else l.push(w)}}class S{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function A(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var V=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function P(l,h,m){for(const w in l)h.call(m,l[w],w,l)}function T(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function y(l){const h={};for(const m in l)h[m]=l[m];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(l,h){let m,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(m in w)l[m]=w[m];for(let j=0;j<I.length;j++)m=I[j],Object.prototype.hasOwnProperty.call(w,m)&&(l[m]=w[m])}}function k(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function O(l){a.setTimeout(()=>{throw l},0)}function R(){var l=ie;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class re{constructor(){this.h=this.g=null}add(h,m){const w=G.get();w.set(h,m),this.h?this.h.next=w:this.g=w,this.h=w}}var G=new S(()=>new De,l=>l.reset());class De{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,q=!1,ie=new re,le=()=>{const l=a.Promise.resolve(void 0);Ae=()=>{l.then(Ie)}};var Ie=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(m){O(m)}var h=G;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}q=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function Ct(l,h){if(Le.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(V){e:{try{D(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:At[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ct.aa.h.call(this)}}E(Ct,Le);var At={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),Lh=0;function Mh(l,h,m,w,M){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!w,this.ha=M,this.key=++Lh,this.da=this.fa=!1}function Ms(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ct(l){this.src=l,this.g={},this.h=0}ct.prototype.add=function(l,h,m,w,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var K=Vs(l,h,w,M);return-1<K?(h=l[K],m||(h.fa=!1)):(h=new Mh(h,this.src,j,!!w,M),h.fa=m,l.push(h)),h};function er(l,h){var m=h.type;if(m in l.g){var w=l.g[m],M=Array.prototype.indexOf.call(w,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(w,M,1),j&&(Ms(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Vs(l,h,m,w){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!m&&j.ha==w)return M}return-1}var aa="closure_lm_"+(1e6*Math.random()|0),Fn={};function pu(l,h,m,w,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)pu(l,h[j],m,w,M);return null}return m=ua(m),l&&l[Xt]?l.K(h,m,c(w)?!!w.capture:!!w,M):Vh(l,h,m,!1,w,M)}function Vh(l,h,m,w,M,j){if(!h)throw Error("Invalid event type");var K=c(M)?!!M.capture:!!M,Me=jn(l);if(Me||(l[aa]=Me=new ct(l)),m=Me.add(h,m,w,K,j),m.proxy)return m;if(w=mu(),m.proxy=w,w.src=l,w.listener=m,l.addEventListener)gt||(M=K),M===void 0&&(M=!1),l.addEventListener(h.toString(),w,M);else if(l.attachEvent)l.attachEvent(yu(h.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function mu(){function l(m){return h.call(l.src,l.listener,m)}const h=Fh;return l}function gu(l,h,m,w,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)gu(l,h[j],m,w,M);else w=c(w)?!!w.capture:!!w,m=ua(m),l&&l[Xt]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],m=Vs(j,m,w,M),-1<m&&(Ms(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=jn(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Vs(h,m,w,M)),(m=-1<l?h[l]:null)&&la(m))}function la(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Xt])er(h.i,l);else{var m=l.type,w=l.proxy;h.removeEventListener?h.removeEventListener(m,w,l.capture):h.detachEvent?h.detachEvent(yu(m),w):h.addListener&&h.removeListener&&h.removeListener(w),(m=jn(h))?(er(m,l),m.h==0&&(m.src=null,h[aa]=null)):Ms(l)}}}function yu(l){return l in Fn?Fn[l]:Fn[l]="on"+l}function Fh(l,h){if(l.da)l=!0;else{h=new Ct(h,this);var m=l.listener,w=l.ha||l.src;l.fa&&la(l),l=m.call(w,h)}return l}function jn(l){return l=l[aa],l instanceof ct?l:null}var wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ua(l){return typeof l=="function"?l:(l[wr]||(l[wr]=function(h){return l.handleEvent(h)}),l[wr])}function dt(){we.call(this),this.i=new ct(this),this.M=this,this.F=null}E(dt,we),dt.prototype[Xt]=!0,dt.prototype.removeEventListener=function(l,h,m,w){gu(this,l,h,m,w)};function He(l,h){var m,w=l.F;if(w)for(m=[];w;w=w.F)m.push(w);if(l=l.M,w=h.type||h,typeof h=="string")h=new Le(h,l);else if(h instanceof Le)h.target=h.target||l;else{var M=h;h=new Le(w,l),p(h,M)}if(M=!0,m)for(var j=m.length-1;0<=j;j--){var K=h.g=m[j];M=Jt(K,w,!0,h)&&M}if(K=h.g=l,M=Jt(K,w,!0,h)&&M,M=Jt(K,w,!1,h)&&M,m)for(j=0;j<m.length;j++)K=h.g=m[j],M=Jt(K,w,!1,h)&&M}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],w=0;w<m.length;w++)Ms(m[w]);delete l.g[h],l.h--}}this.F=null},dt.prototype.K=function(l,h,m,w){return this.i.add(String(l),h,!1,m,w)},dt.prototype.L=function(l,h,m,w){return this.i.add(String(l),h,!0,m,w)};function Jt(l,h,m,w){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var K=h[j];if(K&&!K.da&&K.capture==m){var Me=K.listener,Rt=K.ha||K.src;K.fa&&er(l.i,K),M=Me.call(Rt,w)!==!1&&M}}return M&&!w.defaultPrevented}function ca(l,h,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Qi(l){l.g=ca(()=>{l.g=null,l.i&&(l.i=!1,Qi(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class jh extends we{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Qi(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(l){we.call(this),this.h=l,this.g={}}E(Zt,we);var da=[];function ha(l){P(l.g,function(h,m){this.g.hasOwnProperty(m)&&la(h)},l),l.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),ha(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=a.JSON.stringify,Uh=a.JSON.parse,vu=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Zr(){}Zr.prototype.h=null;function fa(l){return l.h||(l.h=l.i())}function js(){}var Er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pa(){Le.call(this,"d")}E(pa,Le);function Us(){Le.call(this,"c")}E(Us,Le);var Tr={},ma=null;function Sr(){return ma=ma||new dt}Tr.La="serverreachability";function Yi(l){Le.call(this,Tr.La,l)}E(Yi,Le);function Xi(l){const h=Sr();He(h,new Yi(h))}Tr.STAT_EVENT="statevent";function _u(l,h){Le.call(this,Tr.STAT_EVENT,l),this.stat=h}E(_u,Le);function N(l){const h=Sr();He(h,new _u(h,l))}Tr.Ma="timingevent";function L(l,h){Le.call(this,Tr.Ma,l),this.size=h}E(L,Le);function F(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function $(){this.g=!0}$.prototype.xa=function(){this.g=!1};function X(l,h,m,w,M,j){l.info(function(){if(l.g)if(j)for(var K="",Me=j.split("&"),Rt=0;Rt<Me.length;Rt++){var Re=Me[Rt].split("=");if(1<Re.length){var Mt=Re[0];Re=Re[1];var Vt=Mt.split("_");K=2<=Vt.length&&Vt[1]=="type"?K+(Mt+"="+Re+"&"):K+(Mt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+h+`
`+m+`
`+K})}function ne(l,h,m,w,M,j,K){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+h+`
`+m+`
`+j+" "+K})}function se(l,h,m,w){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+ee(l,m)+(w?" "+w:"")})}function Z(l,h){l.info(function(){return"TIMEOUT: "+h})}$.prototype.info=function(){};function ee(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var w=m[l];if(!(2>w.length)){var M=w[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return Fs(m)}catch{return h}}var Q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fe;function me(){}E(me,Zr),me.prototype.g=function(){return new XMLHttpRequest},me.prototype.i=function(){return{}},fe=new me;function je(l,h,m,w){this.j=l,this.i=h,this.l=m,this.R=w||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var Ee={},Ue={};function tr(l,h,m){l.L=1,l.v=Su(Cr(h)),l.m=m,l.P=!0,ei(l,null)}function ei(l,h){l.F=Date.now(),ti(l),l.A=Cr(l.v);var m=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Fy(m.i,"t",w),l.C=0,m=l.j.J,l.h=new be,l.g=nv(l.j,m?h:null,!l.m),0<l.O&&(l.M=new jh(g(l.Y,l,l.g),l.O)),h=l.U,m=l.g,w=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(da[0]=M.toString()),M=da);for(var j=0;j<M.length;j++){var K=pu(m,M[j],w||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Xi(),X(l.i,l.u,l.A,l.l,l.R,l.m)}je.prototype.ca=function(l){l=l.target;const h=this.M;h&&Ar(l)==3?h.j():this.Y(l)},je.prototype.Y=function(l){try{if(l==this.g)e:{const Vt=Ar(this.g);var h=this.g.Ba();const Ws=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Hy(this.g)))){this.J||Vt!=4||h==7||(h==8||0>=Ws?Xi(3):Xi(2)),Un(this);var m=this.g.Z();this.X=m;t:if(Sn(this)){var w=Hy(this.g);l="";var M=w.length,j=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),nr(this);var K="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(w[h],{stream:!(j&&h==M-1)});w.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=m==200,ne(this.i,this.u,this.A,this.l,this.R,Vt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Rt=this.g;if((Me=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Me)){var Re=Me;break t}}Re=null}if(m=Re)se(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ye(this,m);else{this.o=!1,this.s=3,N(12),Cn(this),nr(this);break e}}if(this.P){m=!0;let Bn;for(;!this.J&&this.C<K.length;)if(Bn=In(this,K),Bn==Ue){Vt==4&&(this.s=4,N(14),m=!1),se(this.i,this.l,null,"[Incomplete Response]");break}else if(Bn==Ee){this.s=4,N(15),se(this.i,this.l,K,"[Invalid Chunk]"),m=!1;break}else se(this.i,this.l,Bn,null),ye(this,Bn);if(Sn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||K.length!=0||this.h.h||(this.s=1,N(16),m=!1),this.o=this.o&&m,!m)se(this.i,this.l,K,"[Invalid Chunked Response]"),Cn(this),nr(this);else if(0<K.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Wh(Mt),Mt.M=!0,N(11))}}else se(this.i,this.l,K,null),ye(this,K);Vt==4&&Cn(this),this.o&&!this.J&&(Vt==4?Jy(this.j,this):(this.o=!1,ti(this)))}else bC(this.g),m==400&&0<K.indexOf("Unknown SID")?(this.s=3,N(12)):(this.s=0,N(13)),Cn(this),nr(this)}}}catch{}finally{}};function Sn(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function In(l,h){var m=l.C,w=h.indexOf(`
`,m);return w==-1?Ue:(m=Number(h.substring(m,w)),isNaN(m)?Ee:(w+=1,w+m>h.length?Ue:(h=h.slice(w,w+m),l.C=w+m,h)))}je.prototype.cancel=function(){this.J=!0,Cn(this)};function ti(l){l.S=Date.now()+l.I,ni(l,l.I)}function ni(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=F(g(l.ba,l),h)}function Un(l){l.B&&(a.clearTimeout(l.B),l.B=null)}je.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Z(this.i,this.A),this.L!=2&&(Xi(),N(17)),Cn(this),this.s=2,nr(this)):ni(this,this.S-l)};function nr(l){l.j.G==0||l.J||Jy(l.j,l)}function Cn(l){Un(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,ha(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function ye(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||rr(m.h,l))){if(!l.K&&rr(m.h,l)&&m.G==3){try{var w=m.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)xu(m),Ru(m);else break e;$h(m),N(18)}}else m.za=M[1],0<m.za-m.T&&37500>M[2]&&m.F&&m.v==0&&!m.C&&(m.C=F(g(m.Za,m),6e3));if(1>=Ye(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Zi(m,11)}else if((l.K||m.g==l)&&xu(m),!_(h))for(M=m.Da.g.parse(h),h=0;h<M.length;h++){let Re=M[h];if(m.T=Re[0],Re=Re[1],m.G==2)if(Re[0]=="c"){m.K=Re[1],m.ia=Re[2];const Mt=Re[3];Mt!=null&&(m.la=Mt,m.j.info("VER="+m.la));const Vt=Re[4];Vt!=null&&(m.Aa=Vt,m.j.info("SVER="+m.Aa));const Ws=Re[5];Ws!=null&&typeof Ws=="number"&&0<Ws&&(w=1.5*Ws,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const Bn=l.g;if(Bn){const bu=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bu){var j=w.h;j.g||bu.indexOf("spdy")==-1&&bu.indexOf("quic")==-1&&bu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Bs(j,j.h),j.h=null))}if(w.D){const Hh=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hh&&(w.ya=Hh,ze(w.I,w.D,Hh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var K=l;if(w.qa=tv(w,w.J?w.ia:null,w.W),K.K){wu(w.h,K);var Me=K,Rt=w.L;Rt&&(Me.I=Rt),Me.B&&(Un(Me),ti(Me)),w.g=K}else Yy(w);0<m.i.length&&ku(m)}else Re[0]!="stop"&&Re[0]!="close"||Zi(m,7);else m.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Zi(m,7):zh(m):Re[0]!="noop"&&m.l&&m.l.ta(Re),m.v=0)}}Xi(4)}catch{}}var Ke=class{constructor(l,h){this.g=l,this.map=h}};function Ir(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ri(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ye(l){return l.h?1:l.g?l.g.size:0}function rr(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Bs(l,h){l.g?l.g.add(h):l.h=h}function wu(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Ir.prototype.cancel=function(){if(this.i=by(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function by(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return C(l.i)}function gC(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,w=0;w<m;w++)h.push(l[w]);return h}h=[],m=0;for(w in l)h[m++]=l[w];return h}function yC(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const w in l)h[m++]=w;return h}}}function Ny(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=yC(l),w=gC(l),M=w.length,j=0;j<M;j++)h.call(void 0,w[j],m&&m[j],l)}var Dy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vC(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var w=l[m].indexOf("="),M=null;if(0<=w){var j=l[m].substring(0,w);M=l[m].substring(w+1)}else j=l[m];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ji(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ji){this.h=l.h,Eu(this,l.j),this.o=l.o,this.g=l.g,Tu(this,l.s),this.l=l.l;var h=l.i,m=new va;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),Oy(this,m),this.m=l.m}else l&&(h=String(l).match(Dy))?(this.h=!1,Eu(this,h[1]||"",!0),this.o=ga(h[2]||""),this.g=ga(h[3]||"",!0),Tu(this,h[4]),this.l=ga(h[5]||"",!0),Oy(this,h[6]||"",!0),this.m=ga(h[7]||"")):(this.h=!1,this.i=new va(null,this.h))}Ji.prototype.toString=function(){var l=[],h=this.j;h&&l.push(ya(h,Ly,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ya(h,Ly,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(ya(m,m.charAt(0)=="/"?EC:wC,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",ya(m,SC)),l.join("")};function Cr(l){return new Ji(l)}function Eu(l,h,m){l.j=m?ga(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Tu(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Oy(l,h,m){h instanceof va?(l.i=h,IC(l.i,l.h)):(m||(h=ya(h,TC)),l.i=new va(h,l.h))}function ze(l,h,m){l.i.set(h,m)}function Su(l){return ze(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ga(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ya(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,_C),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _C(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Ly=/[#\/\?@]/g,wC=/[#\?:]/g,EC=/[#\?]/g,TC=/[#\?@]/g,SC=/#/g;function va(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ii(l){l.g||(l.g=new Map,l.h=0,l.i&&vC(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=va.prototype,t.add=function(l,h){ii(this),this.i=null,l=zs(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function My(l,h){ii(l),h=zs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Vy(l,h){return ii(l),h=zs(l,h),l.g.has(h)}t.forEach=function(l,h){ii(this),this.g.forEach(function(m,w){m.forEach(function(M){l.call(h,M,w,this)},this)},this)},t.na=function(){ii(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let w=0;w<h.length;w++){const M=l[w];for(let j=0;j<M.length;j++)m.push(h[w])}return m},t.V=function(l){ii(this);let h=[];if(typeof l=="string")Vy(this,l)&&(h=h.concat(this.g.get(zs(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return ii(this),this.i=null,l=zs(this,l),Vy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Fy(l,h,m){My(l,h),0<m.length&&(l.i=null,l.g.set(zs(l,h),C(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var w=h[m];const j=encodeURIComponent(String(w)),K=this.V(w);for(w=0;w<K.length;w++){var M=j;K[w]!==""&&(M+="="+encodeURIComponent(String(K[w]))),l.push(M)}}return this.i=l.join("&")};function zs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function IC(l,h){h&&!l.j&&(ii(l),l.i=null,l.g.forEach(function(m,w){var M=w.toLowerCase();w!=M&&(My(this,w),Fy(this,M,m))},l)),l.j=h}function CC(l,h){const m=new $;if(a.Image){const w=new Image;w.onload=v(si,m,"TestLoadImage: loaded",!0,h,w),w.onerror=v(si,m,"TestLoadImage: error",!1,h,w),w.onabort=v(si,m,"TestLoadImage: abort",!1,h,w),w.ontimeout=v(si,m,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else h(!1)}function AC(l,h){const m=new $,w=new AbortController,M=setTimeout(()=>{w.abort(),si(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:w.signal}).then(j=>{clearTimeout(M),j.ok?si(m,"TestPingServer: ok",!0,h):si(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),si(m,"TestPingServer: error",!1,h)})}function si(l,h,m,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(m)}catch{}}function RC(){this.g=new vu}function kC(l,h,m){const w=m||"";try{Ny(l,function(M,j){let K=M;c(M)&&(K=Fs(M)),h.push(w+j+"="+encodeURIComponent(K))})}catch(M){throw h.push(w+"type="+encodeURIComponent("_badmap")),M}}function Iu(l){this.l=l.Ub||null,this.j=l.eb||!1}E(Iu,Zr),Iu.prototype.g=function(){return new Cu(this.l,this.j)},Iu.prototype.i=function(l){return function(){return l}}({});function Cu(l,h){dt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Cu,dt),t=Cu.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,wa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function jy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?_a(this):wa(this),this.readyState==3&&jy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,_a(this))},t.Qa=function(l){this.g&&(this.response=l,_a(this))},t.ga=function(){this.g&&_a(this)};function _a(l){l.readyState=4,l.l=null,l.j=null,l.v=null,wa(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function wa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Uy(l){let h="";return P(l,function(m,w){h+=w,h+=":",h+=m,h+=`\r
`}),h}function Bh(l,h,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Uy(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):ze(l,h,m))}function tt(l){dt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(tt,dt);var xC=/^https?$/i,PC=["POST","PUT"];t=tt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fe.g(),this.v=this.o?fa(this.o):fa(fe),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){By(this,j);return}if(l=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)m.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const j of w.keys())m.set(j,w.get(j));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(PC,h,void 0))||w||M||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of m)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wy(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){By(this,j)}};function By(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,zy(l),Au(l)}function zy(l){l.A||(l.A=!0,He(l,"complete"),He(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,He(this,"complete"),He(this,"abort"),Au(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Au(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$y(this):this.bb())},t.bb=function(){$y(this)};function $y(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Ar(l)!=4||l.Z()!=2)){if(l.u&&Ar(l)==4)ca(l.Ea,0,l);else if(He(l,"readystatechange"),Ar(l)==4){l.h=!1;try{const K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var w;if(w=K===0){var M=String(l.D).match(Dy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),w=!xC.test(M?M.toLowerCase():"")}m=w}if(m)He(l,"complete"),He(l,"success");else{l.m=6;try{var j=2<Ar(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",zy(l)}}finally{Au(l)}}}}function Au(l,h){if(l.g){Wy(l);const m=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||He(l,"ready");try{m.onreadystatechange=w}catch{}}}function Wy(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ar(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Uh(h)}};function Hy(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function bC(l){const h={};l=(l.g&&2<=Ar(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(_(l[w]))continue;var m=k(l[w]);const M=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=h[M]||[];h[M]=j,j.push(m)}T(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function Ky(l){this.Aa=0,this.i=[],this.j=new $,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ea("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ea("baseRetryDelayMs",5e3,l),this.cb=Ea("retryDelaySeedMs",1e4,l),this.Wa=Ea("forwardChannelMaxRetries",2,l),this.wa=Ea("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Ir(l&&l.concurrentRequestLimit),this.Da=new RC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ky.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,w){N(0),this.W=l,this.H=h||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=tv(this,null,this.W),ku(this)};function zh(l){if(qy(l),l.G==3){var h=l.U++,m=Cr(l.I);if(ze(m,"SID",l.K),ze(m,"RID",h),ze(m,"TYPE","terminate"),Ta(l,m),h=new je(l,l.j,h),h.L=2,h.v=Su(Cr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=nv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ti(h)}ev(l)}function Ru(l){l.g&&(Wh(l),l.g.cancel(),l.g=null)}function qy(l){Ru(l),l.u&&(a.clearTimeout(l.u),l.u=null),xu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ku(l){if(!ri(l.h)&&!l.s){l.s=!0;var h=l.Ga;Ae||le(),q||(Ae(),q=!0),ie.add(h,l),l.B=0}}function NC(l,h){return Ye(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=F(g(l.Ga,l,h),Zy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new je(this,this.j,l);let j=this.o;if(this.S&&(j?(j=y(j),p(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Qy(this,M,h),m=Cr(this.I),ze(m,"RID",l),ze(m,"CVER",22),this.D&&ze(m,"X-HTTP-Session-Id",this.D),Ta(this,m),j&&(this.O?h="headers="+encodeURIComponent(String(Uy(j)))+"&"+h:this.m&&Bh(m,this.m,j)),Bs(this.h,M),this.Ua&&ze(m,"TYPE","init"),this.P?(ze(m,"$req",h),ze(m,"SID","null"),M.T=!0,tr(M,m,null)):tr(M,m,h),this.G=2}}else this.G==3&&(l?Gy(this,l):this.i.length==0||ri(this.h)||Gy(this))};function Gy(l,h){var m;h?m=h.l:m=l.U++;const w=Cr(l.I);ze(w,"SID",l.K),ze(w,"RID",m),ze(w,"AID",l.T),Ta(l,w),l.m&&l.o&&Bh(w,l.m,l.o),m=new je(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Qy(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Bs(l.h,m),tr(m,w,h)}function Ta(l,h){l.H&&P(l.H,function(m,w){ze(h,w,m)}),l.l&&Ny({},function(m,w){ze(h,w,m)})}function Qy(l,h,m){m=Math.min(l.i.length,m);var w=l.l?g(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const K=["count="+m];j==-1?0<m?(j=M[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Me=!0;for(let Rt=0;Rt<m;Rt++){let Re=M[Rt].g;const Mt=M[Rt].map;if(Re-=j,0>Re)j=Math.max(0,M[Rt].g-100),Me=!1;else try{kC(Mt,K,"req"+Re+"_")}catch{w&&w(Mt)}}if(Me){w=K.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,w}function Yy(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Ae||le(),q||(Ae(),q=!0),ie.add(h,l),l.v=0}}function $h(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=F(g(l.Fa,l),Zy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Xy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=F(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,N(10),Ru(this),Xy(this))};function Wh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Xy(l){l.g=new je(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Cr(l.qa);ze(h,"RID","rpc"),ze(h,"SID",l.K),ze(h,"AID",l.T),ze(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ze(h,"TO",l.ja),ze(h,"TYPE","xmlhttp"),Ta(l,h),l.m&&l.o&&Bh(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Su(Cr(h)),m.m=null,m.P=!0,ei(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Ru(this),$h(this),N(19))};function xu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Jy(l,h){var m=null;if(l.g==h){xu(l),Wh(l),l.g=null;var w=2}else if(rr(l.h,h))m=h.D,wu(l.h,h),w=1;else return;if(l.G!=0){if(h.o)if(w==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;w=Sr(),He(w,new L(w,m)),ku(l)}else Yy(l);else if(M=h.s,M==3||M==0&&0<h.X||!(w==1&&NC(l,h)||w==2&&$h(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),M){case 1:Zi(l,5);break;case 4:Zi(l,10);break;case 3:Zi(l,6);break;default:Zi(l,2)}}}function Zy(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function Zi(l,h){if(l.j.info("Error code "+h),h==2){var m=g(l.fb,l),w=l.Xa;const M=!w;w=new Ji(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Eu(w,"https"),Su(w),M?CC(w.toString(),m):AC(w.toString(),m)}else N(2);l.G=0,l.l&&l.l.sa(h),ev(l),qy(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),N(2)):(this.j.info("Failed to ping google.com"),N(1))};function ev(l){if(l.G=0,l.ka=[],l.l){const h=by(l.h);(h.length!=0||l.i.length!=0)&&(b(l.ka,h),b(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function tv(l,h,m){var w=m instanceof Ji?Cr(m):new Ji(m);if(w.g!="")h&&(w.g=h+"."+w.g),Tu(w,w.s);else{var M=a.location;w=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new Ji(null);w&&Eu(j,w),h&&(j.g=h),M&&Tu(j,M),m&&(j.l=m),w=j}return m=l.D,h=l.ya,m&&h&&ze(w,m,h),ze(w,"VER",l.la),Ta(l,w),w}function nv(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new tt(new Iu({eb:m})):new tt(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rv(){}t=rv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pu(){}Pu.prototype.g=function(l,h){return new un(l,h)};function un(l,h){dt.call(this),this.g=new Ky(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new $s(this)}E(un,dt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){zh(this.g)},un.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Fs(l),l=m);h.i.push(new Ke(h.Ya++,l)),h.G==3&&ku(h)},un.prototype.N=function(){this.g.l=null,delete this.j,zh(this.g),delete this.g,un.aa.N.call(this)};function iv(l){pa.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(iv,pa);function sv(){Us.call(this),this.status=1}E(sv,Us);function $s(l){this.g=l}E($s,rv),$s.prototype.ua=function(){He(this.g,"a")},$s.prototype.ta=function(l){He(this.g,new iv(l))},$s.prototype.sa=function(l){He(this.g,new sv)},$s.prototype.ra=function(){He(this.g,"b")},Pu.prototype.createWebChannel=Pu.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,CS=function(){return new Pu},IS=function(){return Sr()},SS=Tr,im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Q.NO_ERROR=0,Q.TIMEOUT=8,Q.HTTP_ERROR=6,Ic=Q,te.COMPLETE="complete",TS=te,js.EventType=Er,Er.OPEN="a",Er.CLOSE="b",Er.ERROR="c",Er.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Wa=js,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,ES=tt}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const C_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new bg("@firebase/firestore");function Zs(){return Rs.logLevel}function Y(t,...e){if(Rs.logLevel<=ve.DEBUG){const n=e.map(Hg);Rs.debug(`Firestore (${na}): ${t}`,...n)}}function qr(t,...e){if(Rs.logLevel<=ve.ERROR){const n=e.map(Hg);Rs.error(`Firestore (${na}): ${t}`,...n)}}function Fo(t,...e){if(Rs.logLevel<=ve.WARN){const n=e.map(Hg);Rs.warn(`Firestore (${na}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${na}) INTERNAL ASSERTION FAILED: `+t;throw qr(e),new Error(e)}function Pe(t,e){t||ce()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class sO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oO{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new AS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new zt(e)}}class aO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new aO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Pe(this.o===void 0);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new uO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new ot(0,0))}static max(){return new de(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ml.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ml?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends Ml{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const hO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends Ml{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return hO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(st.fromString(e))}static fromName(e){return new ae(st.fromString(e).popFirst(5))}static empty(){return new ae(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new st(e.slice()))}}function fO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Li(i,ae.empty(),e)}function pO(t){return new Li(t.readTime,t.key,-1)}class Li{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Li(de.min(),ae.empty(),-1)}static max(){return new Li(de.max(),ae.empty(),-1)}}function mO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==gO)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function vO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ia(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ch.oe=-1;function dh(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function _O(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=A_(e)),e=EO(t.get(n),e);return A_(e)}function EO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function A_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new St(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xS("Invalid base64 string: "+s):s}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const TO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=TO.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function hh(t){const e=t.mapValue.fields.__previous_value__;return Kg(e)?hh(e):e}function Vl(t){const e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kg(t)?4:CO(t)?9007199254740991:IO(t)?10:11:ce()}function vr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mi(i.timestampValue),a=Mi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Vi(i.bytesValue).isEqual(Vi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return at(i.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return at(i.integerValue)===at(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=at(i.doubleValue),a=at(s.doubleValue);return o===a?Td(o)===Td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(R_(o)!==R_(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!vr(o[u],a[u])))return!1;return!0}(t,e);default:return ce()}}function jl(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function Uo(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=at(s.integerValue||s.doubleValue),u=at(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return x_(t.timestampValue,e.timestampValue);case 4:return x_(Vl(t),Vl(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Vi(s),u=Vi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=Se(a[c],u[c]);if(d!==0)return d}return Se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Se(at(s.latitude),at(o.latitude));return a!==0?a:Se(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return P_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,d;const f=s.fields||{},g=o.fields||{},v=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(u=g.value)===null||u===void 0?void 0:u.arrayValue,C=Se(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return C!==0?C:P_(v,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===tc.mapValue&&o===tc.mapValue)return 0;if(s===tc.mapValue)return 1;if(o===tc.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const g=Se(u[f],d[f]);if(g!==0)return g;const v=Uo(a[u[f]],c[d[f]]);if(v!==0)return v}return Se(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ce()}}function x_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Mi(t),r=Mi(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function P_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Uo(n[i],r[i]);if(s)return s}return Se(n.length,r.length)}function Bo(t){return sm(t)}function sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=sm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${sm(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function Cc(t){switch(Fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(t);return e?16+Cc(e):16;case 5:return 2*t.stringValue.length;case 6:return Vi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Cc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ns(r.fields,(s,o)=>{i+=s.length+Cc(o)}),i}(t.mapValue);default:throw ce()}}function om(t){return!!t&&"integerValue"in t}function qg(t){return!!t&&"arrayValue"in t}function b_(t){return!!t&&"nullValue"in t}function N_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ac(t){return!!t&&"mapValue"in t}function IO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ac(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ol(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ac(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xn(ol(this.value))}}function PS(t){const e=[];return Ns(t.fields,(n,r)=>{const i=new Nt([n]);if(Ac(r)){const s=PS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,de.min(),de.min(),de.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,de.min(),de.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,de.min(),de.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function D_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Uo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function O_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n="asc"){this.field=e,this.dir=n}}function AO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class vt extends bS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kO(e,n,r):n==="array-contains"?new bO(e,r):n==="in"?new NO(e,r):n==="not-in"?new DO(e,r):n==="array-contains-any"?new OO(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xO(e,r):new PO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Uo(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends bS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new _r(e,n)}matches(e){return NS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function NS(t){return t.op==="and"}function DS(t){return RO(t)&&NS(t)}function RO(t){for(const e of t.filters)if(e instanceof _r)return!1;return!0}function am(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+Bo(t.value);if(DS(t))return t.filters.map(e=>am(e)).join(",");{const e=t.filters.map(n=>am(n)).join(",");return`${t.op}(${e})`}}function OS(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&vr(r.value,i.value)}(t,e):t instanceof _r?function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&OS(o,i.filters[a]),!0):!1}(t,e):void ce()}function LS(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${Bo(n.value)}`}(t):t instanceof _r?function(n){return n.op.toString()+" {"+n.getFilters().map(LS).join(" ,")+"}"}(t):"Filter"}class kO extends vt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class xO extends vt{constructor(e,n){super(e,"in",n),this.keys=MS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PO extends vt{constructor(e,n){super(e,"not-in",n),this.keys=MS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class bO extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qg(n)&&jl(n.arrayValue,this.value)}}class NO extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class DO extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jl(this.value.arrayValue,n)}}class OO extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function L_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new LO(t,e,n,r,i,s,o)}function Gg(t){const e=he(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>am(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bo(r)).join(",")),e.ue=n}return e.ue}function Qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O_(t.startAt,e.startAt)&&O_(t.endAt,e.endAt)}function lm(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function MO(t,e,n,r,i,s,o,a){return new fh(t,e,n,r,i,s,o,a)}function Yg(t){return new fh(t)}function M_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VO(t){return t.collectionGroup!==null}function al(t){const e=he(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Nt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Id(s,r))}),n.has(Nt.keyField().canonicalString())||e.ce.push(new Id(Nt.keyField(),r))}return e.ce}function mr(t){const e=he(t);return e.le||(e.le=FO(e,al(t))),e.le}function FO(t,e){if(t.limitType==="F")return L_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Id(i.field,s)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return L_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function um(t,e,n){return new fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return Qg(mr(t),mr(e))&&t.limitType===e.limitType}function VS(t){return`${Gg(mr(t))}|lt:${t.limitType}`}function eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>LS(i)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bo(i)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function mh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of al(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=D_(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,al(r),i)||r.endAt&&!function(o,a,u){const c=D_(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,al(r),i))}(t,e)}function jO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FS(t){return(e,n)=>{let r=!1;for(const i of al(t)){const s=UO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function UO(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?Uo(u,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return kS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new et(ae.comparator);function Gr(){return BO}const jS=new et(ae.comparator);function Ha(...t){let e=jS;for(const n of t)e=e.insert(n.key,n);return e}function US(t){let e=jS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return ll()}function BS(){return ll()}function ll(){return new Ds(t=>t.toString(),(t,e)=>t.isEqual(e))}const zO=new et(ae.comparator),$O=new St(ae.comparator);function _e(...t){let e=$O;for(const n of t)e=e.add(n);return e}const WO=new St(Se);function HO(){return WO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function zS(t){return{integerValue:""+t}}function KO(t,e){return _O(e)?zS(e):Xg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function qO(t,e,n){return t instanceof Cd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kg(s)&&(s=hh(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ul?WS(t,e):t instanceof Bl?HS(t,e):function(i,s){const o=$S(i,s),a=V_(o)+V_(i.Pe);return om(o)&&om(i.Pe)?zS(a):Xg(i.serializer,a)}(t,e)}function GO(t,e,n){return t instanceof Ul?WS(t,e):t instanceof Bl?HS(t,e):n}function $S(t,e){return t instanceof Ad?function(r){return om(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Cd extends gh{}class Ul extends gh{constructor(e){super(),this.elements=e}}function WS(t,e){const n=KS(e);for(const r of t.elements)n.some(i=>vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends gh{constructor(e){super(),this.elements=e}}function HS(t,e){let n=KS(e);for(const r of t.elements)n=n.filter(i=>!vr(i,r));return{arrayValue:{values:n}}}class Ad extends gh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function V_(t){return at(t.integerValue||t.doubleValue)}function KS(t){return qg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ul&&i instanceof Ul||r instanceof Bl&&i instanceof Bl?jo(r.elements,i.elements,vr):r instanceof Ad&&i instanceof Ad?vr(r.Pe,i.Pe):r instanceof Cd&&i instanceof Cd}(t.transform,e.transform)}class YO{constructor(e,n){this.version=e,this.transformResults=n}}class jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function qS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QS(t.key,jr.none()):new au(t.key,t.data,jr.none());{const n=t.data,r=xn.empty();let i=new St(Nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Os(t.key,r,new Qn(i.toArray()),jr.none())}}function XO(t,e,n){t instanceof au?function(i,s,o){const a=i.value.clone(),u=j_(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Os?function(i,s,o){if(!Rc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=j_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(GS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ul(t,e,n,r){return t instanceof au?function(s,o,a,u){if(!Rc(s.precondition,o))return a;const c=s.value.clone(),d=U_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Os?function(s,o,a,u){if(!Rc(s.precondition,o))return a;const c=U_(s.fieldTransforms,u,o),d=o.data;return d.setAll(GS(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Rc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$S(r.transform,i||null);s!=null&&(n===null&&(n=xn.empty()),n.set(r.field,s))}return n||null}function F_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jo(r,i,(s,o)=>QO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class au extends yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Os extends yh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function j_(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GO(o,a,n[i]))}return r}function U_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qO(s,o,e))}return r}class QS extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=qS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,r)=>F_(n,r))&&jo(this.baseMutations,e.baseMutations,(n,r)=>F_(n,r))}}class Jg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=function(){return zO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Jg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Te;function rL(t){switch(t){default:return ce();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function YS(t){if(t===void 0)return qr("GRPC error has no .code"),W.UNKNOWN;switch(t){case ht.OK:return W.OK;case ht.CANCELLED:return W.CANCELLED;case ht.UNKNOWN:return W.UNKNOWN;case ht.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case ht.INTERNAL:return W.INTERNAL;case ht.UNAVAILABLE:return W.UNAVAILABLE;case ht.UNAUTHENTICATED:return W.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case ht.NOT_FOUND:return W.NOT_FOUND;case ht.ALREADY_EXISTS:return W.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return W.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case ht.ABORTED:return W.ABORTED;case ht.OUT_OF_RANGE:return W.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return W.UNIMPLEMENTED;case ht.DATA_LOSS:return W.DATA_LOSS;default:return ce()}}(Te=ht||(ht={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new ms([4294967295,4294967295],0);function B_(t){const e=iL().encode(t),n=new wS;return n.update(e),new Uint8Array(n.digest())}function z_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ms([n,r],0),new ms([i,s],0)]}class Zg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ka(`Invalid padding: ${n}`);if(r<0)throw new Ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ms.fromNumber(r)));return i.compare(sL)===1&&(i=new ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=B_(e),[r,i]=z_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Zg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=B_(e),[r,i]=z_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vh(de.min(),i,new et(Se),Gr(),_e())}}class lu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lu(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class XS{constructor(e,n){this.targetId=e,this.me=n}}class JS{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $_{constructor(){this.fe=0,this.ge=H_(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new lu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=H_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oL{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gr(),this.qe=W_(),this.Qe=new et(Se)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(lm(s))if(r===0){const o=new ae(s.path);this.Ue(n,o,Wt.newNoDocument(o,de.min()))}else Pe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Vi(r).toUint8Array()}catch(u){if(u instanceof xS)return Fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Zg(o,i,s)}catch(u){return Fo(u instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&lm(a.target)){const u=new ae(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Wt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new vh(e,n,this.Qe,this.ke,r);return this.ke=Gr(),this.qe=W_(),this.Qe=new et(Se),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new St(Se),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function W_(){return new et(ae.comparator)}function H_(){return new et(ae.comparator)}const aL={asc:"ASCENDING",desc:"DESCENDING"},lL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uL={and:"AND",or:"OR"};class cL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cm(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function Rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dL(t,e){return Rd(t,e.toTimestamp())}function gr(t){return Pe(!!t),de.fromTimestamp(function(n){const r=Mi(n);return new ot(r.seconds,r.nanos)}(t))}function ey(t,e){return dm(t,e).canonicalString()}function dm(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eI(t){const e=st.fromString(t);return Pe(sI(e)),e}function hm(t,e){return ey(t.databaseId,e.path)}function Of(t,e){const n=eI(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(nI(n))}function tI(t,e){return ey(t.databaseId,e)}function hL(t){const e=eI(t);return e.length===4?st.emptyPath():nI(e)}function fm(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nI(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function K_(t,e,n){return{name:hm(t,e),fields:n.value.mapValue.fields}}function fL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Pe(d===void 0||typeof d=="string"),Lt.fromBase64String(d||"")):(Pe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Lt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?W.UNKNOWN:YS(c.code);return new oe(d,c.message||"")}(o);n=new JS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Of(t,r.document.name),s=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):de.min(),a=new xn({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new kc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Of(t,r.document),s=r.readTime?gr(r.readTime):de.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Of(t,r.document),s=r.removedTargetIds||[];n=new kc([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nL(i,s),a=r.targetId;n=new XS(a,o)}}return n}function pL(t,e){let n;if(e instanceof au)n={update:K_(t,e.key,e.value)};else if(e instanceof QS)n={delete:hm(t,e.key)};else if(e instanceof Os)n={update:K_(t,e.key,e.data),updateMask:SL(e.fieldMask)};else{if(!(e instanceof ZO))return ce();n={verify:hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Cd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ul)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:dL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function mL(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gr(i.updateTime):gr(s);return o.isEqual(de.min())&&(o=gr(s)),new YO(o,i.transformResults||[])}(n,e))):[]}function gL(t,e){return{documents:[tI(t,e.path)]}}function yL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tI(t,i);const s=function(c){if(c.length!==0)return iI(_r.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:to(g.field),direction:wL(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=cm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function vL(t){let e=hL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const g=rI(f);return g instanceof _r&&DS(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(E){return new Id(no(E.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,dh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){const g=!!f.before,v=f.values||[];return new Sd(v,g)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const g=!f.before,v=f.values||[];return new Sd(v,g)}(n.endAt)),MO(e,i,o,s,a,"F",u,c)}function _L(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=no(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=no(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=no(n.unaryFilter.field);return vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=no(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(no(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _r.create(n.compositeFilter.filters.map(r=>rI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function wL(t){return aL[t]}function EL(t){return lL[t]}function TL(t){return uL[t]}function to(t){return{fieldPath:t.canonicalString()}}function no(t){return Nt.fromServerFormat(t.fieldPath)}function iI(t){return t instanceof vt?function(n){if(n.op==="=="){if(N_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(b_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(N_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(b_(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:EL(n.op),value:n.value}}}(t):t instanceof _r?function(n){const r=n.getFilters().map(i=>iI(i));return r.length===1?r[0]:{compositeFilter:{op:TL(n.op),filters:r}}}(t):ce()}function SL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r,i,s=de.min(),o=de.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.ct=e}}function CL(t){const e=vL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.un=new RL}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Li.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class RL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(st.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zo(0)}static kn(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_([t,e],[n,r]){const i=Se(t,n);return i===0?Se(e,r):i}class kL{constructor(e){this.Un=e,this.buffer=new St(G_),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();G_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ia(n)?Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ra(n)}await this.Hn(3e5)})}}class PL{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(ch.oe);const r=new kL(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(q_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Zs()<=ve.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function bL(t,e){return new PL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.changes=new Ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ul(r.mutation,i,Qn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ha();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gr();const o=ll(),a=function(){return ll()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Os)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ul(d.mutation,c,d.mutation.getFieldMask(),ot.now())):o.set(c.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new DL(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ll();let i=new et((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Qn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=BS();d.forEach(g=>{if(!s.has(g)){const v=qS(n.get(g),r.get(g));v!==null&&f.set(g,v),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(hs());let a=-1,u=s;return o.next(c=>z.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,_e())).next(d=>({batchId:a,changes:US(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Ha();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ha();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,u=>{const c=function(f,g){return new fh(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Wt.newInvalidDocument(d)))});let a=Ha();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&ul(d.mutation,c,Qn.empty(),ot.now()),mh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:CL(i.bundledQuery),readTime:gr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.overlays=new et(ae.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new et((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=hs(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=hs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return z.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tL(n,r));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Tr=new St(wt.Er),this.dr=new St(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new st([])),r=new wt(n,e),i=new wt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new st([])),r=new wt(n,e),i=new wt(n,e+1);let s=_e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||Se(e.wr,n.wr)}static Ar(e,n){return Se(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new St(wt.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wt(n,0),i=new wt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Se);return n.forEach(i=>{const s=new wt(i,0),o=new wt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new wt(new ae(s),0);let a=new St(Se);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,i=>{const s=new wt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new wt(n,0),i=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.Mr=e,this.docs=function(){return new et(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gr();const o=n.path,a=new ae(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||mO(pO(d),r)<=0||(i.has(d.key)||mh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UL(this)}getSize(e){return z.resolve(this.size)}}class UL extends NL{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.persistence=e,this.Nr=new Ds(n=>Gg(n),Qg),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ty,this.targetCount=0,this.kr=zo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new zo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ch(0),this.Kr=!1,this.Kr=!0,this.$r=new VL,this.referenceDelegate=e(this),this.Ur=new BL(this),this.indexManager=new AL,this.remoteDocumentCache=function(i){return new jL(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new IL(n),this.Gr=new LL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ML,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new FL(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new zL(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class zL extends yO{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Jr=new ty,this.Yr=null}static Zr(e){return new ny(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const i=ae.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class kd{constructor(e,n){this.persistence=e,this.ti=new Ds(r=>wO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=bL(this,n)}static Zr(e,n){return new kd(e,n)}zr(){}jr(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return z.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,de.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),z.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cc(e.data.value)),n}nr(e,n,r){return z.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ry(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Rb()?8:vO(Kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $L;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Zs()<=ve.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(Zs()<=ve.DEBUG&&Y("QueryEngine","Query:",eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Zs()<=ve.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):z.resolve())}Yi(e,n){if(M_(n))return z.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=um(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,um(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return M_(n)||i.isEqual(de.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?z.resolve(null):(Zs()<=ve.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eo(n)),this.rs(e,o,n,fO(i,-1)).next(a=>a))})}ts(e,n){let r=new St(FS(e));return n.forEach((i,s)=>{mh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Zs()<=ve.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",eo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Li.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new et(Se),this._s=new Ds(s=>Gg(s),Qg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OL(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function KL(t,e,n,r){return new HL(t,e,n,r)}async function aI(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=_e();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function qL(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,g=f.keys();let v=z.resolve();return g.forEach(E=>{v=v.next(()=>d.getEntry(u,E)).next(C=>{const b=c.docVersions.get(E);Pe(b!==null),C.version.compareTo(b)<0&&(f.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),d.addEntry(C)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function lI(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function GL(t,e){const n=he(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const g=i.get(f);if(!g)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Lt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(f,v),function(C,b,S){return C.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,v,d)&&a.push(n.Ur.updateTargetData(s,v))});let u=Gr(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(QL(s,o,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(de.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function QL(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function YL(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XL(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new _i(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function pm(t,e,n){const r=he(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ia(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Q_(t,e,n){const r=he(t);let i=de.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=he(u),g=f._s.get(d);return g!==void 0?z.resolve(f.os.get(g)):f.Ur.getTargetData(c,d)}(r,o,mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:_e())).next(a=>(JL(r,jO(e),a),{documents:a,Ts:s})))}function JL(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Y_{constructor(){this.activeTargetIds=HO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZL{constructor(){this.so=new Y_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Y_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function Lf(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class rM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Lf(),u=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(d=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Fo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+na}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=tM[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Lf();return new Promise((o,a)=>{const u=new ES;u.setWithCredentials(!0),u.listenOnce(TS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ic.NO_ERROR:const d=u.getResponseJson();Y(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Ic.TIMEOUT:Y(Ut,`RPC '${e}' ${s} timed out`),a(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const f=u.getStatus();if(Y(Ut,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const E=function(b){const S=b.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(S)>=0?S:W.UNKNOWN}(v.status);a(new oe(E,v.message))}else a(new oe(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new oe(W.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Y(Ut,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Y(Ut,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Lf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CS(),a=IS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");Y(Ut,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);let g=!1,v=!1;const E=new nM({Io:b=>{v?Y(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(g||(Y(Ut,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),Y(Ut,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},To:()=>f.close()}),C=(b,S,_)=>{b.listen(S,A=>{try{_(A)}catch(D){setTimeout(()=>{throw D},0)}})};return C(f,Wa.EventType.OPEN,()=>{v||(Y(Ut,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),C(f,Wa.EventType.CLOSE,()=>{v||(v=!0,Y(Ut,`RPC '${e}' stream ${i} transport closed`),E.So())}),C(f,Wa.EventType.ERROR,b=>{v||(v=!0,Fo(Ut,`RPC '${e}' stream ${i} transport errored:`,b),E.So(new oe(W.UNAVAILABLE,"The operation could not be completed")))}),C(f,Wa.EventType.MESSAGE,b=>{var S;if(!v){const _=b.data[0];Pe(!!_);const A=_,D=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(D){Y(Ut,`RPC '${e}' stream ${i} received error:`,D);const V=D.status;let P=function(I){const p=ht[I];if(p!==void 0)return YS(p)}(V),T=D.message;P===void 0&&(P=W.INTERNAL,T="Unknown error status: "+V+" with message "+D.message),v=!0,E.So(new oe(P,T)),f.close()}else Y(Ut,`RPC '${e}' stream ${i} received:`,_),E.bo(_)}}),C(a,SS.STAT_EVENT,b=>{b.stat===im.PROXY?Y(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===im.NOPROXY&&Y(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return new cL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new oe(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iM extends cI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fL(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?gr(o.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=fm(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=lm(u)?{documents:gL(s,u)}:{query:yL(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ZS(s,o.resumeToken);const c=cm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=Rd(s,o.snapshotVersion.toTimestamp());const c=cm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=_L(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=fm(this.serializer),n.removeTarget=e,this.a_(n)}}class sM extends cI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=mL(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=fm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,dm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(W.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,dm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qr(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ls(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=he(u);c.L_.add(4),await uu(c),c.q_.set("Unknown"),c.L_.delete(4),await wh(c)}(this))})}),this.q_=new aM(r,i)}}async function wh(t){if(Ls(t))for(const e of t.B_)await e(!0)}async function uu(t){for(const e of t.B_)await e(!1)}function dI(t,e){const n=he(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ay(n)?oy(n):sa(n).r_()&&sy(n,e))}function iy(t,e){const n=he(t),r=sa(n);n.N_.delete(e),r.r_()&&hI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ls(n)&&n.q_.set("Unknown"))}function sy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sa(t).A_(e)}function hI(t,e){t.Q_.xe(e),sa(t).R_(e)}function oy(t){t.Q_=new oL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sa(t).start(),t.q_.v_()}function ay(t){return Ls(t)&&!sa(t).n_()&&t.N_.size>0}function Ls(t){return he(t).L_.size===0}function fI(t){t.Q_=void 0}async function uM(t){t.q_.set("Online")}async function cM(t){t.N_.forEach((e,n)=>{sy(t,e)})}async function dM(t,e){fI(t),ay(t)?(t.q_.M_(e),oy(t)):t.q_.set("Unknown")}async function hM(t,e,n){if(t.q_.set("Online"),e instanceof JS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xd(t,r)}else if(e instanceof kc?t.Q_.Ke(e):e instanceof XS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{const r=await lI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(Lt.EMPTY_BYTE_STRING,d.snapshotVersion)),hI(s,u);const f=new _i(d.target,u,c,d.sequenceNumber);sy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await xd(t,r)}}async function xd(t,e,n){if(!ia(e))throw e;t.L_.add(1),await uu(t),t.q_.set("Offline"),n||(n=()=>lI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wh(t)})}function pI(t,e){return e().catch(n=>xd(t,n,e))}async function Eh(t){const e=he(t),n=ji(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fM(e);)try{const i=await YL(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,pM(e,i)}catch(i){await xd(e,i)}mI(e)&&gI(e)}function fM(t){return Ls(t)&&t.O_.length<10}function pM(t,e){t.O_.push(e);const n=ji(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mI(t){return Ls(t)&&!ji(t).n_()&&t.O_.length>0}function gI(t){ji(t).start()}async function mM(t){ji(t).p_()}async function gM(t){const e=ji(t);for(const n of t.O_)e.m_(n.mutations)}async function yM(t,e,n){const r=t.O_.shift(),i=Jg.from(r,e,n);await pI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Eh(t)}async function vM(t,e){e&&ji(t).V_&&await async function(r,i){if(function(o){return rL(o)&&o!==W.ABORTED}(i.code)){const s=r.O_.shift();ji(r).s_(),await pI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Eh(r)}}(t,e),mI(t)&&gI(t)}async function J_(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.L_.add(3),await uu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wh(n)}async function _M(t,e){const n=he(t);e?(n.L_.delete(2),await wh(n)):e||(n.L_.add(2),await uu(n),n.q_.set("Unknown"))}function sa(t){return t.K_||(t.K_=function(n,r,i){const s=he(n);return s.w_(),new iM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:uM.bind(null,t),Ro:cM.bind(null,t),mo:dM.bind(null,t),d_:hM.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ay(t)?oy(t):t.q_.set("Unknown")):(await t.K_.stop(),fI(t))})),t.K_}function ji(t){return t.U_||(t.U_=function(n,r,i){const s=he(n);return s.w_(),new sM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mM.bind(null,t),mo:vM.bind(null,t),f_:gM.bind(null,t),g_:yM.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Eh(t)):(await t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ly(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uy(t,e){if(qr("AsyncQueue",`${e}: ${t}`),ia(t))return new oe(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Ha(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new Co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.W_=new et(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $o{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new $o(e,n,Co.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class EM{constructor(){this.queries=ew(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=he(n),s=i.queries;i.queries=ew(),s.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function ew(){return new Ds(t=>VS(t),ph)}async function TM(t,e){const n=he(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new wM,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=uy(o,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&cy(n)}async function SM(t,e){const n=he(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IM(t,e){const n=he(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&cy(n)}function CM(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function cy(t){t.Y_.forEach(e=>{e.next()})}var mm,tw;(tw=mm||(mm={})).ea="default",tw.Cache="cache";class AM{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.key=e}}class vI{constructor(e){this.key=e}}class RM{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=FS(e),this.Ra=new Co(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Z_,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const g=i.get(d),v=mh(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let b=!1;g&&v?g.data.isEqual(v.data)?E!==C&&(r.track({type:3,doc:v}),b=!0):this.ga(g,v)||(r.track({type:2,doc:v}),b=!0,(u&&this.Aa(v,u)>0||c&&this.Aa(v,c)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),b=!0):g&&!v&&(r.track({type:1,doc:g}),b=!0,(u||c)&&(a=!0)),b&&(v?(o=o.add(v),s=C?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(v,E){const C=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return C(v)-C(E)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new $o(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Z_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yI(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $o.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xM{constructor(e){this.key=e,this.va=!1}}class PM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ds(a=>VS(a),ph),this.Ma=new Map,this.xa=new Set,this.Oa=new et(ae.comparator),this.Na=new Map,this.La=new ty,this.Ba={},this.ka=new Map,this.qa=zo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bM(t,e,n=!0){const r=II(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await _I(r,e,n,!0),i}async function NM(t,e){const n=II(t);await _I(n,e,!0,!1)}async function _I(t,e,n,r){const i=await XL(t.localStore,mr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await DM(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dI(t.remoteStore,i),a}async function DM(t,e,n,r,i){t.Ka=(f,g,v)=>async function(C,b,S,_){let A=b.view.ma(S);A.ns&&(A=await Q_(C.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,A)));const D=_&&_.targetChanges.get(b.targetId),V=_&&_.targetMismatches.get(b.targetId)!=null,P=b.view.applyChanges(A,C.isPrimaryClient,D,V);return rw(C,b.targetId,P.wa),P.snapshot}(t,f,g,v);const s=await Q_(t.localStore,e,!0),o=new RM(e,s.Ts),a=o.ma(s.documents),u=lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);rw(t,n,c.wa);const d=new kM(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function OM(t,e,n){const r=he(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ph(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iy(r.remoteStore,i.targetId),gm(r,i.targetId)}).catch(ra)):(gm(r,i.targetId),await pm(r.localStore,i.targetId,!0))}async function LM(t,e){const n=he(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iy(n.remoteStore,r.targetId))}async function MM(t,e,n){const r=$M(t);try{const i=await function(o,a){const u=he(o),c=ot.now(),d=a.reduce((v,E)=>v.add(E.key),_e());let f,g;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=Gr(),C=_e();return u.cs.getEntries(v,d).next(b=>{E=b,E.forEach((S,_)=>{_.isValidDocument()||(C=C.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,E)).next(b=>{f=b;const S=[];for(const _ of a){const A=JO(_,f.get(_.key).overlayedDocument);A!=null&&S.push(new Os(_.key,A,PS(A.value.mapValue),jr.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,S,a)}).next(b=>{g=b;const S=b.applyToLocalDocumentSet(f,C);return u.documentOverlayCache.saveOverlays(v,b.batchId,S)})}).then(()=>({batchId:g.batchId,changes:US(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new et(Se)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await cu(r,i.changes),await Eh(r.remoteStore)}catch(i){const s=uy(i,"Failed to persist write");n.reject(s)}}async function wI(t,e){const n=he(t);try{const r=await GL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Pe(o.va):i.removedDocuments.size>0&&(Pe(o.va),o.va=!1))}),await cu(n,r,e)}catch(r){await ra(r)}}function nw(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=he(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const g of f.j_)g.Z_(a)&&(c=!0)}),c&&cy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VM(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new et(ae.comparator);o=o.insert(s,Wt.newNoDocument(s,de.min()));const a=_e().add(s),u=new vh(de.min(),new Map,new et(Se),o,a);await wI(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),dy(r)}else await pm(r.localStore,e,!1).then(()=>gm(r,e,n)).catch(ra)}async function FM(t,e){const n=he(t),r=e.batch.batchId;try{const i=await qL(n.localStore,e);TI(n,r,null),EI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cu(n,i)}catch(i){await ra(i)}}async function jM(t,e,n){const r=he(t);try{const i=await function(o,a){const u=he(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Pe(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);TI(r,e,n),EI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cu(r,i)}catch(i){await ra(i)}}function EI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function TI(t,e,n){const r=he(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||SI(t,r)})}function SI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(iy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),dy(t))}function rw(t,e,n){for(const r of n)r instanceof yI?(t.La.addReference(r.key,e),UM(t,r)):r instanceof vI?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||SI(t,r.key)):ce()}function UM(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),dy(t))}function dy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(st.fromString(e)),r=t.qa.next();t.Na.set(r,new xM(n)),t.Oa=t.Oa.insert(n,r),dI(t.remoteStore,new _i(mr(Yg(n.path)),r,"TargetPurposeLimboResolution",ch.oe))}}async function cu(t,e,n){const r=he(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=ry.Wi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const d=he(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(c,g=>z.forEach(g.$i,v=>d.persistence.referenceDelegate.addReference(f,g.targetId,v)).next(()=>z.forEach(g.Ui,v=>d.persistence.referenceDelegate.removeReference(f,g.targetId,v)))))}catch(f){if(!ia(f))throw f;Y("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const v=d.os.get(g),E=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(g,C)}}}(r.localStore,s))}async function BM(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await aI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new oe(W.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(n,r.hs)}}function zM(t,e){const n=he(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function II(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VM.bind(null,e),e.Ca.d_=IM.bind(null,e.eventManager),e.Ca.$a=CM.bind(null,e.eventManager),e}function $M(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jM.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return KL(this.persistence,new WL,e.initialUser,this.serializer)}Ga(e){return new oI(ny.Zr,this.serializer)}Wa(e){return new ZL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class WM extends Pd{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Pe(this.persistence.referenceDelegate instanceof kd);const r=this.persistence.referenceDelegate.garbageCollector;return new xL(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new oI(r=>kd.Zr(r,n),this.serializer)}}class ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BM.bind(null,this.syncEngine),await _M(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EM}()}createDatastore(e){const n=_h(e.databaseInfo.databaseId),r=function(s){return new rM(s)}(e.databaseInfo);return function(s,o,a,u){return new oM(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new lM(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nw(this.syncEngine,n,0),function(){return X_.D()?new X_:new eM}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const f=new PM(i,s,o,a,u,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=he(i);Y("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await uu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ym.provider={build:()=>new ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=zt.UNAUTHENTICATED,this.clientId=RS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vf(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await aI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qM(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>J_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>J_(e.remoteStore,i)),t._onlineComponents=e}async function qM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fo("Error using user provided cache. Falling back to memory cache: "+n),await Vf(t,new Pd)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Vf(t,new WM(void 0));return t._offlineComponents}async function CI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await iw(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await iw(t,new ym))),t._onlineComponents}function GM(t){return CI(t).then(e=>e.syncEngine)}async function QM(t){const e=await CI(t),n=e.eventManager;return n.onListen=bM.bind(null,e.syncEngine),n.onUnlisten=OM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LM.bind(null,e.syncEngine),n}function YM(t,e,n={}){const r=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new HM({next:g=>{d.Za(),o.enqueueAndForget(()=>SM(s,f));const v=g.docs.has(a);!v&&g.fromCache?c.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&u&&u.source==="server"?c.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new AM(Yg(a.path),d,{includeMetadataChanges:!0,_a:!0});return TM(s,f)}(await QM(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JM(t,e,n,r){if(e===!0&&r===!0)throw new oe(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ow(t){if(!ae.isDocumentKey(t))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function zl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hy(t);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iO;switch(r.type){case"firstParty":return new lO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sw.get(n);r&&(Y("ComponentProvider","Removing Datastore"),sw.delete(n),r.terminate())}(this),Promise.resolve()}}function ZM(t,e,n,r={}){var i;const s=(t=zl(t,fy))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=zt.MOCK_USER;else{a=wb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new zt(c)}t._authCredentials=new sO(new AS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new py(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class $l extends py{constructor(e,n,r){super(e,n,Yg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ae(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function Ff(t,e,...n){if(t=Ln(t),arguments.length===1&&(e=RS.newId()),XM("doc","path",e),t instanceof fy){const r=st.fromString(e,...n);return ow(r),new Nn(t,null,new ae(r))}{if(!(t instanceof Nn||t instanceof $l))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return ow(r),new Nn(t.firestore,t instanceof $l?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uI(this,"async_queue_retry"),this.Vu=()=>{const r=Mf();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new bi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ia(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ly.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class my extends fy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lw(e),this._firestoreClient=void 0,await e}}}function e4(t,e){const n=typeof t=="object"?t:VT(),r=typeof t=="string"?t:"(default)",i=Dg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vb("firestore");s&&ZM(i,...s)}return i}function RI(t){if(t._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||t4(t),t._firestoreClient}function t4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new SO(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new KM(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(Lt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=/^__.*__$/;class r4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function xI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class _y{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _y(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xI(this.Cu)&&n4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class i4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_h(e)}Qu(e,n,r,i=!1){return new _y({Cu:e,methodName:n,qu:r,path:Nt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function s4(t){const e=t._freezeSettings(),n=_h(t._databaseId);return new i4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function o4(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);DI("Data must be an object, but it was:",o,r);const a=bI(r,o);let u,c;if(s.merge)u=new Qn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const g=a4(e,f,n);if(!o.contains(g))throw new oe(W.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);u4(d,g)||d.push(g)}u=new Qn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new r4(new xn(a),u,c)}function PI(t,e){if(NI(t=Ln(t)))return DI("Unsupported field value:",e,t),bI(t,e);if(t instanceof kI)return function(r,i){if(!xI(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=PI(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:Rd(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rd(i.serializer,s)}}if(r instanceof yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wo)return{bytesValue:ZS(i.serializer,r._byteString)};if(r instanceof Nn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ey(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Xg(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${hy(r)}`)}(t,e)}function bI(t,e){const n={};return kS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,i)=>{const s=PI(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof yy||t instanceof Wo||t instanceof Nn||t instanceof kI||t instanceof vy)}function DI(t,e,n){if(!NI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function a4(t,e,n){if((e=Ln(e))instanceof gy)return e._internalPath;if(typeof e=="string")return OI(t,e);throw bd("Field path arguments must be of type string or ",t,!1,void 0,n)}const l4=new RegExp("[~\\*/\\[\\]]");function OI(t,e,n){if(e.search(l4)>=0)throw bd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gy(...e.split("."))._internalPath}catch{throw bd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new oe(W.INVALID_ARGUMENT,a+t+u)}function u4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c4 extends LI{data(){return super.data()}}function MI(t,e){return typeof e=="string"?OI(t,e):e instanceof gy?e._internalPath:e._delegate._internalPath}class d4{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>at(o.doubleValue));return new vy(s)}convertGeoPoint(e){return new yy(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Pe(sI(r));const i=new Fl(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VI extends LI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new p4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(MI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class p4 extends VI{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t){t=zl(t,Nn);const e=zl(t.firestore,my);return YM(RI(e),t._key).then(n=>v4(e,t,n))}class g4 extends d4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function uw(t,e,n){t=zl(t,Nn);const r=zl(t.firestore,my),i=h4(t.converter,e);return y4(r,[o4(s4(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,jr.none())])}function y4(t,e){return function(r,i){const s=new bi;return r.asyncQueue.enqueueAndForget(async()=>MM(await GM(r),i,s)),s.promise}(RI(t),e)}function v4(t,e,n){const r=n.docs.get(e._key),i=new g4(t);return new VI(t,i,e._key,r,new f4(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){na=i})(ea),Vo(new Is("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new my(new oO(r.getProvider("auth-internal")),new cO(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pi(C_,"4.7.4",e),Pi(C_,"4.7.4","esm2017")})();var _4="firebase",w4="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(_4,w4,"app");const E4={apiKey:"AIzaSyC2xnv18KsYECXGSdPrMN4kTmxtCZFK-aA",authDomain:"sehpaathi-d2a02.firebaseapp.com",databaseURL:"https://sehpaathi-d2a02-default-rtdb.firebaseio.com",projectId:"sehpaathi-d2a02",storageBucket:"sehpaathi-d2a02.firebasestorage.app",messagingSenderId:"837154804067",appId:"1:837154804067:web:bafc62cb6d37f7358e4356",measurementId:"G-ZJFZ0D3QG4"},FI=MT(E4),rc=nO(FI),jf=e4(FI),T4=new cr;T4.addScope("https://www.googleapis.com/auth/drive.file");const S4=new cr,I4=t=>{if(!t)return t;const e={...t};return e.createdAt instanceof ot&&(e.createdAt=e.createdAt.toMillis()),e},Wl={async getUserProfile(t){const e=await m4(Ff(jf,"users",t));return e.exists()?I4(e.data()):null},async signUpWithEmail(t,e,n,r){try{const{user:i}=await BN(rc,t,e),s={uid:i.uid,email:i.email,role:n,name:r,createdAt:Date.now()};return await uw(Ff(jf,"users",i.uid),{...s,createdAt:ot.fromMillis(s.createdAt)}),{user:{uid:i.uid,email:i.email,emailVerified:i.emailVerified},profile:s}}catch(i){throw i}},async signInWithEmail(t,e){try{const{user:n}=await zN(rc,t,e),r=await this.getUserProfile(n.uid);return{user:{uid:n.uid,email:n.email,emailVerified:n.emailVerified},profile:r}}catch(n){throw n}},async signInWithGoogle(t="user"){try{const{user:e}=await dD(rc,S4);let n=await this.getUserProfile(e.uid);return n||(n={uid:e.uid,email:e.email,role:t,name:e.displayName||"",createdAt:Date.now()},await uw(Ff(jf,"users",e.uid),{...n,createdAt:ot.fromMillis(n.createdAt)})),{user:{uid:e.uid,email:e.email,emailVerified:e.emailVerified},profile:n}}catch(e){throw e}},async signOut(){try{await HN(rc)}catch(t){throw t}}},jI=30,C4=()=>{const t=sh.get("user");if(t)try{const e=JSON.parse(t);return{user:e.user,profile:e.profile,isAuthenticated:!0}}catch{return{user:null,profile:null,isAuthenticated:!1}}return{user:null,profile:null,isAuthenticated:!1}},xc=Pg("user/signInWithEmail",async({email:t,password:e,rememberMe:n},{rejectWithValue:r})=>{try{const i=await Wl.signInWithEmail(t,e);return n&&sh.set("user",JSON.stringify(i),{expires:jI}),i}catch(i){return r(i.message)}}),Pc=Pg("user/signInWithGoogle",async()=>{try{const t=await Wl.signInWithGoogle();return console.log(t),sh.set("user",JSON.stringify(t),{expires:jI}),t}catch(t){return rejectWithValue(t.message)}}),UI=Pg("user/signOut",async(t,{rejectWithValue:e})=>{try{return await Wl.signOut(),sh.remove("user"),null}catch(n){return e(n.message)}}),BI=ib({name:"user",initialState:C4(),reducers:{clearError:t=>{t.error=null}},extraReducers:t=>{t.addCase(xc.pending,e=>{e.loading=!0,e.error=null}).addCase(xc.fulfilled,(e,n)=>{e.user=n.payload.user,e.profile=n.payload.profile,e.isAuthenticated=!0,e.loading=!1,e.error=null}).addCase(xc.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Pc.pending,e=>{e.loading=!0,e.error=null}).addCase(Pc.fulfilled,(e,n)=>{e.user=n.payload.user,e.profile=n.payload.profile,e.isAuthenticated=!0,e.loading=!1,e.error=null}).addCase(Pc.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(UI.fulfilled,e=>{e.user=null,e.profile=null,e.isAuthenticated=!1,e.loading=!1,e.error=null})}}),{clearError:A4}=BI.actions,R4=t=>{var e;return(e=t.user.profile)==null?void 0:e.name},k4=t=>t.user.isAuthenticated,x4=BI.reducer,P4=$P({reducer:{user:x4}});function Pr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function zI(t){if(!Pr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=zI(t[n])}),e}function gn(t,e,n={clone:!0}){const r=n.clone?{...t}:t;return Pr(t)&&Pr(e)&&Object.keys(e).forEach(i=>{Pr(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Pr(t[i])?r[i]=gn(t[i],e[i],n):n.clone?r[i]=Pr(e[i])?zI(e[i]):e[i]:r[i]=e[i]}),r}function ks(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Ho(t){if(typeof t!="string")throw new Error(ks(7));return t.charAt(0).toUpperCase()+t.slice(1)}function vm(t,e){const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=r;if(i==="components"||i==="slots")n[i]={...t[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=t[i],o=e[i];if(!o)n[i]=s||{};else if(!s)n[i]=o;else{n[i]={...o};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const u=a;n[i][u]=vm(s[u],o[u])}}}else n[i]===void 0&&(n[i]=t[i])}return n}function b4(t,e,n=void 0){const r={};for(const i in t){const s=t[i];let o="",a=!0;for(let u=0;u<s.length;u+=1){const c=s[u];c&&(o+=(a===!0?"":" ")+e(c),a=!1,n&&n[c]&&(o+=" "+n[c]))}r[i]=o}return r}const cw=t=>t,N4=()=>{let t=cw;return{configure(e){t=e},generate(e){return t(e)},reset(){t=cw}}},D4=N4(),O4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $I(t,e,n="Mui"){const r=O4[e];return r?`${n}-${r}`:`${D4.generate(t)}-${e}`}function L4(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=$I(t,i,n)}),r}function M4(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function WI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=WI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function V4(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=WI(t))&&(r&&(r+=" "),r+=e);return r}function cl(t,e){return e?gn(t,e,{clone:!1}):t}function F4(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var o,a;const s=/min-width:\s*([0-9.]+)/;return+(((o=r.match(s))==null?void 0:o[1])||0)-+(((a=i.match(s))==null?void 0:a[1])||0)});return n.length?n.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function j4(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function U4(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return t.containerQueries(i).up(s)}function B4(t){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function n(s,o){s.up=(...a)=>e(t.breakpoints.up(...a),o),s.down=(...a)=>e(t.breakpoints.down(...a),o),s.between=(...a)=>e(t.breakpoints.between(...a),o),s.only=(...a)=>e(t.breakpoints.only(...a),o),s.not=(...a)=>{const u=e(t.breakpoints.not(...a),o);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const r={},i=s=>(n(r,s),r);return n(i),{...t,containerQueries:i}}const Th={xs:0,sm:600,md:900,lg:1200,xl:1536},dw={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Th[t]}px)`},z4={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:Th[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function Qr(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||dw;return e.reduce((o,a,u)=>(o[s.up(s.keys[u])]=n(e[u]),o),{})}if(typeof e=="object"){const s=r.breakpoints||dw;return Object.keys(e).reduce((o,a)=>{if(j4(s.keys,a)){const u=U4(r.containerQueries?r:z4,a);u&&(o[u]=n(e[a],a))}else if(Object.keys(s.values||Th).includes(a)){const u=s.up(a);o[u]=n(e[a],a)}else{const u=a;o[u]=e[u]}return o},{})}return n(e)}function $4(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function W4(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Sh(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Nd(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Sh(t,n)||r,e&&(i=e(i,r,t)),i}function ut(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],u=o.theme,c=Sh(u,r)||{};return Qr(o,a,f=>{let g=Nd(c,i,f);return f===g&&typeof f=="string"&&(g=Nd(c,i,`${e}${f==="default"?"":Ho(f)}`,f)),n===!1?g:{[n]:g}})};return s.propTypes={},s.filterProps=[e],s}function H4(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const K4={m:"margin",p:"padding"},q4={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},hw={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},G4=H4(t=>{if(t.length>2)if(hw[t])t=hw[t];else return[t];const[e,n]=t.split(""),r=K4[e],i=q4[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),wy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ey=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...wy,...Ey];function du(t,e,n,r){const i=Sh(t,e,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),a=i[o];return s>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function Ty(t){return du(t,"spacing",8)}function hu(t,e){return typeof e=="string"||e==null?e:t(e)}function Q4(t,e){return n=>t.reduce((r,i)=>(r[i]=hu(e,n),r),{})}function Y4(t,e,n,r){if(!e.includes(n))return null;const i=G4(n),s=Q4(i,r),o=t[n];return Qr(t,o,s)}function HI(t,e){const n=Ty(t.theme);return Object.keys(t).map(r=>Y4(t,e,r,n)).reduce(cl,{})}function nt(t){return HI(t,wy)}nt.propTypes={};nt.filterProps=wy;function rt(t){return HI(t,Ey)}rt.propTypes={};rt.filterProps=Ey;function Ih(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?cl(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function kn(t){return typeof t!="number"?t:`${t}px solid`}function Vn(t,e){return ut({prop:t,themeKey:"borders",transform:e})}const X4=Vn("border",kn),J4=Vn("borderTop",kn),Z4=Vn("borderRight",kn),eV=Vn("borderBottom",kn),tV=Vn("borderLeft",kn),nV=Vn("borderColor"),rV=Vn("borderTopColor"),iV=Vn("borderRightColor"),sV=Vn("borderBottomColor"),oV=Vn("borderLeftColor"),aV=Vn("outline",kn),lV=Vn("outlineColor"),Ch=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=du(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:hu(e,r)});return Qr(t,t.borderRadius,n)}return null};Ch.propTypes={};Ch.filterProps=["borderRadius"];Ih(X4,J4,Z4,eV,tV,nV,rV,iV,sV,oV,Ch,aV,lV);const Ah=t=>{if(t.gap!==void 0&&t.gap!==null){const e=du(t.theme,"spacing",8),n=r=>({gap:hu(e,r)});return Qr(t,t.gap,n)}return null};Ah.propTypes={};Ah.filterProps=["gap"];const Rh=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=du(t.theme,"spacing",8),n=r=>({columnGap:hu(e,r)});return Qr(t,t.columnGap,n)}return null};Rh.propTypes={};Rh.filterProps=["columnGap"];const kh=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=du(t.theme,"spacing",8),n=r=>({rowGap:hu(e,r)});return Qr(t,t.rowGap,n)}return null};kh.propTypes={};kh.filterProps=["rowGap"];const uV=ut({prop:"gridColumn"}),cV=ut({prop:"gridRow"}),dV=ut({prop:"gridAutoFlow"}),hV=ut({prop:"gridAutoColumns"}),fV=ut({prop:"gridAutoRows"}),pV=ut({prop:"gridTemplateColumns"}),mV=ut({prop:"gridTemplateRows"}),gV=ut({prop:"gridTemplateAreas"}),yV=ut({prop:"gridArea"});Ih(Ah,Rh,kh,uV,cV,dV,hV,fV,pV,mV,gV,yV);function Ao(t,e){return e==="grey"?e:t}const vV=ut({prop:"color",themeKey:"palette",transform:Ao}),_V=ut({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ao}),wV=ut({prop:"backgroundColor",themeKey:"palette",transform:Ao});Ih(vV,_V,wV);function hn(t){return t<=1&&t!==0?`${t*100}%`:t}const EV=ut({prop:"width",transform:hn}),Sy=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var i,s,o,a,u;const r=((o=(s=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:o[n])||Th[n];return r?((u=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:u.unit)!=="px"?{maxWidth:`${r}${t.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:hn(n)}};return Qr(t,t.maxWidth,e)}return null};Sy.filterProps=["maxWidth"];const TV=ut({prop:"minWidth",transform:hn}),SV=ut({prop:"height",transform:hn}),IV=ut({prop:"maxHeight",transform:hn}),CV=ut({prop:"minHeight",transform:hn});ut({prop:"size",cssProperty:"width",transform:hn});ut({prop:"size",cssProperty:"height",transform:hn});const AV=ut({prop:"boxSizing"});Ih(EV,Sy,TV,SV,IV,CV,AV);const xh={border:{themeKey:"borders",transform:kn},borderTop:{themeKey:"borders",transform:kn},borderRight:{themeKey:"borders",transform:kn},borderBottom:{themeKey:"borders",transform:kn},borderLeft:{themeKey:"borders",transform:kn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:kn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ch},color:{themeKey:"palette",transform:Ao},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ao},backgroundColor:{themeKey:"palette",transform:Ao},p:{style:rt},pt:{style:rt},pr:{style:rt},pb:{style:rt},pl:{style:rt},px:{style:rt},py:{style:rt},padding:{style:rt},paddingTop:{style:rt},paddingRight:{style:rt},paddingBottom:{style:rt},paddingLeft:{style:rt},paddingX:{style:rt},paddingY:{style:rt},paddingInline:{style:rt},paddingInlineStart:{style:rt},paddingInlineEnd:{style:rt},paddingBlock:{style:rt},paddingBlockStart:{style:rt},paddingBlockEnd:{style:rt},m:{style:nt},mt:{style:nt},mr:{style:nt},mb:{style:nt},ml:{style:nt},mx:{style:nt},my:{style:nt},margin:{style:nt},marginTop:{style:nt},marginRight:{style:nt},marginBottom:{style:nt},marginLeft:{style:nt},marginX:{style:nt},marginY:{style:nt},marginInline:{style:nt},marginInlineStart:{style:nt},marginInlineEnd:{style:nt},marginBlock:{style:nt},marginBlockStart:{style:nt},marginBlockEnd:{style:nt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ah},rowGap:{style:kh},columnGap:{style:Rh},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:hn},maxWidth:{style:Sy},minWidth:{transform:hn},height:{transform:hn},maxHeight:{transform:hn},minHeight:{transform:hn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function RV(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function kV(t,e){return typeof t=="function"?t(e):t}function xV(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:u=n,themeKey:c,transform:d,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const g=Sh(i,c)||{};return f?f(o):Qr(o,r,E=>{let C=Nd(g,d,E);return E===C&&typeof E=="string"&&(C=Nd(g,d,`${n}${E==="default"?"":Ho(E)}`,E)),u===!1?C:{[u]:C}})}function e(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??xh;function o(a){let u=a;if(typeof a=="function")u=a(i);else if(typeof a!="object")return a;if(!u)return null;const c=$4(i.breakpoints),d=Object.keys(c);let f=c;return Object.keys(u).forEach(g=>{const v=kV(u[g],i);if(v!=null)if(typeof v=="object")if(s[g])f=cl(f,t(g,v,i,s));else{const E=Qr({theme:i},v,C=>({[g]:C}));RV(E,v)?f[g]=e({sx:v,theme:i}):f=cl(f,E)}else f=cl(f,t(g,v,i,s))}),F4(i,W4(d,f))}return Array.isArray(r)?r.map(o):o(r)}return e}const Ko=xV();Ko.filterProps=["sx"];function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(null,arguments)}function KI(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var PV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,bV=KI(function(t){return PV.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),NV=!1;function DV(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function OV(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var LV=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!NV:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OV(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=DV(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Bt="-ms-",Dd="-moz-",ke="-webkit-",qI="comm",Iy="rule",Cy="decl",MV="@import",GI="@keyframes",VV="@layer",FV=Math.abs,Ph=String.fromCharCode,jV=Object.assign;function UV(t,e){return bt(t,0)^45?(((e<<2^bt(t,0))<<2^bt(t,1))<<2^bt(t,2))<<2^bt(t,3):0}function QI(t){return t.trim()}function BV(t,e){return(t=e.exec(t))?t[0]:t}function xe(t,e,n){return t.replace(e,n)}function wm(t,e){return t.indexOf(e)}function bt(t,e){return t.charCodeAt(e)|0}function Hl(t,e,n){return t.slice(e,n)}function ar(t){return t.length}function Ay(t){return t.length}function ic(t,e){return e.push(t),t}function zV(t,e){return t.map(e).join("")}var bh=1,qo=1,YI=0,ln=0,pt=0,oa="";function Nh(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:bh,column:qo,length:o,return:""}}function Oa(t,e){return jV(Nh("",null,null,"",null,null,0),t,{length:-t.length},e)}function $V(){return pt}function WV(){return pt=ln>0?bt(oa,--ln):0,qo--,pt===10&&(qo=1,bh--),pt}function yn(){return pt=ln<YI?bt(oa,ln++):0,qo++,pt===10&&(qo=1,bh++),pt}function yr(){return bt(oa,ln)}function bc(){return ln}function fu(t,e){return Hl(oa,t,e)}function Kl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function XI(t){return bh=qo=1,YI=ar(oa=t),ln=0,[]}function JI(t){return oa="",t}function Nc(t){return QI(fu(ln-1,Em(t===91?t+2:t===40?t+1:t)))}function HV(t){for(;(pt=yr())&&pt<33;)yn();return Kl(t)>2||Kl(pt)>3?"":" "}function KV(t,e){for(;--e&&yn()&&!(pt<48||pt>102||pt>57&&pt<65||pt>70&&pt<97););return fu(t,bc()+(e<6&&yr()==32&&yn()==32))}function Em(t){for(;yn();)switch(pt){case t:return ln;case 34:case 39:t!==34&&t!==39&&Em(pt);break;case 40:t===41&&Em(t);break;case 92:yn();break}return ln}function qV(t,e){for(;yn()&&t+pt!==57;)if(t+pt===84&&yr()===47)break;return"/*"+fu(e,ln-1)+"*"+Ph(t===47?t:yn())}function GV(t){for(;!Kl(yr());)yn();return fu(t,ln)}function QV(t){return JI(Dc("",null,null,null,[""],t=XI(t),0,[0],t))}function Dc(t,e,n,r,i,s,o,a,u){for(var c=0,d=0,f=o,g=0,v=0,E=0,C=1,b=1,S=1,_=0,A="",D=i,V=s,P=r,T=A;b;)switch(E=_,_=yn()){case 40:if(E!=108&&bt(T,f-1)==58){wm(T+=xe(Nc(_),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:T+=Nc(_);break;case 9:case 10:case 13:case 32:T+=HV(E);break;case 92:T+=KV(bc()-1,7);continue;case 47:switch(yr()){case 42:case 47:ic(YV(qV(yn(),bc()),e,n),u);break;default:T+="/"}break;case 123*C:a[c++]=ar(T)*S;case 125*C:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+d:S==-1&&(T=xe(T,/\f/g,"")),v>0&&ar(T)-f&&ic(v>32?pw(T+";",r,n,f-1):pw(xe(T," ","")+";",r,n,f-2),u);break;case 59:T+=";";default:if(ic(P=fw(T,e,n,c,d,i,a,A,D=[],V=[],f),s),_===123)if(d===0)Dc(T,e,P,P,D,s,f,a,V);else switch(g===99&&bt(T,3)===110?100:g){case 100:case 108:case 109:case 115:Dc(t,P,P,r&&ic(fw(t,P,P,0,0,i,a,A,i,D=[],f),V),i,V,f,a,r?D:V);break;default:Dc(T,P,P,P,[""],V,0,a,V)}}c=d=v=0,C=S=1,A=T="",f=o;break;case 58:f=1+ar(T),v=E;default:if(C<1){if(_==123)--C;else if(_==125&&C++==0&&WV()==125)continue}switch(T+=Ph(_),_*C){case 38:S=d>0?1:(T+="\f",-1);break;case 44:a[c++]=(ar(T)-1)*S,S=1;break;case 64:yr()===45&&(T+=Nc(yn())),g=yr(),d=f=ar(A=T+=GV(bc())),_++;break;case 45:E===45&&ar(T)==2&&(C=0)}}return s}function fw(t,e,n,r,i,s,o,a,u,c,d){for(var f=i-1,g=i===0?s:[""],v=Ay(g),E=0,C=0,b=0;E<r;++E)for(var S=0,_=Hl(t,f+1,f=FV(C=o[E])),A=t;S<v;++S)(A=QI(C>0?g[S]+" "+_:xe(_,/&\f/g,g[S])))&&(u[b++]=A);return Nh(t,e,n,i===0?Iy:a,u,c,d)}function YV(t,e,n){return Nh(t,e,n,qI,Ph($V()),Hl(t,2,-2),0)}function pw(t,e,n,r){return Nh(t,e,n,Cy,Hl(t,0,r),Hl(t,r+1,-1),r)}function Ro(t,e){for(var n="",r=Ay(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function XV(t,e,n,r){switch(t.type){case VV:if(t.children.length)break;case MV:case Cy:return t.return=t.return||t.value;case qI:return"";case GI:return t.return=t.value+"{"+Ro(t.children,r)+"}";case Iy:t.value=t.props.join(",")}return ar(n=Ro(t.children,r))?t.return=t.value+"{"+n+"}":""}function JV(t){var e=Ay(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function ZV(t){return function(e){e.root||(e=e.return)&&t(e)}}var e5=function(e,n,r){for(var i=0,s=0;i=s,s=yr(),i===38&&s===12&&(n[r]=1),!Kl(s);)yn();return fu(e,ln)},t5=function(e,n){var r=-1,i=44;do switch(Kl(i)){case 0:i===38&&yr()===12&&(n[r]=1),e[r]+=e5(ln-1,n,r);break;case 2:e[r]+=Nc(i);break;case 4:if(i===44){e[++r]=yr()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Ph(i)}while(i=yn());return e},n5=function(e,n){return JI(t5(XI(e),n))},mw=new WeakMap,r5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!mw.get(r))&&!i){mw.set(e,!0);for(var s=[],o=n5(n,s),a=r.props,u=0,c=0;u<o.length;u++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[u]?o[u].replace(/&\f/g,a[d]):a[d]+" "+o[u]}}},i5=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZI(t,e){switch(UV(t,e)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+Dd+t+Bt+t+t;case 6828:case 4268:return ke+t+Bt+t+t;case 6165:return ke+t+Bt+"flex-"+t+t;case 5187:return ke+t+xe(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+Bt+"flex-$1$2")+t;case 5443:return ke+t+Bt+"flex-item-"+xe(t,/flex-|-self/,"")+t;case 4675:return ke+t+Bt+"flex-line-pack"+xe(t,/align-content|flex-|-self/,"")+t;case 5548:return ke+t+Bt+xe(t,"shrink","negative")+t;case 5292:return ke+t+Bt+xe(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+xe(t,"-grow","")+ke+t+Bt+xe(t,"grow","positive")+t;case 4554:return ke+xe(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return xe(xe(xe(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return xe(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return xe(xe(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+Bt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4095:case 3583:case 4068:case 2532:return xe(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ar(t)-1-e>6)switch(bt(t,e+1)){case 109:if(bt(t,e+4)!==45)break;case 102:return xe(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Dd+(bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~wm(t,"stretch")?ZI(xe(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bt(t,e+1)!==115)break;case 6444:switch(bt(t,ar(t)-3-(~wm(t,"!important")&&10))){case 107:return xe(t,":",":"+ke)+t;case 101:return xe(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(bt(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+Bt+"$2box$3")+t}break;case 5936:switch(bt(t,e+11)){case 114:return ke+t+Bt+xe(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+Bt+xe(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+Bt+xe(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ke+t+Bt+t+t}return t}var s5=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Cy:e.return=ZI(e.value,e.length);break;case GI:return Ro([Oa(e,{value:xe(e.value,"@","@"+ke)})],i);case Iy:if(e.length)return zV(e.props,function(s){switch(BV(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ro([Oa(e,{props:[xe(s,/:(read-\w+)/,":"+Dd+"$1")]})],i);case"::placeholder":return Ro([Oa(e,{props:[xe(s,/:(plac\w+)/,":"+ke+"input-$1")]}),Oa(e,{props:[xe(s,/:(plac\w+)/,":"+Dd+"$1")]}),Oa(e,{props:[xe(s,/:(plac\w+)/,Bt+"input-$1")]})],i)}return""})}},o5=[s5],a5=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var b=C.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var i=e.stylisPlugins||o5,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(C){for(var b=C.getAttribute("data-emotion").split(" "),S=1;S<b.length;S++)s[b[S]]=!0;a.push(C)});var u,c=[r5,i5];{var d,f=[XV,ZV(function(C){d.insert(C)})],g=JV(c.concat(i,f)),v=function(b){return Ro(QV(b),g)};u=function(b,S,_,A){d=_,v(b?b+"{"+S.styles+"}":S.styles),A&&(E.inserted[S.name]=!0)}}var E={key:n,sheet:new LV({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return E.sheet.hydrate(a),E},l5=!0;function u5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var eC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||l5===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},c5=function(e,n,r){eC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function d5(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var h5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},f5=!1,p5=/[A-Z]|^ms/g,m5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tC=function(e){return e.charCodeAt(1)===45},gw=function(e){return e!=null&&typeof e!="boolean"},Uf=KI(function(t){return tC(t)?t:t.replace(p5,"-$&").toLowerCase()}),yw=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(m5,function(r,i,s){return lr={name:i,styles:s,next:lr},i})}return h5[e]!==1&&!tC(e)&&typeof n=="number"&&n!==0?n+"px":n},g5="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function ql(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return lr={name:i.name,styles:i.styles,next:lr},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)lr={name:o.name,styles:o.styles,next:lr},o=o.next;var a=s.styles+";";return a}return y5(t,e,n)}case"function":{if(t!==void 0){var u=lr,c=n(t);return lr=u,ql(t,e,c)}break}}var d=n;if(e==null)return d;var f=e[d];return f!==void 0?f:d}function y5(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ql(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":gw(a)&&(r+=Uf(s)+":"+yw(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&f5)throw new Error(g5);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)gw(o[u])&&(r+=Uf(s)+":"+yw(s,o[u])+";");else{var c=ql(t,e,o);switch(s){case"animation":case"animationName":{r+=Uf(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var vw=/label:\s*([^\s;{]+)\s*(;|$)/g,lr;function nC(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";lr=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=ql(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=ql(n,e,t[a]),r){var u=s;i+=u[a]}vw.lastIndex=0;for(var c="",d;(d=vw.exec(i))!==null;)c+="-"+d[1];var f=d5(i)+c;return{name:f,styles:i,next:lr}}var v5=function(e){return e()},_5=dl.useInsertionEffect?dl.useInsertionEffect:!1,w5=_5||v5,rC=U.createContext(typeof HTMLElement<"u"?a5({key:"css"}):null);rC.Provider;var E5=function(e){return U.forwardRef(function(n,r){var i=U.useContext(rC);return e(n,i,r)})},T5=U.createContext({}),S5=bV,I5=function(e){return e!=="theme"},_w=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?S5:I5},ww=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},C5=!1,A5=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return eC(n,r,i),w5(function(){return c5(n,r,i)}),null},R5=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=ww(e,n,r),u=a||_w(i),c=!u("as");return function(){var d=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var g=d.length,v=1;v<g;v++)f.push(d[v],d[0][v])}var E=E5(function(C,b,S){var _=c&&C.as||i,A="",D=[],V=C;if(C.theme==null){V={};for(var P in C)V[P]=C[P];V.theme=U.useContext(T5)}typeof C.className=="string"?A=u5(b.registered,D,C.className):C.className!=null&&(A=C.className+" ");var T=nC(f.concat(D),b.registered,V);A+=b.key+"-"+T.name,o!==void 0&&(A+=" "+o);var y=c&&a===void 0?_w(_):u,I={};for(var p in C)c&&p==="as"||y(p)&&(I[p]=C[p]);return I.className=A,S&&(I.ref=S),U.createElement(U.Fragment,null,U.createElement(A5,{cache:b,serialized:T,isStringTag:typeof _=="string"}),U.createElement(_,I))});return E.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=f,E.__emotion_forwardProp=a,Object.defineProperty(E,"toString",{value:function(){return o===void 0&&C5?"NO_COMPONENT_SELECTOR":"."+o}}),E.withComponent=function(C,b){return t(C,_m({},n,b,{shouldForwardProp:ww(E,b,!0)})).apply(void 0,f)},E}},k5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Tm=R5.bind();k5.forEach(function(t){Tm[t]=Tm(t)});/**
 * @mui/styled-engine v6.1.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function x5(t,e){return Tm(t,e)}function P5(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const Ew=[];function Tw(t){return Ew[0]=t,nC(Ew)}const b5=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function N5(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=t,s=b5(e),o=Object.keys(s);function a(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n})`}function u(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${n})`}function c(g,v){const E=o.indexOf(v);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${n}) and (max-width:${(E!==-1&&typeof e[o[E]]=="number"?e[o[E]]:v)-r/100}${n})`}function d(g){return o.indexOf(g)+1<o.length?c(g,o[o.indexOf(g)+1]):a(g)}function f(g){const v=o.indexOf(g);return v===0?a(o[1]):v===o.length-1?u(o[v]):c(g,o[o.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:a,down:u,between:c,only:d,not:f,unit:n,...i}}const D5={borderRadius:4};function iC(t=8,e=Ty({spacing:t})){if(t.mui)return t;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function O5(t,e){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[t])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return n.palette.mode===t?e:{}}function sC(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...o}=t,a=N5(n),u=iC(i);let c=gn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:u,shape:{...D5,...s}},o);return c=B4(c),c.applyStyles=O5,c=e.reduce((d,f)=>gn(d,f),c),c.unstable_sxConfig={...xh,...o==null?void 0:o.unstable_sxConfig},c.unstable_sx=function(f){return Ko({sx:f,theme:this})},c}function oC(t){const{variants:e,...n}=t,r={variants:e,style:Tw(n),isProcessed:!0};return r.style===n||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Tw(i.style))}),r}const L5=sC();function Bf(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function M5(t){return t?(e,n)=>n[t]:null}function V5(t,e,n){t.theme=U5(t.theme)?n:t.theme[e]||t.theme}function Oc(t,e){const n=typeof e=="function"?e(t):e;if(Array.isArray(n))return n.flatMap(r=>Oc(t,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return aC(t,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function aC(t,e,n=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const a in o.props)if(t[a]!==o.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==o.props[a])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o.style(r))):n.push(o.style)}return n}function F5(t={}){const{themeId:e,defaultTheme:n=L5,rootShouldForwardProp:r=Bf,slotShouldForwardProp:i=Bf}=t;function s(a){V5(a,e,n)}return(a,u={})=>{P5(a,V=>V.filter(P=>P!==Ko));const{name:c,slot:d,skipVariantsResolver:f,skipSx:g,overridesResolver:v=M5(z5(d)),...E}=u,C=f!==void 0?f:d&&d!=="Root"&&d!=="root"||!1,b=g||!1;let S=Bf;d==="Root"||d==="root"?S=r:d?S=i:B5(a)&&(S=void 0);const _=x5(a,{shouldForwardProp:S,label:j5(),...E}),A=V=>{if(typeof V=="function"&&V.__emotion_real!==V)return function(T){return Oc(T,V)};if(Pr(V)){const P=oC(V);return P.variants?function(y){return Oc(y,P)}:P.style}return V},D=(...V)=>{const P=[],T=V.map(A),y=[];if(P.push(s),c&&v&&y.push(function(O){var De,Ae;const re=(Ae=(De=O.theme.components)==null?void 0:De[c])==null?void 0:Ae.styleOverrides;if(!re)return null;const G={};for(const q in re)G[q]=Oc(O,re[q]);return v(O,G)}),c&&!C&&y.push(function(O){var G,De;const R=O.theme,re=(De=(G=R==null?void 0:R.components)==null?void 0:G[c])==null?void 0:De.variants;return re?aC(O,re):null}),b||y.push(Ko),Array.isArray(T[0])){const k=T.shift(),O=new Array(P.length).fill(""),R=new Array(y.length).fill("");let re;re=[...O,...k,...R],re.raw=[...O,...k.raw,...R],P.unshift(re)}const I=[...P,...T,...y],p=_(...I);return a.muiName&&(p.muiName=a.muiName),p};return _.withConfig&&(D.withConfig=_.withConfig),D}}function j5(t,e){return void 0}function U5(t){for(const e in t)return!1;return!0}function B5(t){return typeof t=="string"&&t.charCodeAt(0)>96}function z5(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function Ry(t,e=0,n=1){return M4(t,e,n)}function $5(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ui(t){if(t.type)return t;if(t.charAt(0)==="#")return Ui($5(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(ks(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ks(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const W5=t=>{const e=Ui(t);return e.values.slice(0,3).map((n,r)=>e.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},qa=(t,e)=>{try{return W5(t)}catch{return t}};function Dh(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function lC(t){t=Ui(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const u=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",u.push(e[3])),Dh({type:a,values:u})}function Sm(t){t=Ui(t);let e=t.type==="hsl"||t.type==="hsla"?Ui(lC(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function H5(t,e){const n=Sm(t),r=Sm(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function K5(t,e){return t=Ui(t),e=Ry(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Dh(t)}function sc(t,e,n){try{return K5(t,e)}catch{return t}}function ky(t,e){if(t=Ui(t),e=Ry(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Dh(t)}function Ve(t,e,n){try{return ky(t,e)}catch{return t}}function xy(t,e){if(t=Ui(t),e=Ry(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Dh(t)}function Fe(t,e,n){try{return xy(t,e)}catch{return t}}function q5(t,e=.15){return Sm(t)>.5?ky(t,e):xy(t,e)}function oc(t,e,n){try{return q5(t,e)}catch{return t}}const G5=U.createContext(void 0);function Q5(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?vm(i.defaultProps,r):!i.styleOverrides&&!i.variants?vm(i,r):r}function Y5({props:t,name:e}){const n=U.useContext(G5);return Q5({props:t,name:e,theme:{components:n}})}const Sw={theme:void 0};function X5(t){let e,n;return function(i){let s=e;return(s===void 0||i.theme!==n)&&(Sw.theme=i.theme,s=oC(t(Sw)),e=s,n=i.theme),s}}function J5(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const Iw=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},Z5=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,u])=>{(!n||n&&!n([...s,a]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?r(u,[...s,a],Array.isArray(u)?[...o,a]:o):e([...s,a],u,o))})}r(t)},eF=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function zf(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return Z5(t,(a,u,c)=>{if((typeof u=="string"||typeof u=="number")&&(!r||!r(a,u))){const d=`--${n?`${n}-`:""}${a.join("-")}`,f=eF(a,u);Object.assign(i,{[d]:f}),Iw(s,a,`var(${d})`,c),Iw(o,a,`var(${d}, ${f})`,c)}},a=>a[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function tF(t,e={}){const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:a="light",...u}=t,{vars:c,css:d,varsWithDefaults:f}=zf(u,e);let g=f;const v={},{[a]:E,...C}=s;if(Object.entries(C||{}).forEach(([A,D])=>{const{vars:V,css:P,varsWithDefaults:T}=zf(D,e);g=gn(g,T),v[A]={css:P,vars:V}}),E){const{css:A,vars:D,varsWithDefaults:V}=zf(E,e);g=gn(g,V),v[a]={css:A,vars:D}}function b(A,D){var P,T;let V=i;if(i==="class"&&(V=".%s"),i==="data"&&(V="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(V=`[${i}="%s"]`),A){if(V==="media")return t.defaultColorScheme===A?":root":{[`@media (prefers-color-scheme: ${((T=(P=s[A])==null?void 0:P.palette)==null?void 0:T.mode)||A})`]:{":root":D}};if(V)return t.defaultColorScheme===A?`:root, ${V.replace("%s",String(A))}`:V.replace("%s",String(A))}return":root"}return{vars:g,generateThemeVars:()=>{let A={...c};return Object.entries(v).forEach(([,{vars:D}])=>{A=gn(A,D)}),A},generateStyleSheets:()=>{var y,I;const A=[],D=t.defaultColorScheme||"light";function V(p,k){Object.keys(k).length&&A.push(typeof p=="string"?{[p]:{...k}}:p)}V(n(void 0,{...d}),d);const{[D]:P,...T}=v;if(P){const{css:p}=P,k=(I=(y=s[D])==null?void 0:y.palette)==null?void 0:I.mode,O=!r&&k?{colorScheme:k,...p}:{...p};V(n(D,{...O}),O)}return Object.entries(T).forEach(([p,{css:k}])=>{var re,G;const O=(G=(re=s[p])==null?void 0:re.palette)==null?void 0:G.mode,R=!r&&O?{colorScheme:O,...k}:{...k};V(n(p,{...R}),R)}),A}}}function nF(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const Gl={black:"#000",white:"#fff"},rF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Gs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Qs={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},La={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ys={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Xs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Js={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function uC(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gl.white,default:Gl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const iF=uC();function cC(){return{text:{primary:Gl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Cw=cC();function Aw(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=xy(t.main,i):e==="dark"&&(t.dark=ky(t.main,s)))}function sF(t="light"){return t==="dark"?{main:Ys[200],light:Ys[50],dark:Ys[400]}:{main:Ys[700],light:Ys[400],dark:Ys[800]}}function oF(t="light"){return t==="dark"?{main:Gs[200],light:Gs[50],dark:Gs[400]}:{main:Gs[500],light:Gs[300],dark:Gs[700]}}function aF(t="light"){return t==="dark"?{main:Qs[500],light:Qs[300],dark:Qs[700]}:{main:Qs[700],light:Qs[400],dark:Qs[800]}}function lF(t="light"){return t==="dark"?{main:Xs[400],light:Xs[300],dark:Xs[700]}:{main:Xs[700],light:Xs[500],dark:Xs[900]}}function uF(t="light"){return t==="dark"?{main:Js[400],light:Js[300],dark:Js[700]}:{main:Js[800],light:Js[500],dark:Js[900]}}function cF(t="light"){return t==="dark"?{main:La[400],light:La[300],dark:La[700]}:{main:"#ed6c02",light:La[500],dark:La[900]}}function Py(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=t,s=t.primary||sF(e),o=t.secondary||oF(e),a=t.error||aF(e),u=t.info||lF(e),c=t.success||uF(e),d=t.warning||cF(e);function f(C){return H5(C,Cw.text.primary)>=n?Cw.text.primary:iF.text.primary}const g=({color:C,name:b,mainShade:S=500,lightShade:_=300,darkShade:A=700})=>{if(C={...C},!C.main&&C[S]&&(C.main=C[S]),!C.hasOwnProperty("main"))throw new Error(ks(11,b?` (${b})`:"",S));if(typeof C.main!="string")throw new Error(ks(12,b?` (${b})`:"",JSON.stringify(C.main)));return Aw(C,"light",_,r),Aw(C,"dark",A,r),C.contrastText||(C.contrastText=f(C.main)),C};let v;return e==="light"?v=uC():e==="dark"&&(v=cC()),gn({common:{...Gl},mode:e,primary:g({color:s,name:"primary"}),secondary:g({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:a,name:"error"}),warning:g({color:d,name:"warning"}),info:g({color:u,name:"info"}),success:g({color:c,name:"success"}),grey:rF,contrastThreshold:n,getContrastText:f,augmentColor:g,tonalOffset:r,...v},i)}function dF(t){const e={};return Object.entries(t).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function hF(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function fF(t){return Math.round(t*1e5)/1e5}const Rw={textTransform:"uppercase"},kw='"Roboto", "Helvetica", "Arial", sans-serif';function pF(t,e){const{fontFamily:n=kw,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:a=700,htmlFontSize:u=16,allVariants:c,pxToRem:d,...f}=typeof e=="function"?e(t):e,g=r/14,v=d||(b=>`${b/u*g}rem`),E=(b,S,_,A,D)=>({fontFamily:n,fontWeight:b,fontSize:v(S),lineHeight:_,...n===kw?{letterSpacing:`${fF(A/S)}em`}:{},...D,...c}),C={h1:E(i,96,1.167,-1.5),h2:E(i,60,1.2,-.5),h3:E(s,48,1.167,0),h4:E(s,34,1.235,.25),h5:E(s,24,1.334,0),h6:E(o,20,1.6,.15),subtitle1:E(s,16,1.75,.15),subtitle2:E(o,14,1.57,.1),body1:E(s,16,1.5,.15),body2:E(s,14,1.43,.15),button:E(o,14,1.75,.4,Rw),caption:E(s,12,1.66,.4),overline:E(s,12,2.66,1,Rw),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return gn({htmlFontSize:u,pxToRem:v,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:a,...C},f,{clone:!1})}const mF=.2,gF=.14,yF=.12;function qe(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${mF})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${gF})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${yF})`].join(",")}const vF=["none",qe(0,2,1,-1,0,1,1,0,0,1,3,0),qe(0,3,1,-2,0,2,2,0,0,1,5,0),qe(0,3,3,-2,0,3,4,0,0,1,8,0),qe(0,2,4,-1,0,4,5,0,0,1,10,0),qe(0,3,5,-1,0,5,8,0,0,1,14,0),qe(0,3,5,-1,0,6,10,0,0,1,18,0),qe(0,4,5,-2,0,7,10,1,0,2,16,1),qe(0,5,5,-3,0,8,10,1,0,3,14,2),qe(0,5,6,-3,0,9,12,1,0,3,16,2),qe(0,6,6,-3,0,10,14,1,0,4,18,3),qe(0,6,7,-4,0,11,15,1,0,4,20,3),qe(0,7,8,-4,0,12,17,2,0,5,22,4),qe(0,7,8,-4,0,13,19,2,0,5,24,4),qe(0,7,9,-4,0,14,21,2,0,5,26,4),qe(0,8,9,-5,0,15,22,2,0,6,28,5),qe(0,8,10,-5,0,16,24,2,0,6,30,5),qe(0,8,11,-5,0,17,26,2,0,6,32,5),qe(0,9,11,-5,0,18,28,2,0,7,34,6),qe(0,9,12,-6,0,19,29,2,0,7,36,6),qe(0,10,13,-6,0,20,31,3,0,8,38,7),qe(0,10,13,-6,0,21,33,3,0,8,40,7),qe(0,10,14,-6,0,22,35,3,0,8,42,7),qe(0,11,14,-7,0,23,36,3,0,9,44,8),qe(0,11,15,-7,0,24,38,3,0,9,46,8)],_F={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wF={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function xw(t){return`${Math.round(t)}ms`}function EF(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function TF(t){const e={..._F,...t.easing},n={...wF,...t.duration};return{getAutoHeightDuration:EF,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:u=0,...c}=s;return(Array.isArray(i)?i:[i]).map(d=>`${d} ${typeof o=="string"?o:xw(o)} ${a} ${typeof u=="string"?u:xw(u)}`).join(",")},...t,easing:e,duration:n}}const SF={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function IF(t){return Pr(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function dC(t={}){const e={...t};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,a]=i[s];!IF(a)||o.startsWith("unstable_")?delete r[o]:Pr(a)&&(r[o]={...a},n(r[o]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Im(t={},...e){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:a={},shape:u,...c}=t;if(t.vars)throw new Error(ks(20));const d=Py(s),f=sC(t);let g=gn(f,{mixins:hF(f.breakpoints,r),palette:d,shadows:vF.slice(),typography:pF(d,a),transitions:TF(o),zIndex:{...SF}});return g=gn(g,c),g=e.reduce((v,E)=>gn(v,E),g),g.unstable_sxConfig={...xh,...c==null?void 0:c.unstable_sxConfig},g.unstable_sx=function(E){return Ko({sx:E,theme:this})},g.toRuntimeSource=dC,g}function CF(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const AF=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=CF(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function hC(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function fC(t){return t==="dark"?AF:[]}function RF(t){const{palette:e={mode:"light"},opacity:n,overlays:r,...i}=t,s=Py(e);return{palette:s,opacity:{...hC(s.mode),...n},overlays:r||fC(s.mode),...i}}function kF(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const xF=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],PF=t=>(e,n)=>{const r=t.rootSelector||":root",i=t.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const o={};return xF(t.cssVarPrefix).forEach(a=>{o[a]=n[a],delete n[a]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:n}:{[r]:{...n,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:n}};if(s)return s.replace("%s",String(e))}return r};function bF(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function B(t,e,n){!t[e]&&n&&(t[e]=n)}function Ga(t){return!t||!t.startsWith("hsl")?t:lC(t)}function Rr(t,e){`${e}Channel`in t||(t[`${e}Channel`]=qa(Ga(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function NF(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const sr=t=>{try{return t()}catch{}},DF=(t="mui")=>J5(t);function $f(t,e,n,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!n){t[r]=RF({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...o}=Im({...n,palette:{mode:i,...e==null?void 0:e.palette}});return t[r]={...e,palette:s,opacity:{...hC(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||fC(i)},o}function OF(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=kF,colorSchemeSelector:a=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...c}=t,d=Object.keys(n)[0],f=r||(n.light&&d!=="light"?"light":d),g=DF(s),{[f]:v,light:E,dark:C,...b}=n,S={...b};let _=v;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(_=!0),!_)throw new Error(ks(21,f));const A=$f(S,_,c,f);E&&!S.light&&$f(S,E,void 0,"light"),C&&!S.dark&&$f(S,C,void 0,"dark");let D={defaultColorScheme:f,...A,cssVarPrefix:s,colorSchemeSelector:a,rootSelector:u,getCssVar:g,colorSchemes:S,font:{...dF(A.typography),...A.font},spacing:NF(c.spacing)};Object.keys(D.colorSchemes).forEach(I=>{const p=D.colorSchemes[I].palette,k=O=>{const R=O.split("-"),re=R[1],G=R[2];return g(O,p[re][G])};if(p.mode==="light"&&(B(p.common,"background","#fff"),B(p.common,"onBackground","#000")),p.mode==="dark"&&(B(p.common,"background","#000"),B(p.common,"onBackground","#fff")),bF(p,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),p.mode==="light"){B(p.Alert,"errorColor",Ve(p.error.light,.6)),B(p.Alert,"infoColor",Ve(p.info.light,.6)),B(p.Alert,"successColor",Ve(p.success.light,.6)),B(p.Alert,"warningColor",Ve(p.warning.light,.6)),B(p.Alert,"errorFilledBg",k("palette-error-main")),B(p.Alert,"infoFilledBg",k("palette-info-main")),B(p.Alert,"successFilledBg",k("palette-success-main")),B(p.Alert,"warningFilledBg",k("palette-warning-main")),B(p.Alert,"errorFilledColor",sr(()=>p.getContrastText(p.error.main))),B(p.Alert,"infoFilledColor",sr(()=>p.getContrastText(p.info.main))),B(p.Alert,"successFilledColor",sr(()=>p.getContrastText(p.success.main))),B(p.Alert,"warningFilledColor",sr(()=>p.getContrastText(p.warning.main))),B(p.Alert,"errorStandardBg",Fe(p.error.light,.9)),B(p.Alert,"infoStandardBg",Fe(p.info.light,.9)),B(p.Alert,"successStandardBg",Fe(p.success.light,.9)),B(p.Alert,"warningStandardBg",Fe(p.warning.light,.9)),B(p.Alert,"errorIconColor",k("palette-error-main")),B(p.Alert,"infoIconColor",k("palette-info-main")),B(p.Alert,"successIconColor",k("palette-success-main")),B(p.Alert,"warningIconColor",k("palette-warning-main")),B(p.AppBar,"defaultBg",k("palette-grey-100")),B(p.Avatar,"defaultBg",k("palette-grey-400")),B(p.Button,"inheritContainedBg",k("palette-grey-300")),B(p.Button,"inheritContainedHoverBg",k("palette-grey-A100")),B(p.Chip,"defaultBorder",k("palette-grey-400")),B(p.Chip,"defaultAvatarColor",k("palette-grey-700")),B(p.Chip,"defaultIconColor",k("palette-grey-700")),B(p.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),B(p.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),B(p.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),B(p.LinearProgress,"primaryBg",Fe(p.primary.main,.62)),B(p.LinearProgress,"secondaryBg",Fe(p.secondary.main,.62)),B(p.LinearProgress,"errorBg",Fe(p.error.main,.62)),B(p.LinearProgress,"infoBg",Fe(p.info.main,.62)),B(p.LinearProgress,"successBg",Fe(p.success.main,.62)),B(p.LinearProgress,"warningBg",Fe(p.warning.main,.62)),B(p.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.11)`),B(p.Slider,"primaryTrack",Fe(p.primary.main,.62)),B(p.Slider,"secondaryTrack",Fe(p.secondary.main,.62)),B(p.Slider,"errorTrack",Fe(p.error.main,.62)),B(p.Slider,"infoTrack",Fe(p.info.main,.62)),B(p.Slider,"successTrack",Fe(p.success.main,.62)),B(p.Slider,"warningTrack",Fe(p.warning.main,.62));const O=oc(p.background.default,.8);B(p.SnackbarContent,"bg",O),B(p.SnackbarContent,"color",sr(()=>p.getContrastText(O))),B(p.SpeedDialAction,"fabHoverBg",oc(p.background.paper,.15)),B(p.StepConnector,"border",k("palette-grey-400")),B(p.StepContent,"border",k("palette-grey-400")),B(p.Switch,"defaultColor",k("palette-common-white")),B(p.Switch,"defaultDisabledColor",k("palette-grey-100")),B(p.Switch,"primaryDisabledColor",Fe(p.primary.main,.62)),B(p.Switch,"secondaryDisabledColor",Fe(p.secondary.main,.62)),B(p.Switch,"errorDisabledColor",Fe(p.error.main,.62)),B(p.Switch,"infoDisabledColor",Fe(p.info.main,.62)),B(p.Switch,"successDisabledColor",Fe(p.success.main,.62)),B(p.Switch,"warningDisabledColor",Fe(p.warning.main,.62)),B(p.TableCell,"border",Fe(sc(p.divider,1),.88)),B(p.Tooltip,"bg",sc(p.grey[700],.92))}if(p.mode==="dark"){B(p.Alert,"errorColor",Fe(p.error.light,.6)),B(p.Alert,"infoColor",Fe(p.info.light,.6)),B(p.Alert,"successColor",Fe(p.success.light,.6)),B(p.Alert,"warningColor",Fe(p.warning.light,.6)),B(p.Alert,"errorFilledBg",k("palette-error-dark")),B(p.Alert,"infoFilledBg",k("palette-info-dark")),B(p.Alert,"successFilledBg",k("palette-success-dark")),B(p.Alert,"warningFilledBg",k("palette-warning-dark")),B(p.Alert,"errorFilledColor",sr(()=>p.getContrastText(p.error.dark))),B(p.Alert,"infoFilledColor",sr(()=>p.getContrastText(p.info.dark))),B(p.Alert,"successFilledColor",sr(()=>p.getContrastText(p.success.dark))),B(p.Alert,"warningFilledColor",sr(()=>p.getContrastText(p.warning.dark))),B(p.Alert,"errorStandardBg",Ve(p.error.light,.9)),B(p.Alert,"infoStandardBg",Ve(p.info.light,.9)),B(p.Alert,"successStandardBg",Ve(p.success.light,.9)),B(p.Alert,"warningStandardBg",Ve(p.warning.light,.9)),B(p.Alert,"errorIconColor",k("palette-error-main")),B(p.Alert,"infoIconColor",k("palette-info-main")),B(p.Alert,"successIconColor",k("palette-success-main")),B(p.Alert,"warningIconColor",k("palette-warning-main")),B(p.AppBar,"defaultBg",k("palette-grey-900")),B(p.AppBar,"darkBg",k("palette-background-paper")),B(p.AppBar,"darkColor",k("palette-text-primary")),B(p.Avatar,"defaultBg",k("palette-grey-600")),B(p.Button,"inheritContainedBg",k("palette-grey-800")),B(p.Button,"inheritContainedHoverBg",k("palette-grey-700")),B(p.Chip,"defaultBorder",k("palette-grey-700")),B(p.Chip,"defaultAvatarColor",k("palette-grey-300")),B(p.Chip,"defaultIconColor",k("palette-grey-300")),B(p.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),B(p.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),B(p.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),B(p.LinearProgress,"primaryBg",Ve(p.primary.main,.5)),B(p.LinearProgress,"secondaryBg",Ve(p.secondary.main,.5)),B(p.LinearProgress,"errorBg",Ve(p.error.main,.5)),B(p.LinearProgress,"infoBg",Ve(p.info.main,.5)),B(p.LinearProgress,"successBg",Ve(p.success.main,.5)),B(p.LinearProgress,"warningBg",Ve(p.warning.main,.5)),B(p.Skeleton,"bg",`rgba(${k("palette-text-primaryChannel")} / 0.13)`),B(p.Slider,"primaryTrack",Ve(p.primary.main,.5)),B(p.Slider,"secondaryTrack",Ve(p.secondary.main,.5)),B(p.Slider,"errorTrack",Ve(p.error.main,.5)),B(p.Slider,"infoTrack",Ve(p.info.main,.5)),B(p.Slider,"successTrack",Ve(p.success.main,.5)),B(p.Slider,"warningTrack",Ve(p.warning.main,.5));const O=oc(p.background.default,.98);B(p.SnackbarContent,"bg",O),B(p.SnackbarContent,"color",sr(()=>p.getContrastText(O))),B(p.SpeedDialAction,"fabHoverBg",oc(p.background.paper,.15)),B(p.StepConnector,"border",k("palette-grey-600")),B(p.StepContent,"border",k("palette-grey-600")),B(p.Switch,"defaultColor",k("palette-grey-300")),B(p.Switch,"defaultDisabledColor",k("palette-grey-600")),B(p.Switch,"primaryDisabledColor",Ve(p.primary.main,.55)),B(p.Switch,"secondaryDisabledColor",Ve(p.secondary.main,.55)),B(p.Switch,"errorDisabledColor",Ve(p.error.main,.55)),B(p.Switch,"infoDisabledColor",Ve(p.info.main,.55)),B(p.Switch,"successDisabledColor",Ve(p.success.main,.55)),B(p.Switch,"warningDisabledColor",Ve(p.warning.main,.55)),B(p.TableCell,"border",Ve(sc(p.divider,1),.68)),B(p.Tooltip,"bg",sc(p.grey[700],.92))}Rr(p.background,"default"),Rr(p.background,"paper"),Rr(p.common,"background"),Rr(p.common,"onBackground"),Rr(p,"divider"),Object.keys(p).forEach(O=>{const R=p[O];R&&typeof R=="object"&&(R.main&&B(p[O],"mainChannel",qa(Ga(R.main))),R.light&&B(p[O],"lightChannel",qa(Ga(R.light))),R.dark&&B(p[O],"darkChannel",qa(Ga(R.dark))),R.contrastText&&B(p[O],"contrastTextChannel",qa(Ga(R.contrastText))),O==="text"&&(Rr(p[O],"primary"),Rr(p[O],"secondary")),O==="action"&&(R.active&&Rr(p[O],"active"),R.selected&&Rr(p[O],"selected")))})}),D=e.reduce((I,p)=>gn(I,p),D);const V={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:PF(D)},{vars:P,generateThemeVars:T,generateStyleSheets:y}=tF(D,V);return D.vars=P,Object.entries(D.colorSchemes[D.defaultColorScheme]).forEach(([I,p])=>{D[I]=p}),D.generateThemeVars=T,D.generateStyleSheets=y,D.generateSpacing=function(){return iC(c.spacing,Ty(this))},D.getColorSchemeSelector=nF(a),D.spacing=D.generateSpacing(),D.shouldSkipGeneratingVar=o,D.unstable_sxConfig={...xh,...c==null?void 0:c.unstable_sxConfig},D.unstable_sx=function(p){return Ko({sx:p,theme:this})},D.toRuntimeSource=dC,D}function Pw(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:Py({...n===!0?{}:n.palette,mode:e})})}function LF(t={},...e){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...o}=t,a=s||"light",u=i==null?void 0:i[a],c={...i,...n?{[a]:{...typeof u!="boolean"&&u,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in t))return Im(t,...e);let d=n;"palette"in t||c[a]&&(c[a]!==!0?d=c[a].palette:a==="dark"&&(d={mode:"dark"}));const f=Im({...t,palette:d},...e);return f.defaultColorScheme=a,f.colorSchemes=c,f.palette.mode==="light"&&(f.colorSchemes.light={...c.light!==!0&&c.light,palette:f.palette},Pw(f,"dark",c.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:f.palette},Pw(f,"light",c.light)),f}return!n&&!("light"in c)&&a==="light"&&(c.light=!0),OF({...o,colorSchemes:c,defaultColorScheme:a,...typeof r!="boolean"&&r},...e)}const MF=LF(),VF="$$material";function FF(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const jF=t=>FF(t)&&t!=="classes",UF=F5({themeId:VF,defaultTheme:MF,rootShouldForwardProp:jF}),BF=X5;function zF(t){return Y5(t)}function $F(t){return $I("MuiSvgIcon",t)}L4("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const WF=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ho(e)}`,`fontSize${Ho(n)}`]};return b4(i,$F,r)},HF=UF("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ho(n.color)}`],e[`fontSize${Ho(n.fontSize)}`]]}})(BF(({theme:t})=>{var e,n,r,i,s,o,a,u,c,d,f,g,v,E;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=t.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:C=>!C.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((o=(s=t.typography)==null?void 0:s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((u=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:u.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(c=t.typography)==null?void 0:c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,C])=>C&&C.main).map(([C])=>{var b,S;return{props:{color:C},style:{color:(S=(b=(t.vars??t).palette)==null?void 0:b[C])==null?void 0:S.main}}}),{props:{color:"action"},style:{color:(g=(f=(t.vars??t).palette)==null?void 0:f.action)==null?void 0:g.active}},{props:{color:"disabled"},style:{color:(E=(v=(t.vars??t).palette)==null?void 0:v.action)==null?void 0:E.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Od=U.forwardRef(function(e,n){const r=zF({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:u="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:f,viewBox:g="0 0 24 24",...v}=r,E=U.isValidElement(i)&&i.type==="svg",C={...r,color:o,component:a,fontSize:u,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:E},b={};d||(b.viewBox=g);const S=WF(C);return x.jsxs(HF,{as:a,className:V4(S.root,s),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n,...b,...v,...E&&i.props,ownerState:C,children:[E?i.props.children:i,f?x.jsx("title",{children:f}):null]})});Od&&(Od.muiName="SvgIcon");function Oh(t,e){function n(r,i){return x.jsx(Od,{"data-testid":`${e}Icon`,ref:i,...r,children:t})}return n.muiName=Od.muiName,U.memo(U.forwardRef(n))}const KF=Oh(x.jsx("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),qF=Oh([x.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),x.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),pC=Oh(x.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google"),GF=Oh(x.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack");function QF(){const t=bs(),[e,n]=U.useState(""),[r,i]=U.useState(""),[s,o]=U.useState(!1),[a,u]=U.useState(!1),[c,d]=U.useState({email:"",password:"",name:""}),f=C=>{i(C),u(!0)},g=C=>{d({...c,[C.target.name]:C.target.value})},v=async C=>{C.preventDefault(),n(""),o(!0);try{await Wl.signUpWithEmail(c.email,c.password,r,c.name),t("/dashboard")}catch(b){n(b.message)}finally{o(!1)}},E=async()=>{if(!r){n("Please select an account type first");return}n(""),o(!0);try{await Wl.signInWithGoogle(r),t("/dashboard")}catch(C){n(C.message)}finally{o(!1)}};return x.jsx("div",{className:"min-h-screen bg-boxbg flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full",children:[x.jsxs("button",{onClick:()=>{a?(u(!1),i("")):t(-1)},className:`flex items-center gap-2 text-gray-600 hover:text-gray-800 ${a?"visible":"hidden"}`,children:[x.jsx(GF,{}),x.jsx("span",{children:"Back"})]}),x.jsxs("div",{className:"text-center mb-8",children:[x.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[x.jsx("div",{className:"w-8 h-8",children:x.jsx("img",{src:"src/assets/logo.png",alt:"Sehpaathi Owl Logo",className:"w-full h-full object-contain"})}),x.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"SEHPAATHI"})]}),x.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sign up for Sehpaathi"}),x.jsx("p",{className:"text-gray-600",children:"What type of an account do you need?"})]}),e&&x.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:e}),a?x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),x.jsx("input",{type:"text",name:"name",value:c.name,onChange:g,className:"w-full p-2 border rounded-lg",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),x.jsx("input",{type:"email",name:"email",value:c.email,onChange:g,className:"w-full p-2 border rounded-lg",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),x.jsx("input",{type:"password",name:"password",value:c.password,onChange:g,className:"w-full p-2 border rounded-lg",required:!0})]}),x.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors",children:s?"Creating account...":"Sign Up"}),x.jsxs("button",{onClick:E,disabled:s,className:"w-full border border-gray-300 p-3 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors mb-6",children:[x.jsx(pC,{}),x.jsx("span",{className:"text-gray-600",children:"Continue with Google"})]})]}):x.jsx(x.Fragment,{children:x.jsxs("div",{className:"space-y-3 mb-6",children:[x.jsxs("button",{onClick:()=>f("student"),className:`w-full bg-signbut hover:bg-signbuthov p-4 rounded-lg flex items-center justify-between group transition-colors ${r==="student"?"bg-signbuthov":""}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(KF,{className:"w-6 h-6"}),x.jsx("span",{className:"font-medium text-gray-800",children:"A student account"})]}),x.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),x.jsxs("button",{onClick:()=>f("instructor"),className:`w-full bg-signbut hover:bg-signbuthov p-4 rounded-lg flex items-center justify-between group transition-colors ${r==="instructor"?"bg-signbuthov":""}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(qF,{className:"w-6 h-6"}),x.jsx("span",{className:"font-medium text-gray-800",children:"An instructor account"})]}),x.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})}),x.jsx("div",{className:"text-center mt-6",children:x.jsx(Bp,{to:"/signin",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Already have an account? Sign in"})})]})})}const YF=()=>x.jsx("div",{className:"w-full bg-boxbg flex justify-center",children:x.jsxs("div",{className:"flex flex-col md:flex-row max-w-7xl p-8",children:[x.jsxs("section",{className:"flex-1 p-8",children:[x.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Our Story"}),x.jsx("p",{className:"text-xl leading-relaxed max-w-md",children:"We are a company dedicated to providing excellent service to our customers. Founded in 2024 we strive to innovate and exceed expectations in everything we do."})]}),x.jsxs("section",{className:"flex-1 p-8",children:[x.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Our Mission"}),x.jsx("p",{className:"text-xl leading-relaxed max-w-md",children:"Our mission is to create value for our customers through innovative solutions and exceptional service."})]}),x.jsxs("section",{className:"flex-1 p-8",children:[x.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Contact Us"}),x.jsxs("div",{className:"text-xl leading-relaxed",children:[x.jsx("p",{children:"Email: info@example.com"}),x.jsx("p",{children:"Phone: (123) 456-7890"})]})]})]})}),XF=()=>{const t=bs(),e=mT(),{loading:n,error:r,isAuthenticated:i}=Ag(d=>d.user),[s,o]=U.useState({email:"",password:"",rememberMe:!1});U.useEffect(()=>{e(A4())},[e]),U.useEffect(()=>{i&&t("/dashboard")},[i,t]);const a=d=>{const{name:f,value:g,type:v,checked:E}=d.target;o(C=>({...C,[f]:v==="checkbox"?E:g}))},u=async d=>{d.preventDefault(),e(xc({email:s.email,password:s.password,rememberMe:s.rememberMe}))},c=()=>{e(Pc())};return x.jsx("div",{className:"min-h-screen bg-boxbg flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-md w-full",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[x.jsx("div",{className:"w-8 h-8",children:x.jsx("img",{src:"src/assets/logo.png",alt:"Sehpaathi Logo",className:"w-full h-full object-contain"})}),x.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"SEHPAATHI"})]}),x.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Sign in to Sehpaathi"}),x.jsx("p",{className:"text-gray-600",children:"Welcome back! Please enter your details."})]}),r&&x.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative",role:"alert",children:x.jsx("span",{className:"block sm:inline",children:r})}),x.jsxs("form",{onSubmit:u,className:"space-y-4",children:[x.jsx("div",{children:x.jsx("input",{type:"email",name:"email",placeholder:"Email",value:s.email,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:n})}),x.jsx("div",{children:x.jsx("input",{type:"password",name:"password",placeholder:"Password",value:s.password,onChange:a,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,disabled:n})}),x.jsx("div",{className:"flex items-center justify-between",children:x.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[x.jsx("input",{type:"checkbox",name:"rememberMe",checked:s.rememberMe,onChange:a,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500",disabled:n}),x.jsx("span",{className:"text-gray-600",children:"Remember me"})]})}),x.jsx("button",{type:"submit",disabled:n,className:"w-full bg-signbut hover:bg-signbuthov py-3 rounded-lg font-medium transition-colors disabled:opacity-50",children:n?"Signing in...":"Sign In"}),x.jsxs("button",{type:"button",onClick:c,disabled:n,className:"w-full border border-gray-300 py-3 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors disabled:opacity-50",children:[x.jsx(pC,{}),x.jsx("span",{className:"text-gray-600",children:"Continue with Google"})]})]}),x.jsxs("div",{className:"mt-6 text-center space-y-2",children:[x.jsx(Bp,{to:"/forgot-password",className:"text-gray-500 hover:text-gray-700 block",children:"Forgot your password?"}),x.jsx("div",{className:"text-center mt-6",children:x.jsx(Bp,{to:"/signup",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Don't have an account? Sign Up"})})]})]})})},JF=()=>{const t=Zo(),e=t.pathname==="/signin"||t.pathname==="/signup"||t.pathname==="/dashboard";return x.jsxs("div",{children:[!e&&x.jsx(Hx,{}),x.jsx(Tx,{}),!e&&x.jsx(Kx,{})]})};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ej={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>U.createElement("svg",{ref:u,...ej,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:mC("lucide",i),...a},[...o.map(([c,d])=>U.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(t,e)=>{const n=U.forwardRef(({className:r,...i},s)=>U.createElement(tj,{ref:s,iconNode:e,className:mC(`lucide-${ZF(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=It("BookMarked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=It("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=It("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=It("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=It("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=It("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=It("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=It("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=It("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=It("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=It("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=It("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=It("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=It("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=It("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=It("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=It("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.456.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=It("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),gj=()=>{const[t,e]=U.useState(!0),[n,r]=U.useState("dashboard"),[i,s]=U.useState(null),[o,a]=U.useState(null),[u,c]=U.useState([]),[d,f]=U.useState(""),[g,v]=U.useState([]),[E,C]=U.useState(!1),[b,S]=U.useState({type:"",title:"",url:"",file:null}),_=[{id:"bookmark",label:"Bookmark",icon:Ow},{id:"note",label:"Note",icon:ij},{id:"video",label:"YouTube Video",icon:mj},{id:"code",label:"Code Block",icon:nj},{id:"project",label:"Project",icon:uj},{id:"media",label:"Media",icon:oj}],A=[{id:"cse",name:"Computer Science Engineering"},{id:"it",name:"Information Technology"},{id:"ece",name:"Electronics & Communication"},{id:"ee",name:"Electrical Engineering"},{id:"me",name:"Mechanical Engineering"}],D=Array.from({length:8},(G,De)=>({id:De+1,name:`Semester ${De+1}`})),V=["Class Notes","Lecture PPTs","Previous Year Questions","Practical Reports","Profiency Papers"],P=bs(),T=mT(),y=Ag(R4),I=()=>{d.trim()&&(c([...u,{text:d,sender:"user"}]),f(""),setTimeout(()=>{c(G=>[...G,{text:"I'm here to help you with your studies! What would you like to know?",sender:"ai"}])},300))},p=()=>{!b.title||!b.type||(v([...g,{id:Date.now(),...b}]),S({type:"",title:"",url:"",file:null}),C(!1))},k=G=>{v(g.filter(De=>De.id!==G))},O=G=>{const De=_.find(q=>q.id===G),Ae=De?De.icon:Ow;return x.jsx(Ae,{size:20,className:"text-blue-500"})},R=()=>{T(UI()),P("/")},re=G=>{r(G)};return x.jsxs("div",{className:"flex min-h-screen bg-boxbg",children:[x.jsxs("div",{className:`${t?"w-64":"w-20"} bg-sidebar shadow-lg transition-all duration-300 relative`,children:[x.jsx("button",{onClick:()=>e(!t),className:"absolute -right-3 top-4 bg-white rounded-full p-1 shadow-md",children:t?x.jsx(pj,{size:20}):x.jsx(lj,{size:20})}),x.jsxs("div",{className:"flex items-center p-4 border-b",children:[x.jsx("img",{src:"src/assets/logo.png",alt:"Sehpaathi Logo",className:"w-8 h-8 object-contain"}),t&&x.jsx("span",{className:"ml-2 font-bold text-xl",children:"Sehpaathi"})]}),x.jsx("nav",{className:"p-4",children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("button",{onClick:()=>re("dashboard"),className:`flex items-center w-full p-3 rounded-lg ${n==="dashboard"?"bg-neutral-50 text-neutral-500":"hover:bg-gray-100 transition-colors"}`,children:[x.jsx(sj,{size:20}),t&&x.jsx("span",{className:"ml-3",children:"Dashboard"})]}),x.jsxs("button",{onClick:()=>re("sehpaathi"),className:`flex items-center w-full p-3 rounded-lg ${n==="sehpaathi"?"bg-neutral-50 text-neutral-500":"hover:bg-gray-100 transition-colors"}`,children:[x.jsx(Dw,{size:20}),t&&x.jsx("span",{className:"ml-3",children:"Sehpaathi Alive"})]}),x.jsxs("button",{onClick:()=>re("materials"),className:`flex items-center w-full p-3 rounded-lg ${n==="materials"?"bg-neutral-50 text-neutral-500":"hover:bg-gray-100 transition-colors"}`,children:[x.jsx(Nw,{size:20}),t&&x.jsx("span",{className:"ml-3",children:"Study Materials"})]}),x.jsxs("button",{onClick:()=>re("resources"),className:`flex items-center w-full p-3 rounded-lg ${n==="resources"?"bg-neutral-50 text-neutral-500":"hover:bg-gray-100 transition-colors"}`,children:[x.jsx(bw,{size:20}),t&&x.jsx("span",{className:"ml-3",children:"Your Resources"})]})]})}),x.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t",children:x.jsxs("button",{className:"flex items-center w-full p-3 rounded-lg hover:bg-red-50 text-red-600 transition-colors",onClick:R,children:[x.jsx(aj,{size:20}),t&&x.jsx("span",{className:"ml-3",children:"Logout"})]})})]}),x.jsxs("div",{className:"flex-1 p-8",children:[x.jsxs("div",{className:"mb-8",children:[x.jsxs("h1",{className:"text-3xl font-bold text-gray-800",children:["Swagatam ",y,"!"]}),x.jsx("p",{className:"text-gray-600 mt-2",children:"Your personalized learning companion at MITS, Gwalior"})]}),x.jsxs("div",{className:"relative mb-8",children:[x.jsx("input",{type:"text",placeholder:"Search for study materials, ask questions...",className:"w-full p-4 pl-12 rounded-lg border focus:outline-none bg-searchbg focus:ring-2 focus:ring-neutral-400"}),x.jsx(hj,{className:"absolute left-4 top-4 text-gray-400",size:20})]}),n==="dashboard"&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[x.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[x.jsx(Dw,{size:32}),x.jsx("h3",{className:"text-xl font-bold mt-4",children:"Sehpaathi Alive"}),x.jsx("p",{className:"mt-2 opacity-90",children:"Get instant help with homework, assignments, and exam preparation"}),x.jsx("button",{onClick:()=>re("sehpaathi"),className:"mt-4 bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-blue-100 transition-colors",children:"Start Conversation"})]}),x.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[x.jsx(Nw,{size:32}),x.jsx("h3",{className:"text-xl font-bold mt-4",children:"Study Materials"}),x.jsx("p",{className:"mt-2 opacity-90",children:"Access course materials, notes, and previous year papers"}),x.jsx("button",{onClick:()=>re("materials"),className:"mt-4 bg-white text-purple-600 px-4 py-2 rounded-lg font-medium hover:bg-purple-100 transition-colors",children:"Browse Materials"})]}),x.jsxs("div",{className:"bg-gradient-to-r from-magenta-500 to-magenta-600 rounded-xl p-6 text-white",children:[x.jsx(bw,{size:32}),x.jsx("h3",{className:"text-xl font-bold mt-4",children:"Your Resources"}),x.jsx("p",{className:"mt-2 opacity-90",children:"Organise your bookmarks, notes, tools, blocks, projects, media"}),x.jsx("button",{onClick:()=>re("resources"),className:"mt-4 bg-white text-magenta-600 px-4 py-2 rounded-lg font-medium hover:bg-magenta-100 transition-colors",children:"Manage Resources"})]})]})}),n==="sehpaathi"&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-8",children:[x.jsx("h2",{className:"text-xl font-bold mb-4",children:"Sehpaathi Alive!"}),x.jsx("div",{className:"h-96 border rounded-lg p-4 mb-4 overflow-y-auto",children:u.map((G,De)=>x.jsx("div",{className:`mb-4 ${G.sender==="user"?"text-right":"text-left"}`,children:x.jsx("div",{className:`inline-block p-3 rounded-lg ${G.sender==="user"?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:G.text})},De))}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:d,onChange:G=>f(G.target.value),placeholder:"Ask anything about your studies...",className:"flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyPress:G=>G.key==="Enter"&&I()}),x.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Send"})]})]})}),n==="resources"&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-8",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-bold",children:"Your Resources"}),x.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[x.jsx(dj,{size:16})," Add Resource"]})]}),x.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(G=>x.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[O(G.type),x.jsxs("div",{children:[x.jsx("h3",{className:"font-medium",children:G.title}),x.jsx("p",{className:"text-sm text-gray-500 capitalize",children:G.type})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:()=>{},children:x.jsx(cj,{size:16,className:"text-gray-500"})}),x.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:()=>k(G.id),children:x.jsx(fj,{size:16,className:"text-red-500"})})]})]})},G.id))}),E&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[x.jsx("h3",{className:"text-xl font-bold mb-4",children:"Add New Resource"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("select",{className:"w-full p-2 border rounded-lg",value:b.type,onChange:G=>S({...b,type:G.target.value}),children:[x.jsx("option",{value:"",children:"Select resource type"}),_.map(G=>x.jsx("option",{value:G.id,children:G.label},G.id))]}),x.jsx("input",{type:"text",placeholder:"Title",className:"w-full p-2 border rounded-lg",value:b.title,onChange:G=>S({...b,title:G.target.value})}),(b.type==="bookmark"||b.type==="video")&&x.jsx("input",{type:"url",placeholder:"URL",className:"w-full p-2 border rounded-lg",value:b.url,onChange:G=>S({...b,url:G.target.value})}),(b.type==="media"||b.type==="note")&&x.jsx("input",{type:"file",className:"w-full p-2 border rounded-lg",onChange:G=>S({...b,file:G.target.files[0]})}),x.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[x.jsx("button",{className:"px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",onClick:()=>C(!1),children:"Cancel"}),x.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",onClick:p,children:"Add Resource"})]})]})]})})]})}),n==="materials"&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[x.jsx("h2",{className:"text-xl font-bold mb-4",children:"Browse Study Materials"}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[x.jsxs("select",{className:"p-2 border rounded-lg",onChange:G=>s(G.target.value),children:[x.jsx("option",{value:"",children:"Select Branch"}),A.map(G=>x.jsx("option",{value:G.id,children:G.name},G.id))]}),x.jsxs("select",{className:"p-2 border rounded-lg",onChange:G=>a(G.target.value),children:[x.jsx("option",{value:"",children:"Select Semester"}),D.map(G=>x.jsx("option",{value:G.id,children:G.name},G.id))]})]}),x.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:V.map((G,De)=>x.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:[x.jsx(rj,{size:20,className:"text-blue-500 mb-2"}),x.jsx("h3",{className:"font-medium",children:G})]},De))})]})})]})]})},yj=({element:t})=>Ag(k4)?t:x.jsx(Ex,{to:"/signin",replace:!0}),vj=Px(Up(x.jsxs(ns,{path:"/",element:x.jsx(JF,{}),children:[x.jsx(ns,{path:"",element:x.jsx(qx,{})}),x.jsx(ns,{path:"/signup",element:x.jsx(QF,{})}),x.jsx(ns,{path:"/signin",element:x.jsx(XF,{})}),x.jsx(ns,{path:"/about",element:x.jsx(YF,{})}),x.jsx(ns,{path:"/dashboard",element:x.jsx(yj,{element:x.jsx(gj,{})})})]})));Wf.createRoot(document.getElementById("root")).render(x.jsx(xm.StrictMode,{children:x.jsx(pP,{store:P4,children:x.jsx(jx,{router:vj})})}));
